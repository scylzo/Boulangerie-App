(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Cw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cm={exports:{}},zl={};var k_;function Iw(){if(k_)return zl;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var U_;function Nw(){return U_||(U_=1,cm.exports=Iw()),cm.exports}var _=Nw(),hm={exports:{}},Ae={};var z_;function Dw(){if(z_)return Ae;z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,H={};function ie(M,te,oe){this.props=M,this.context=te,this.refs=H,this.updater=oe||Y}ie.prototype.isReactComponent={},ie.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},ie.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=ie.prototype;function K(M,te,oe){this.props=M,this.context=te,this.refs=H,this.updater=oe||Y}var re=K.prototype=new $;re.constructor=K,Q(re,ie.prototype),re.isPureReactComponent=!0;var ce=Array.isArray;function _e(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(M,te,oe){var he=oe.ref;return{$$typeof:r,type:M,key:te,ref:he!==void 0?he:null,props:oe}}function V(M,te){return R(M.type,te,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function j(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return te[oe]})}var I=/\/+/g;function rt(M,te){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):te.toString(36)}function Ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(_e,_e):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function J(M,te,oe,he,Te){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case r:case e:je=!0;break;case T:return je=M._init,J(je(M._payload),te,oe,he,Te)}}if(je)return Te=Te(M),je=he===""?"."+rt(M,0):he,ce(Te)?(oe="",je!=null&&(oe=je.replace(I,"$&/")+"/"),J(Te,te,oe,"",function(Ts){return Ts})):Te!=null&&(D(Te)&&(Te=V(Te,oe+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+je)),te.push(Te)),1;je=0;var Mt=he===""?".":he+":";if(ce(M))for(var st=0;st<M.length;st++)he=M[st],Re=Mt+rt(he,st),je+=J(he,te,oe,Re,Te);else if(st=P(M),typeof st=="function")for(M=st.call(M),st=0;!(he=M.next()).done;)he=he.value,Re=Mt+rt(he,st++),je+=J(he,te,oe,Re,Te);else if(Re==="object"){if(typeof M.then=="function")return J(Ot(M),te,oe,he,Te);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return je}function ae(M,te,oe){if(M==null)return M;var he=[],Te=0;return J(M,he,"","",function(Re){return te.call(oe,Re,Te++)}),he}function ge(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ae,forEach:function(M,te,oe){ae(M,function(){te.apply(this,arguments)},oe)},count:function(M){var te=0;return ae(M,function(){te++}),te},toArray:function(M){return ae(M,function(te){return te})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=b,Ae.Children=Ge,Ae.Component=ie,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=K,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,te,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=Q({},M.props),Te=M.key;if(te!=null)for(Re in te.key!==void 0&&(Te=""+te.key),te)!x.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(he[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)he.children=oe;else if(1<Re){for(var je=Array(Re),Mt=0;Mt<Re;Mt++)je[Mt]=arguments[Mt+2];he.children=je}return R(M.type,Te,he)},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,te,oe){var he,Te={},Re=null;if(te!=null)for(he in te.key!==void 0&&(Re=""+te.key),te)x.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var je=arguments.length-2;if(je===1)Te.children=oe;else if(1<je){for(var Mt=Array(je),st=0;st<je;st++)Mt[st]=arguments[st+2];Te.children=Mt}if(M&&M.defaultProps)for(he in je=M.defaultProps,je)Te[he]===void 0&&(Te[he]=je[he]);return R(M,Re,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=D,Ae.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ge}},Ae.memo=function(M,te){return{$$typeof:p,type:M,compare:te===void 0?null:te}},Ae.startTransition=function(M){var te=C.T,oe={};C.T=oe;try{var he=M(),Te=C.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(_e,Ue)}catch(Re){Ue(Re)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),C.T=te}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(M){return C.H.use(M)},Ae.useActionState=function(M,te,oe){return C.H.useActionState(M,te,oe)},Ae.useCallback=function(M,te){return C.H.useCallback(M,te)},Ae.useContext=function(M){return C.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,te){return C.H.useDeferredValue(M,te)},Ae.useEffect=function(M,te){return C.H.useEffect(M,te)},Ae.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(M,te,oe){return C.H.useImperativeHandle(M,te,oe)},Ae.useInsertionEffect=function(M,te){return C.H.useInsertionEffect(M,te)},Ae.useLayoutEffect=function(M,te){return C.H.useLayoutEffect(M,te)},Ae.useMemo=function(M,te){return C.H.useMemo(M,te)},Ae.useOptimistic=function(M,te){return C.H.useOptimistic(M,te)},Ae.useReducer=function(M,te,oe){return C.H.useReducer(M,te,oe)},Ae.useRef=function(M){return C.H.useRef(M)},Ae.useState=function(M){return C.H.useState(M)},Ae.useSyncExternalStore=function(M,te,oe){return C.H.useSyncExternalStore(M,te,oe)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.0",Ae}var q_;function cp(){return q_||(q_=1,hm.exports=Dw()),hm.exports}var G=cp();const Xc=Cw(G);var fm={exports:{}},ql={},dm={exports:{}},mm={};var B_;function Ow(){return B_||(B_=1,(function(r){function e(J,ae){var ge=J.length;J.push(ae);e:for(;0<ge;){var Ue=ge-1>>>1,Ge=J[Ue];if(0<o(Ge,ae))J[Ue]=ae,J[ge]=Ge,ge=Ue;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],ge=J.pop();if(ge!==ae){J[0]=ge;e:for(var Ue=0,Ge=J.length,M=Ge>>>1;Ue<M;){var te=2*(Ue+1)-1,oe=J[te],he=te+1,Te=J[he];if(0>o(oe,ge))he<Ge&&0>o(Te,oe)?(J[Ue]=Te,J[he]=ge,Ue=he):(J[Ue]=oe,J[te]=ge,Ue=te);else if(he<Ge&&0>o(Te,ge))J[Ue]=Te,J[he]=ge,Ue=he;else break e}}return ae}function o(J,ae){var ge=J.sortIndex-ae.sortIndex;return ge!==0?ge:J.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],T=1,b=null,w=3,P=!1,Y=!1,Q=!1,H=!1,ie=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=J)s(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function ce(J){if(Q=!1,re(J),!Y)if(n(g)!==null)Y=!0,_e||(_e=!0,j());else{var ae=n(p);ae!==null&&Ot(ce,ae.startTime-J)}}var _e=!1,C=-1,x=5,R=-1;function V(){return H?!0:!(r.unstable_now()-R<x)}function D(){if(H=!1,_e){var J=r.unstable_now();R=J;var ae=!0;try{e:{Y=!1,Q&&(Q=!1,$(C),C=-1),P=!0;var ge=w;try{t:{for(re(J),b=n(g);b!==null&&!(b.expirationTime>J&&V());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,w=b.priorityLevel;var Ge=Ue(b.expirationTime<=J);if(J=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,re(J),ae=!0;break t}b===n(g)&&s(g),re(J)}else s(g);b=n(g)}if(b!==null)ae=!0;else{var M=n(p);M!==null&&Ot(ce,M.startTime-J),ae=!1}}break e}finally{b=null,w=ge,P=!1}ae=void 0}}finally{ae?j():_e=!1}}}var j;if(typeof K=="function")j=function(){K(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=D,j=function(){rt.postMessage(null)}}else j=function(){ie(D,0)};function Ot(J,ae){C=ie(function(){J(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ge=w;w=ae;try{return J()}finally{w=ge}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=w;w=J;try{return ae()}finally{w=ge}},r.unstable_scheduleCallback=function(J,ae,ge){var Ue=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ue+ge:Ue):ge=Ue,J){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ge+Ge,J={id:T++,callback:ae,priorityLevel:J,startTime:ge,expirationTime:Ge,sortIndex:-1},ge>Ue?(J.sortIndex=ge,e(p,J),n(g)===null&&J===n(p)&&(Q?($(C),C=-1):Q=!0,Ot(ce,ge-Ue))):(J.sortIndex=Ge,e(g,J),Y||P||(Y=!0,_e||(_e=!0,j()))),J},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(J){var ae=w;return function(){var ge=w;w=ae;try{return J.apply(this,arguments)}finally{w=ge}}}})(mm)),mm}var H_;function Mw(){return H_||(H_=1,dm.exports=Ow()),dm.exports}var pm={exports:{}},Zt={};var F_;function Vw(){if(F_)return Zt;F_=1;var r=cp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},Zt.flushSync=function(g){var p=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=T,s.d.f()}},Zt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:P}):T==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Zt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin);s.d.L(g,T,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zt.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,p){return g(p)},Zt.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var G_;function Pw(){if(G_)return pm.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=Vw(),pm.exports}var Q_;function Lw(){if(Q_)return ql;Q_=1;var r=Mw(),e=cp(),n=Pw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,l=d;break}if(A===l){v=!0,l=f,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=f;break}if(A===l){v=!0,l=d,a=f;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),K=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case ie:return"Profiler";case H:return"StrictMode";case ce:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case K:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Ot=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function M(t){return{current:t}}function te(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function oe(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var he=M(null),Te=M(null),Re=M(null),je=M(null);function Mt(t,i){switch(oe(Re,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=o_(i),t=l_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),oe(he,t)}function st(){te(he),te(Te),te(Re)}function Ts(t){t.memoizedState!==null&&oe(je,t);var i=he.current,a=l_(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function fa(t){Te.current===t&&(te(he),te(Te)),je.current===t&&(te(je),Ll._currentValue=ge)}var da,ma;function ci(t){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var Lo=!1;function bs(t,i){if(!t||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var q=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){q=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){q=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var N=v.split(`
`),z=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===z.length)for(l=N.length-1,f=z.length-1;1<=l&&0<=f&&N[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==z[f]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function jo(t,i){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==i&&i!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return ci("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=jo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,br=r.unstable_cancelCallback,ff=r.unstable_shouldYield,Tu=r.unstable_requestPaint,rn=r.unstable_now,As=r.unstable_getCurrentPriorityLevel,Uo=r.unstable_ImmediatePriority,zo=r.unstable_UserBlockingPriority,Ar=r.unstable_NormalPriority,df=r.unstable_LowPriority,bu=r.unstable_IdlePriority,Au=r.log,Su=r.unstable_setDisableYieldValue,Qn=null,Bt=null;function Cn(t){if(typeof Au=="function"&&Su(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Qn,t)}catch{}}var mt=Math.clz32?Math.clz32:xu,wu=Math.log,pa=Math.LN2;function xu(t){return t>>>=0,t===0?32:31-(wu(t)/pa|0)|0}var hi=256,Ss=262144,Et=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=fi(l):(v&=A,v!==0?f=fi(v):a||(a=A&~t,a!==0&&(f=fi(a))))):(A=l&~d,A!==0?f=fi(A):v!==0?f=fi(v):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function mf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ws(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pf(t,i,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-mt(a),W=1<<X;A[X]=0,N[X]=-1;var q=z[X];if(q!==null)for(z[X]=null,X=0;X<q.length;X++){var F=q[X];F!==null&&(F.lane&=-536870913)}a&=~W}l!==0&&xs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function xs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function qo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function Yn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var $n=Math.random().toString(36).slice(2),Tt="__reactFiber$"+$n,jt="__reactProps$"+$n,pi="__reactContainer$"+$n,ga="__reactEvents$"+$n,gf="__reactListeners$"+$n,Iu="__reactHandles$"+$n,Nu="__reactResources$"+$n,gi="__reactMarker$"+$n;function ya(t){delete t[Tt],delete t[jt],delete t[ga],delete t[gf],delete t[Iu]}function yi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=p_(t);t!==null;){if(a=t[Tt])return a;t=p_(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[gi]=!0}var Ho=new Set,Fo={};function _i(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Fo[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Ko={};function Du(t){return _t.call(Ko,t)?!0:_t.call(Qo,t)?!1:Go.test(t)?Ko[t]=!0:(Qo[t]=!0,!1)}function va(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Sr(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function Cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Is=/[\n"\\]/g;function ln(t){return t.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,f,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$o(t,v,kt(i)):a!=null?$o(t,v,kt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+kt(A):t.removeAttribute("name")}function Ou(t,i,a,l,f,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function $o(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Mu(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function xr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Vu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Xo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Zo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,bi=null;function Ns(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cs(l)}break e;case"textarea":Mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wr(t,!!a.multiple,i,!1)}}}var ba=!1;function Ir(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(Cr!==null||bi!==null)&&(Cc(),Cr&&(i=Cr,t=bi,bi=Cr=null,Ns(i),t)))for(i=0;i<t.length;i++)Ns(t[i])}}function Jn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(Dn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ds=!1}var Ai=null,Wo=null,Os=null;function el(){if(Os)return Os;var t,i=Wo,a=i.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Os=f.slice(t,1<l?1-l:void 0)}function Ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Zn(){return!1}function Ht(t){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Zn,this.isPropagationStopped=Zn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ht(Gi),Nr=b({},Gi,{view:0,detail:0}),tl=Ht(Nr),Dr,Aa,wi,Sa=b({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Dr=t.screenX-wi.screenX,Aa=t.screenY-wi.screenY):Aa=Dr=0,wi=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),nl=Ht(Sa),Vs=b({},Sa,{dataTransfer:0}),Lu=Ht(Vs),ju=b({},Nr,{relatedTarget:0}),Ps=Ht(ju),il=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=Ht(il),wa=b({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=Ht(wa),zu=b({},Gi,{data:0}),xi=Ht(zu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function Or(){return Fu}var sn=b({},Nr,{key:function(t){if(t.key){var i=qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=Ht(sn),Qu=b({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ht(Qu),c=b({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Ht(c),E=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(E),k=b({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ht(k),se=b({},Gi,{newState:0,oldState:0}),we=Ht(se),pt=[9,13,27,32],Be=Dn&&"CompositionEvent"in window,at=null;Dn&&"documentMode"in document&&(at=document.documentMode);var On=Dn&&"TextEvent"in window&&!at,Ri=Dn&&(!Be||at&&8<at&&11>=at),Wn=" ",ei=!1;function Ls(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function ZA(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(ei=!0,Wn);case"textInput":return t=i.data,t===Wn&&ei?null:t;default:return null}}function WA(t,i){if(Ra)return t==="compositionend"||!Be&&Ls(t,i)?(t=el(),Os=Wo=Ai=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!eS[t.type]:i==="textarea"}function _g(t,i,a,l){Cr?bi?bi.push(l):bi=[l]:Cr=l,i=Pc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rl=null,sl=null;function tS(t){t_(t,0)}function Ku(t){var i=yn(t);if(Cs(i))return t}function Eg(t,i){if(t==="change")return i}var Tg=!1;if(Dn){var yf;if(Dn){var vf="oninput"in document;if(!vf){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),vf=typeof bg.oninput=="function"}yf=vf}else yf=!1;Tg=yf&&(!document.documentMode||9<document.documentMode)}function Ag(){rl&&(rl.detachEvent("onpropertychange",Sg),sl=rl=null)}function Sg(t){if(t.propertyName==="value"&&Ku(sl)){var i=[];_g(i,sl,t,Nn(t)),Ir(tS,i)}}function nS(t,i,a){t==="focusin"?(Ag(),rl=i,sl=a,rl.attachEvent("onpropertychange",Sg)):t==="focusout"&&Ag()}function iS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(sl)}function rS(t,i){if(t==="click")return Ku(i)}function sS(t,i){if(t==="input"||t==="change")return Ku(i)}function aS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:aS;function al(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,i){var a=wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Rg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Rg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function _f(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var oS=Dn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Ef=null,ol=null,Tf=!1;function Ig(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Ca==null||Ca!==Ti(l)||(l=Ca,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Pc(Ef,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function js(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},bf={},Ng={};Dn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ks(t){if(bf[t])return bf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ng)return bf[t]=i[a];return t}var Dg=ks("animationend"),Og=ks("animationiteration"),Mg=ks("animationstart"),lS=ks("transitionrun"),uS=ks("transitionstart"),cS=ks("transitioncancel"),Vg=ks("transitionend"),Pg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ti(t,i){Pg.set(t,i),_i(i,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Na=0,Sf=0;function $u(){for(var t=Na,i=Sf=Na=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Lg(a,f,d)}}function Xu(t,i,a,l){Mn[Na++]=t,Mn[Na++]=i,Mn[Na++]=a,Mn[Na++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,a,l){return Xu(t,i,a,l),Ju(t)}function Us(t,i){return Xu(t,null,null,i),Ju(t)}function Lg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(t){if(50<Il)throw Il=0,Vd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function hS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new hS(t,i,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,f,d){var v=0;if(l=t,typeof t=="function")xf(t)&&(v=1);else if(typeof t=="string")v=gw(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,i,f),t.elementType=R,t.lanes=d,t;case Q:return zs(a.children,f,d,i);case H:v=8,f|=24;break;case ie:return t=En(12,a,i,f|2),t.elementType=ie,t.lanes=d,t;case ce:return t=En(13,a,i,f),t.elementType=ce,t.lanes=d,t;case _e:return t=En(19,a,i,f),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:v=10;break e;case $:v=9;break e;case re:v=11;break e;case C:v=14;break e;case x:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(v,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function Rf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function kg(t){var i=En(18,null,null,0);return i.stateNode=t,i}function Cf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ug=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},Ug.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var Oa=[],Ma=0,Wu=null,ll=0,Pn=[],Ln=0,Mr=null,Ci=1,Ii="";function Yi(t,i){Oa[Ma++]=ll,Oa[Ma++]=Wu,Wu=t,ll=i}function zg(t,i,a){Pn[Ln++]=Ci,Pn[Ln++]=Ii,Pn[Ln++]=Mr,Mr=t;var l=Ci;t=Ii;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ci=1<<32-mt(i)+f|a<<f|l,Ii=d+t}else Ci=1<<d|a<<f|l,Ii=t}function If(t){t.return!==null&&(Yi(t,1),zg(t,1,0))}function Nf(t){for(;t===Wu;)Wu=Oa[--Ma],Oa[Ma]=null,ll=Oa[--Ma],Oa[Ma]=null;for(;t===Mr;)Mr=Pn[--Ln],Pn[Ln]=null,Ii=Pn[--Ln],Pn[Ln]=null,Ci=Pn[--Ln],Pn[Ln]=null}function qg(t,i){Pn[Ln++]=Ci,Pn[Ln++]=Ii,Pn[Ln++]=Mr,Ci=i.id,Ii=i.overflow,Mr=t}var Ft=null,tt=null,Le=!1,Vr=null,jn=!1,Df=Error(s(519));function Pr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Vn(i,t)),Df}function Bg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[jt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ne(Dl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Ou(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),xr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||s_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||Pr(t,!0)}function Hg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ft=Ft.return}}function Va(t){if(t!==Ft)return!1;if(!Le)return Hg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&tt&&Pr(t),Hg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=m_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=m_(t)}else i===27?(i=tt,$r(t.type)?(t=em,em=null,tt=t):tt=i):tt=Ft?Un(t.stateNode.nextSibling):null;return!0}function qs(){tt=Ft=null,Le=!1}function Of(){var t=Vr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Vr=null),t}function ul(t){Vr===null?Vr=[t]:Vr.push(t)}var Mf=M(null),Bs=null,$i=null;function Lr(t,i,a){oe(Mf,i._currentValue),i._currentValue=a}function Xi(t){t._currentValue=Mf.current,te(Mf)}function Vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Pf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var N=0;N<i.length;N++)if(A.context===i[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Vf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Vf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Pa(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=f.type;_n(f.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(f===je.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}f=f.return}t!==null&&Pf(i,t,a,l),i.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){Bs=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Fg(Bs,t)}function tc(t,i){return Bs===null&&Hs(t),Fg(t,i)}function Fg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var fS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},dS=r.unstable_scheduleCallback,mS=r.unstable_NormalPriority,St={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new fS,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&dS(mS,function(){t.controller.abort()})}var hl=null,jf=0,La=0,ja=null;function pS(t,i){if(hl===null){var a=hl=[];jf=0,La=zd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,i.then(Gg,Gg),i}function Gg(){if(--jf===0&&hl!==null){ja!==null&&(ja.status="fulfilled");var t=hl;hl=null,La=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function gS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Qg=J.S;J.S=function(t,i){Iv=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pS(t,i),Qg!==null&&Qg(t,i)};var Fs=M(null);function kf(){var t=Fs.current;return t!==null?t:We.pooledCache}function nc(t,i){i===null?oe(Fs,Fs.current):oe(Fs,i.pool)}function Kg(){var t=kf();return t===null?null:{parent:St._currentValue,pool:t}}var ka=Error(s(460)),Uf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t}throw Qs=i,ka}}function Gs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,ka):a}}var Qs=null;function Xg(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function Jg(t){if(t===ka||t===ic)throw Error(s(483))}var Ua=null,fl=0;function sc(t){var i=fl;return fl+=1,Ua===null&&(Ua=[]),$g(Ua,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Zg(t){function i(L,O){if(t){var U=L.deletions;U===null?(L.deletions=[O],L.flags|=16):U.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Ki(L,O),L.index=0,L.sibling=null,L}function d(L,O,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<O?(L.flags|=67108866,O):U):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function A(L,O,U,Z){return O===null||O.tag!==6?(O=Rf(U,L.mode,Z),O.return=L,O):(O=f(O,U),O.return=L,O)}function N(L,O,U,Z){var me=U.type;return me===Q?X(L,O,U.props.children,Z,U.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&Gs(me)===O.type)?(O=f(O,U.props),dl(O,U),O.return=L,O):(O=Zu(U.type,U.key,U.props,null,L.mode,Z),dl(O,U),O.return=L,O)}function z(L,O,U,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Cf(U,L.mode,Z),O.return=L,O):(O=f(O,U.children||[]),O.return=L,O)}function X(L,O,U,Z,me){return O===null||O.tag!==7?(O=zs(U,L.mode,Z,me),O.return=L,O):(O=f(O,U),O.return=L,O)}function W(L,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Rf(""+O,L.mode,U),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return U=Zu(O.type,O.key,O.props,null,L.mode,U),dl(U,O),U.return=L,U;case Y:return O=Cf(O,L.mode,U),O.return=L,O;case x:return O=Gs(O),W(L,O,U)}if(Ot(O)||j(O))return O=zs(O,L.mode,U,null),O.return=L,O;if(typeof O.then=="function")return W(L,sc(O),U);if(O.$$typeof===K)return W(L,tc(L,O),U);ac(L,O)}return null}function q(L,O,U,Z){var me=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:A(L,O,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===me?N(L,O,U,Z):null;case Y:return U.key===me?z(L,O,U,Z):null;case x:return U=Gs(U),q(L,O,U,Z)}if(Ot(U)||j(U))return me!==null?null:X(L,O,U,Z,null);if(typeof U.then=="function")return q(L,O,sc(U),Z);if(U.$$typeof===K)return q(L,O,tc(L,U),Z);ac(L,U)}return null}function F(L,O,U,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(U)||null,A(O,L,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return L=L.get(Z.key===null?U:Z.key)||null,N(O,L,Z,me);case Y:return L=L.get(Z.key===null?U:Z.key)||null,z(O,L,Z,me);case x:return Z=Gs(Z),F(L,O,U,Z,me)}if(Ot(Z)||j(Z))return L=L.get(U)||null,X(O,L,Z,me,null);if(typeof Z.then=="function")return F(L,O,U,sc(Z),me);if(Z.$$typeof===K)return F(L,O,U,tc(O,Z),me);ac(O,Z)}return null}function fe(L,O,U,Z){for(var me=null,ze=null,de=O,Ce=O=0,Oe=null;de!==null&&Ce<U.length;Ce++){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var qe=q(L,de,U[Ce],Z);if(qe===null){de===null&&(de=Oe);break}t&&de&&qe.alternate===null&&i(L,de),O=d(qe,O,Ce),ze===null?me=qe:ze.sibling=qe,ze=qe,de=Oe}if(Ce===U.length)return a(L,de),Le&&Yi(L,Ce),me;if(de===null){for(;Ce<U.length;Ce++)de=W(L,U[Ce],Z),de!==null&&(O=d(de,O,Ce),ze===null?me=de:ze.sibling=de,ze=de);return Le&&Yi(L,Ce),me}for(de=l(de);Ce<U.length;Ce++)Oe=F(de,L,Ce,U[Ce],Z),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ce:Oe.key),O=d(Oe,O,Ce),ze===null?me=Oe:ze.sibling=Oe,ze=Oe);return t&&de.forEach(function(es){return i(L,es)}),Le&&Yi(L,Ce),me}function ye(L,O,U,Z){if(U==null)throw Error(s(151));for(var me=null,ze=null,de=O,Ce=O=0,Oe=null,qe=U.next();de!==null&&!qe.done;Ce++,qe=U.next()){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var es=q(L,de,qe.value,Z);if(es===null){de===null&&(de=Oe);break}t&&de&&es.alternate===null&&i(L,de),O=d(es,O,Ce),ze===null?me=es:ze.sibling=es,ze=es,de=Oe}if(qe.done)return a(L,de),Le&&Yi(L,Ce),me;if(de===null){for(;!qe.done;Ce++,qe=U.next())qe=W(L,qe.value,Z),qe!==null&&(O=d(qe,O,Ce),ze===null?me=qe:ze.sibling=qe,ze=qe);return Le&&Yi(L,Ce),me}for(de=l(de);!qe.done;Ce++,qe=U.next())qe=F(de,L,Ce,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?Ce:qe.key),O=d(qe,O,Ce),ze===null?me=qe:ze.sibling=qe,ze=qe);return t&&de.forEach(function(Rw){return i(L,Rw)}),Le&&Yi(L,Ce),me}function Ze(L,O,U,Z){if(typeof U=="object"&&U!==null&&U.type===Q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var me=U.key;O!==null;){if(O.key===me){if(me=U.type,me===Q){if(O.tag===7){a(L,O.sibling),Z=f(O,U.props.children),Z.return=L,L=Z;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&Gs(me)===O.type){a(L,O.sibling),Z=f(O,U.props),dl(Z,U),Z.return=L,L=Z;break e}a(L,O);break}else i(L,O);O=O.sibling}U.type===Q?(Z=zs(U.props.children,L.mode,Z,U.key),Z.return=L,L=Z):(Z=Zu(U.type,U.key,U.props,null,L.mode,Z),dl(Z,U),Z.return=L,L=Z)}return v(L);case Y:e:{for(me=U.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(L,O.sibling),Z=f(O,U.children||[]),Z.return=L,L=Z;break e}else{a(L,O);break}else i(L,O);O=O.sibling}Z=Cf(U,L.mode,Z),Z.return=L,L=Z}return v(L);case x:return U=Gs(U),Ze(L,O,U,Z)}if(Ot(U))return fe(L,O,U,Z);if(j(U)){if(me=j(U),typeof me!="function")throw Error(s(150));return U=me.call(U),ye(L,O,U,Z)}if(typeof U.then=="function")return Ze(L,O,sc(U),Z);if(U.$$typeof===K)return Ze(L,O,tc(L,U),Z);ac(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(L,O.sibling),Z=f(O,U),Z.return=L,L=Z):(a(L,O),Z=Rf(U,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,O)}return function(L,O,U,Z){try{fl=0;var me=Ze(L,O,U,Z);return Ua=null,me}catch(de){if(de===ka||de===ic)throw de;var ze=En(29,de,null,L.mode);return ze.lanes=Z,ze.return=L,ze}finally{}}}var Ks=Zg(!0),Wg=Zg(!1),jr=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Ju(t),Lg(t,null,a),i}return Xu(t,l,i,a),Ju(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,qo(t,a)}}function Bf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Hf=!1;function pl(){if(Hf){var t=ja;if(t!==null)throw t}}function gl(t,i,a,l){Hf=!1;var f=t.updateQueue;jr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,z=N.next;N.next=null,v===null?d=z:v.next=z,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=z:A.next=z,X.lastBaseUpdate=N))}if(d!==null){var W=f.baseState;v=0,X=z=N=null,A=d;do{var q=A.lane&-536870913,F=q!==A.lane;if(F?(De&q)===q:(l&q)===q){q!==0&&q===La&&(Hf=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=t,ye=A;q=i;var Ze=a;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){W=fe.call(Ze,W,q);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,q=typeof fe=="function"?fe.call(Ze,W,q):fe,q==null)break e;W=b({},W,q);break e;case 2:jr=!0}}q=A.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=f.callbacks,F===null?f.callbacks=[q]:F.push(q))}else F={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(z=X=F,N=W):X=X.next=F,v|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;F=A,A=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);X===null&&(N=W),f.baseState=N,f.firstBaseUpdate=z,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Fr|=v,t.lanes=v,t.memoizedState=W}}function ey(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ty(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],i)}var za=M(null),oc=M(0);function ny(t,i){t=sr,oe(oc,t),oe(za,i),sr=t|i.baseLanes}function Ff(){oe(oc,sr),oe(za,za.current)}function Gf(){sr=oc.current,te(za),te(oc)}var Tn=M(null),kn=null;function zr(t){var i=t.alternate;oe(gt,gt.current&1),oe(Tn,t),kn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(kn=t)}function Qf(t){oe(gt,gt.current),oe(Tn,t),kn===null&&(kn=t)}function iy(t){t.tag===22?(oe(gt,gt.current),oe(Tn,t),kn===null&&(kn=t)):qr()}function qr(){oe(gt,gt.current),oe(Tn,Tn.current)}function bn(t){te(Tn),kn===t&&(kn=null),te(gt)}var gt=M(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||Wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,xe=null,Xe=null,wt=null,uc=!1,qa=!1,Ys=!1,cc=0,yl=0,Ba=null,yS=0;function ft(){throw Error(s(321))}function Kf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Yf(t,i,a,l,f,d){return Ji=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?zy:ud,Ys=!1,d=a(l,f),Ys=!1,qa&&(d=sy(i,a,l,f)),ry(t),d}function ry(t){J.H=El;var i=Xe!==null&&Xe.next!==null;if(Ji=0,wt=Xe=xe=null,uc=!1,yl=0,Ba=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&ec(t)&&(xt=!0))}function sy(t,i,a,l){xe=t;var f=0;do{if(qa&&(Ba=null),yl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=qy,d=i(a,l)}while(qa);return d}function vS(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?vl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function $f(){var t=cc!==0;return cc=0,t}function Xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}Ji=0,wt=Xe=xe=null,qa=!1,yl=cc=0,Ba=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?xe.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=wt===null?xe.memoizedState:wt.next;if(i!==null)wt=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?xe.memoizedState=wt=t:wt=wt.next=t}return wt}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var i=yl;return yl+=1,Ba===null&&(Ba=[]),t=$g(Ba,t,i),i=xe,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?zy:ud),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===K)return Gt(t)}throw Error(s(438,String(t)))}function Zf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=yt();return Wf(i,Xe,t)}function Wf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var A=v=null,N=null,z=i,X=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(De&W)===W:(Ji&W)===W){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===La&&(X=!0);else if((Ji&q)===q){z=z.next,q===La&&(X=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(A=N=W,v=d):N=N.next=W,xe.lanes|=q,Fr|=q;W=z.action,Ys&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else q={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(A=N=q,v=d):N=N.next=q,xe.lanes|=W,Fr|=W;z=z.next}while(z!==null&&z!==i);if(N===null?v=d:N.next=A,!_n(d,t.memoizedState)&&(xt=!0,X&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);_n(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ay(t,i,a){var l=xe,f=yt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n((Xe||f).memoizedState,a);if(v&&(f.memoizedState=a,xt=!0),f=f.queue,id(uy.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},ly.bind(null,l,f,a,i),null),We===null)throw Error(s(349));d||(Ji&127)!==0||oy(l,i,a)}return a}function oy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=hc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ly(t,i,a,l){i.value=a,i.getSnapshot=l,cy(i)&&hy(t)}function uy(t,i,a){return a(function(){cy(i)&&hy(t)})}function cy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function hy(t){var i=Us(t,2);i!==null&&mn(i,t,2)}function td(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Ys){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function fy(t,i,a,l){return t.baseState=a,Wf(t,Xe,typeof l=="function"?l:Zi)}function _S(t,i,a,l,f){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,dy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function dy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=J.T,v={};J.T=v;try{var A=a(f,l),N=J.S;N!==null&&N(v,A),my(t,i,A)}catch(z){nd(t,i,z)}finally{d!==null&&v.types!==null&&(d.types=v.types),J.T=d}}else try{d=a(f,l),my(t,i,d)}catch(z){nd(t,i,z)}}function my(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){py(t,i,l)},function(l){return nd(t,i,l)}):py(t,i,a)}function py(t,i,a){i.status="fulfilled",i.value=a,gy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,dy(t,a)))}function nd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,gy(i),i=i.next;while(i!==l)}t.action=null}function gy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function yy(t,i){return i}function vy(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=xe;if(Le){if(tt){t:{for(var f=tt,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Un(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=Un(f.nextSibling),l=f.data==="F!";break e}}Pr(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:i},a.queue=l,a=jy.bind(null,xe,l),l.dispatch=a,l=td(!1),d=ld.bind(null,xe,!1,l.queue),l=an(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=_S.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function _y(t){var i=yt();return Ey(i,Xe,t)}function Ey(t,i,a){if(i=Wf(t,i,yy)[0],t=dc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(v){throw v===ka?ic:v}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,Ha(9,{destroy:void 0},ES.bind(null,f,a),null)),[l,d,t]}function ES(t,i){t.action=i}function Ty(t){var i=yt(),a=Xe;if(a!==null)return Ey(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=hc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function by(){return yt().memoizedState}function mc(t,i,a,l){var f=an();xe.flags|=t,f.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(t,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Kf(l,Xe.memoizedState.deps)?f.memoizedState=Ha(i,d,a,l):(xe.flags|=t,f.memoizedState=Ha(1|i,d,a,l))}function Ay(t,i){mc(8390656,8,t,i)}function id(t,i){pc(2048,8,t,i)}function TS(t){xe.flags|=4;var i=xe.updateQueue;if(i===null)i=hc(),xe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Sy(t){var i=yt().memoizedState;return TS({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function wy(t,i){return pc(4,2,t,i)}function xy(t,i){return pc(4,4,t,i)}function Ry(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Cy(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,Ry.bind(null,i,t),a)}function rd(){}function Iy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ny(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=t(),Ys){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function sd(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Dv(),xe.lanes|=t,Fr|=t,a)}function Dy(t,i,a,l){return _n(a,i)?a:za.current!==null?(t=sd(t,a,l),_n(t,i)||(xt=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=Dv(),xe.lanes|=t,Fr|=t,i)}function Oy(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=J.T,A={};J.T=A,ld(t,!1,i,a);try{var N=f(),z=J.S;if(z!==null&&z(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=gS(N,l);_l(t,i,X,wn(t))}else _l(t,i,l,wn(t))}catch(W){_l(t,i,{then:function(){},status:"rejected",reason:W},wn())}finally{ae.p=d,v!==null&&A.types!==null&&(v.types=A.types),J.T=v}}function bS(){}function ad(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=My(t).queue;Oy(t,f,i,ge,a===null?bS:function(){return Vy(t),a(l)})}function My(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Vy(t){var i=My(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},wn())}function od(){return Gt(Ll)}function Py(){return yt().memoizedState}function Ly(){return yt().memoizedState}function AS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=kr(a);var l=Ur(i,t,a);l!==null&&(mn(l,i,a),ml(l,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function SS(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?ky(i,a):(a=wf(t,i,a,l),a!==null&&(mn(a,t,l),Uy(a,i,l)))}function jy(t,i,a){var l=wn();_l(t,i,a,l)}function _l(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))ky(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(f.hasEagerState=!0,f.eagerState=A,_n(A,v))return Xu(t,i,f,0),We===null&&$u(),!1}catch{}finally{}if(a=wf(t,i,f,l),a!==null)return mn(a,t,l),Uy(a,i,l),!0}return!1}function ld(t,i,a,l){if(l={lane:2,revertLane:zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=wf(t,a,l,2),i!==null&&mn(i,t,2)}function gc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function ky(t,i){qa=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Uy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,qo(t,a)}}var El={readContext:Gt,use:fc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};El.useEffectEvent=ft;var zy={readContext:Gt,use:fc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Ay,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,Ry.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Ys){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var f=a(i);if(Ys){Cn(!0);try{a(i)}finally{Cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=SS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=td(t);var i=t.queue,a=jy.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=an();return sd(a,t,i)},useTransition:function(){var t=td(!1);return t=Oy.bind(null,xe,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,f=an();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(De&127)!==0||oy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ay(uy.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},ly.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=We.identifierPrefix;if(Le){var a=Ii,l=Ci;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=yS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:od,useFormState:vy,useActionState:vy,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ld.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return an().memoizedState=AS.bind(null,xe)},useEffectEvent:function(t){var i=an(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:Gt,use:fc,useCallback:Iy,useContext:Gt,useEffect:id,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:xy,useMemo:Ny,useReducer:dc,useRef:by,useState:function(){return dc(Zi)},useDebugValue:rd,useDeferredValue:function(t,i){var a=yt();return Dy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=dc(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:ay,useId:Py,useHostTransitionStatus:od,useFormState:_y,useActionState:_y,useOptimistic:function(t,i){var a=yt();return fy(a,Xe,t,i)},useMemoCache:Zf,useCacheRefresh:Ly};ud.useEffectEvent=Sy;var qy={readContext:Gt,use:fc,useCallback:Iy,useContext:Gt,useEffect:id,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:xy,useMemo:Ny,useReducer:ed,useRef:by,useState:function(){return ed(Zi)},useDebugValue:rd,useDeferredValue:function(t,i){var a=yt();return Xe===null?sd(a,t,i):Dy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ed(Zi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:ay,useId:Py,useHostTransitionStatus:od,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,i){var a=yt();return Xe!==null?fy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Ly};qy.useEffectEvent=Sy;function cd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),f=kr(l);f.payload=i,a!=null&&(f.callback=a),i=Ur(t,f,l),i!==null&&(mn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),f=kr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ur(t,f,l),i!==null&&(mn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(mn(i,t,a),ml(i,t,a))}};function By(t,i,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function Hy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&hd.enqueueReplaceState(i,i.state,null)}function $s(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Fy(t){Yu(t)}function Gy(t){console.error(t)}function Qy(t){Yu(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function Yy(t){return t=kr(t),t.tag=3,t}function $y(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ky(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ky(i,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function wS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Ic():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),jd(t,l,f)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),jd(t,l,f)),!1}throw Error(s(435,a.tag))}return jd(t,l,f),Ic(),!1}if(Le)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Df&&(t=Error(s(422),{cause:l}),ul(Vn(t,a)))):(l!==Df&&(i=Error(s(423),{cause:l}),ul(Vn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Vn(l,a),f=fd(t.stateNode,l,f),Bf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),Cl===null?Cl=[d]:Cl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=fd(a.stateNode,l,t),Bf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Yy(f),$y(f,t,a,l),Bf(a,f),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),xt=!1;function Qt(t,i,a,l){i.child=t===null?Wg(i,null,a,l):Ks(i,t.child,a,l)}function Xy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Hs(i),l=Yf(t,i,a,v,d,f),A=$f(),t!==null&&!xt?(Xf(t,i,f),Wi(t,i,f)):(Le&&A&&If(i),i.flags|=1,Qt(t,i,l,f),i.child)}function Jy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Zy(t,i,d,l,f)):(t=Zu(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Td(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===i.ref)return Wi(t,i,f)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Zy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,Td(t,f))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Wi(t,i,f)}return md(t,i,a,l,f)}function Wy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return ev(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(i,d!==null?d.cachePool:null),d!==null?ny(i,d):Ff(),iy(i);else return l=i.lanes=536870912,ev(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),ny(i,d),qr(),i.memoizedState=null):(t!==null&&nc(i,null),Ff(),qr());return Qt(t,i,f,a),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ev(t,i,a,l,f){var d=kf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&nc(i,null),Ff(),iy(i),t!==null&&Pa(t,i,l,!0),i.childLanes=f,null}function vc(t,i){return i=Ec({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function tv(t,i,a){return Ks(i,t.child,null,a),t=vc(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function xS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=vc(i,l),i.lanes=536870912,Tl(null,t);if(Qf(i),(t=tt)?(t=d_(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw Pr(i);return i.lanes=536870912,null}return vc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Qf(i),f)if(i.flags&256)i.flags&=-257,i=tv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||Pa(t,i,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=We,l!==null&&(v=Bo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Us(t,v),mn(l,t,v),dd;Ic(),i=tv(t,i,a)}else t=d.treeContext,tt=Un(v.nextSibling),Ft=i,Le=!0,Vr=null,jn=!1,t!==null&&qg(i,t),i=vc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function _c(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function md(t,i,a,l,f){return Hs(i),a=Yf(t,i,a,l,void 0,f),l=$f(),t!==null&&!xt?(Xf(t,i,f),Wi(t,i,f)):(Le&&l&&If(i),i.flags|=1,Qt(t,i,a,f),i.child)}function nv(t,i,a,l,f,d){return Hs(i),i.updateQueue=null,a=sy(i,l,a,f),ry(t),l=$f(),t!==null&&!xt?(Xf(t,i,d),Wi(t,i,d)):(Le&&l&&If(i),i.flags|=1,Qt(t,i,a,d),i.child)}function iv(t,i,a,l,f){if(Hs(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},zf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(cd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hd.enqueueReplaceState(d,d.state,null),gl(i,l,d,f),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,N=$s(a,A);d.props=N;var z=d.context,X=a.contextType;v=Da,typeof X=="object"&&X!==null&&(v=Gt(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==v)&&Hy(i,d,l,v),jr=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,f),pl(),z=i.memoizedState,A||q!==z||jr?(typeof W=="function"&&(cd(i,a,W,l),z=i.memoizedState),(N=jr||By(i,a,N,l,q,z,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(t,i),v=i.memoizedProps,X=$s(a,v),d.props=X,W=i.pendingProps,q=d.context,z=a.contextType,N=Da,typeof z=="object"&&z!==null&&(N=Gt(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||q!==N)&&Hy(i,d,l,N),jr=!1,q=i.memoizedState,d.state=q,gl(i,l,d,f),pl();var F=i.memoizedState;v!==W||q!==F||jr||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof A=="function"&&(cd(i,a,A,l),F=i.memoizedState),(X=jr||By(i,a,X,l,q,F,N)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,_c(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ks(i,t.child,null,f),i.child=Ks(i,null,a,f)):Qt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Wi(t,i,f),t}function rv(t,i,a,l){return qs(),i.flags|=256,Qt(t,i,a,l),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:Kg()}}function yd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function sv(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(f?zr(i):qr(),(t=tt)?(t=d_(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw Pr(i);return Wd(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(qr(),f=i.mode,A=Ec({mode:"hidden",children:A},f),l=zs(l,f,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,v,a),i.memoizedState=pd,Tl(null,l)):(zr(i),vd(i,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)i.flags&256?(zr(i),i.flags&=-257,i=_d(t,i,a)):i.memoizedState!==null?(qr(),i.child=t.child,i.flags|=128,i=null):(qr(),A=l.fallback,f=i.mode,l=Ec({mode:"visible",children:l.children},f),A=zs(A,f,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Ks(i,t.child,null,a),l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,v,a),i.memoizedState=pd,i=Tl(null,l));else if(zr(i),Wd(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),i=_d(t,i,a)}else if(xt||Pa(t,i,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=We,v!==null&&(l=Bo(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Us(t,l),mn(v,t,l),dd;Zd(A)||Ic(),i=_d(t,i,a)}else Zd(A)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Un(A.nextSibling),Ft=i,Le=!0,Vr=null,jn=!1,t!==null&&qg(i,t),i=vd(i,l.children),i.flags|=4096);return i}return f?(qr(),A=l.fallback,f=i.mode,N=t.child,z=N.sibling,l=Ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?A=Ki(z,A):(A=zs(A,f,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,Tl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=gd(a):(f=A.cachePool,f!==null?(N=St._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Kg(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=yd(t,v,a),i.memoizedState=pd,Tl(t.child,l)):(zr(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function vd(t,i){return i=Ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ec(t,i){return t=En(22,t,null,i),t.lanes=0,t}function _d(t,i,a){return Ks(i,t.child,null,a),t=vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function av(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Vf(t.return,i,a)}function Ed(t,i,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function ov(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=gt.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,oe(gt,v),Qt(t,i,l,a),l=Le?ll:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&av(t,a,i);else if(t.tag===19)av(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ed(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&lc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ed(i,!0,a,null,d,l);break;case"together":Ed(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function RS(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Lr(i,St,t.memoizedState.cache),qs();break;case 27:case 5:Ts(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Lr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?sv(t,i,a):(zr(i),t=Wi(t,i,a),t!==null?t.sibling:null);zr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Pa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return ov(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(gt,gt.current),l)break;return null;case 22:return i.lanes=0,Wy(t,i,a,i.pendingProps);case 24:Lr(i,St,t.memoizedState.cache)}return Wi(t,i,a)}function lv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!Td(t,a)&&(i.flags&128)===0)return xt=!1,RS(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Le&&(i.flags&1048576)!==0&&zg(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gs(i.elementType),i.type=t,typeof t=="function")xf(t)?(l=$s(t,l),i.tag=1,i=iv(null,i,t,l,a)):(i.tag=0,i=md(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){i.tag=11,i=Xy(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=Jy(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return md(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=$s(l,i.pendingProps),iv(t,i,l,f,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,qf(t,i),gl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Lr(i,St,l),l!==d.cache&&Pf(i,[St],a,!0),pl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=rv(t,i,l,a);break e}else if(l!==f){f=Vn(Error(s(424)),i),ul(f),i=rv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Un(t.firstChild),Ft=i,Le=!0,Vr=null,jn=!0,a=Wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),l===f){i=Wi(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return _c(t,i),t===null?(a=__(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Lc(Re.current).createElement(a),l[Tt]=i,l[jt]=t,Kt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=__(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ts(i),t===null&&Le&&(l=i.stateNode=g_(i.type,i.pendingProps,Re.current),Ft=i,jn=!0,f=tt,$r(i.type)?(em=f,tt=Un(l.firstChild)):tt=f),Qt(t,i,i.pendingProps.children,a),_c(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((f=l=tt)&&(l=iw(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Ft=i,tt=Un(l.firstChild),jn=!1,f=!0):f=!1),f||Pr(i)),Ts(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,$d(f,d)?l=null:v!==null&&$d(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Yf(t,i,vS,null,null,a),Ll._currentValue=f),_c(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=rw(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Ft=i,tt=null,t=!0):t=!1),t||Pr(i)),null;case 13:return sv(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ks(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return Xy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Lr(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Hs(i),f=Gt(f),l=l(f),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return Jy(t,i,i.type,i.pendingProps,a);case 15:return Zy(t,i,i.type,i.pendingProps,a);case 19:return ov(t,i,a);case 31:return xS(t,i,a);case 22:return Wy(t,i,a,i.pendingProps);case 24:return Hs(i),l=Gt(St),t===null?(f=kf(),f===null&&(f=We,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},zf(i),Lr(i,St,f)):((t.lanes&a)!==0&&(qf(t,i),gl(i,null,null,a),pl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Lr(i,St,l)):(l=d.cache,Lr(i,St,l),l!==f.cache&&Pf(i,[St],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(t){t.flags|=4}function bd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Pv())t.flags|=8192;else throw Qs=rc,Uf}else t.flags&=-16777217}function uv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(i))if(Pv())t.flags|=8192;else throw Qs=rc,Uf}function Tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Ka|=i)}function bl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function CS(t,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(i)?er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Of())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(er(i),d!==null?(nt(i),uv(i,d)):(nt(i),bd(i,f,null,l,a))):d?d!==t.memoizedState?(er(i),nt(i),uv(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(i),nt(i),bd(i,f,t,l,a)),null;case 27:if(fa(i),a=Re.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=he.current,Va(i)?Bg(i):(t=g_(f,l,a),i.stateNode=t,er(i))}return nt(i),null;case 5:if(fa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=he.current,Va(i))Bg(i);else{var v=Lc(Re.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Tt]=i,d[jt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(i)}}return nt(i),bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Va(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s_(t.nodeValue,a)),t||Pr(i,!0)}else t=Lc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Va(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Va(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Tc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Fd(i.stateNode.containerInfo),nt(i),null;case 10:return Xi(i.type),nt(i),null;case 19:if(te(gt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)bl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,bl(l,!1),t=d.updateQueue,i.updateQueue=t,Tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jg(a,t),a=a.sibling;return oe(gt,gt.current&1|2),Le&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>xc&&(i.flags|=128,f=!0,bl(l,!1),i.lanes=4194304)}else{if(!f)if(t=lc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Tc(i,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*rn()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,f=!0,bl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=gt.current,oe(gt,f?a&1|2:a&1),Le&&Yi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return bn(i),Gf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function IS(t,i){switch(Nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(gt),null;case 4:return st(),null;case 10:return Xi(i.type),null;case 22:case 23:return bn(i),Gf(),t!==null&&te(Fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xi(St),null;case 25:return null;default:return null}}function cv(t,i){switch(Nf(i),i.tag){case 3:Xi(St),st();break;case 26:case 27:case 5:fa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:te(gt);break;case 10:Xi(i.type);break;case 22:case 23:bn(i),Gf(),t!==null&&te(Fs);break;case 24:Xi(St)}}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(A){Ye(i,i.return,A)}}function Br(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=i;var N=a,z=A;try{z()}catch(X){Ye(f,N,X)}}}l=l.next}while(l!==d)}}catch(X){Ye(i,i.return,X)}}function hv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ty(i,a)}catch(l){Ye(t,t.return,l)}}}function fv(t,i,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function dv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Ad(t,i,a){try{var l=t.stateNode;JS(l,t.type,a,i),l[jt]=i}catch(f){Ye(t,t.return,f)}}function mv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(wd(t,i,a),t=t.sibling;t!==null;)wd(t,i,a),t=t.sibling}function bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bc(t,i,a),t=t.sibling;t!==null;)bc(t,i,a),t=t.sibling}function pv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[Tt]=t,i[jt]=a}catch(d){Ye(t,t.return,d)}}var tr=!1,Rt=!1,xd=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function NS(t,i){if(t=t.containerInfo,Kd=Hc,t=Cg(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,N=-1,z=0,X=0,W=t,q=null;t:for(;;){for(var F;W!==a||f!==0&&W.nodeType!==3||(A=v+f),W!==d||l!==0&&W.nodeType!==3||(N=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(F=W.firstChild)!==null;)q=W,W=F;for(;;){if(W===t)break t;if(q===a&&++z===f&&(A=v),q===d&&++X===l&&(N=v),(F=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=F}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Hc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=$s(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function yv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&Al(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ye(a,a.return,v)}else{var f=$s(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(a,a.return,v)}}l&64&&hv(a),l&512&&Sl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ty(t,i)}catch(v){Ye(a,a.return,v)}}break;case 27:i===null&&l&4&&pv(a);case 26:case 5:ir(t,a),i===null&&l&4&&dv(a),l&512&&Sl(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&Ev(t,a);break;case 13:ir(t,a),l&4&&Tv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=US.bind(null,a),sw(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){i=i!==null&&i.memoizedState!==null||Rt,f=tr;var d=Rt;tr=l,(Rt=i)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=f,Rt=d}break;case 30:break;default:ir(t,a)}}function vv(t){var i=t.alternate;i!==null&&(t.alternate=null,vv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,cn=!1;function nr(t,i,a){for(a=a.child;a!==null;)_v(t,i,a),a=a.sibling}function _v(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Rt||Ni(a,i),nr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ni(a,i);var l=ot,f=cn;$r(a.type)&&(ot=a.stateNode,cn=!1),nr(t,i,a),Ml(a.stateNode),ot=l,cn=f;break;case 5:Rt||Ni(a,i);case 6:if(l=ot,f=cn,ot=null,nr(t,i,a),ot=l,cn=f,ot!==null)if(cn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(cn?(t=ot,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):h_(ot,a.stateNode));break;case 4:l=ot,f=cn,ot=a.stateNode.containerInfo,cn=!0,nr(t,i,a),ot=l,cn=f;break;case 0:case 11:case 14:case 15:Br(2,a,i),Rt||Br(4,a,i),nr(t,i,a);break;case 1:Rt||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fv(a,i,l)),nr(t,i,a);break;case 21:nr(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,nr(t,i,a),Rt=l;break;default:nr(t,i,a)}}function Ev(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){Ye(i,i.return,a)}}}function Tv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){Ye(i,i.return,a)}}function DS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gv),i;default:throw Error(s(435,t.tag))}}function Ac(t,i){var a=DS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=zS.bind(null,t,l);l.then(f,f)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if($r(A.type)){ot=A.stateNode,cn=!1;break e}break;case 5:ot=A.stateNode,cn=!1;break e;case 3:case 4:ot=A.stateNode.containerInfo,cn=!0;break e}A=A.return}if(ot===null)throw Error(s(160));_v(d,v,f),ot=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)bv(i,t),i=i.sibling}var ni=null;function bv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(Br(3,t,t.return),Al(3,t),Br(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(Rt||a===null||Ni(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(hn(i,t),fn(t),l&512&&(Rt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var v=b_("link","href",f).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=b_("meta","content",f).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else A_(f,t.type,t.stateNode);else t.stateNode=T_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?A_(f,t.type,t.stateNode):T_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(Rt||a===null||Ni(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(Rt||a===null||Ni(a,a.return)),t.flags&32){f=t.stateNode;try{un(f,"")}catch(fe){Ye(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ad(t,f,a!==null?a.memoizedProps:f)),l&1024&&(xd=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ye(t,t.return,fe)}}break;case 3:if(Uc=null,f=ni,ni=jc(i.containerInfo),hn(i,t),ni=f,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(fe){Ye(t,t.return,fe)}xd&&(xd=!1,Av(t));break;case 4:l=ni,ni=jc(t.stateNode.containerInfo),hn(i,t),fn(t),ni=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=tr,X=Rt;if(tr=z||f,Rt=X||N,hn(i,t),Rt=X,tr=z,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||tr||Rt||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=N.stateNode;var W=N.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Ye(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(fe){Ye(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var F=N.stateNode;f?f_(F,!0):f_(N.stateNode,!1)}catch(fe){Ye(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(mv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Sd(t);bc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(un(v,""),a.flags&=-33);var A=Sd(t);bc(t,A,v);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Sd(t);wd(t,z,N);break;default:throw Error(s(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yv(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Xs(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&fv(i,i.return,a),Xs(i);break;case 27:Ml(i.stateNode);case 26:case 5:Ni(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:rr(f,d,a),Al(4,d);break;case 1:if(rr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ey(N[f],A)}catch(z){Ye(l,l.return,z)}}a&&v&64&&hv(d),Sl(d,d.return);break;case 27:pv(d);case 26:case 5:rr(f,d,a),a&&l===null&&v&4&&dv(d),Sl(d,d.return);break;case 12:rr(f,d,a);break;case 31:rr(f,d,a),a&&v&4&&Ev(f,d);break;case 13:rr(f,d,a),a&&v&4&&Tv(f,d);break;case 22:d.memoizedState===null&&rr(f,d,a),Sl(d,d.return);break;case 30:break;default:rr(f,d,a)}i=i.sibling}}function Rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sv(t,i,a,l),i=i.sibling}function Sv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),f&2048&&Al(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else ii(t,i,a,l);break;case 31:ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):wl(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Rd(v,i);break;case 24:ii(t,i,a,l),f&2048&&Cd(i.alternate,i);break;default:ii(t,i,a,l)}}function Fa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,A=a,N=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,A,N,f),Al(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Fa(d,v,A,N,f):wl(d,v):(X._visibility|=2,Fa(d,v,A,N,f)),f&&z&2048&&Rd(v.alternate,v);break;case 24:Fa(d,v,A,N,f),f&&z&2048&&Cd(v.alternate,v);break;default:Fa(d,v,A,N,f)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Rd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Cd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var xl=8192;function Ga(t,i,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)wv(t,i,a),t=t.sibling}function wv(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&xl&&t.memoizedState!==null&&yw(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=ni;ni=jc(t.stateNode.containerInfo),Ga(t,i,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,Ga(t,i,a),xl=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function xv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Cv(l,t)}xv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rv(t),t=t.sibling}function Rv(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):Rl(t);break;default:Rl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Cv(l,t)}xv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function Cv(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(vv(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var OS={getCacheForType:function(t){var i=Gt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(St).controller.signal}},MS=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ie=null,De=0,Ke=0,An=null,Hr=!1,Qa=!1,Id=!1,sr=0,dt=0,Fr=0,Js=0,Nd=0,Sn=0,Ka=0,Cl=null,dn=null,Dd=!1,wc=0,Iv=0,xc=1/0,Rc=null,Gr=null,Pt=0,Qr=null,Ya=null,ar=0,Od=0,Md=null,Nv=null,Il=0,Vd=null;function wn(){return(He&2)!==0&&De!==0?De&-De:J.T!==null?zd():Cu()}function Dv(){if(Sn===0)if((De&536870912)===0||Le){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Sn=t}else Sn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),Sn}function mn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&($a(t,0),Kr(t,De,Sn,!1)),ws(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Js|=a),dt===4&&Kr(t,De,Sn,!1)),Di(t))}function Ov(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),f=l?LS(t,i):Ld(t,i,!0),d=l;do{if(f===0){Qa&&!l&&Kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!VS(a)){f=Ld(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;f=Cl;var N=A.current.memoizedState.isDehydrated;if(N&&($a(A,v).flags|=256),v=Ld(A,v,!1),v!==2){if(Id&&!N){A.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){$a(t,0),Kr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,Sn,!Hr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=wc+300-rn(),10<f)){if(Kr(l,i,Sn,!Hr),di(l,0,!0)!==0)break e;ar=i,l.timeoutHandle=u_(Mv.bind(null,l,a,dn,Rc,Dd,i,Sn,Js,Ka,Hr,d,"Throttled",-0,0),f);break e}Mv(l,a,dn,Rc,Dd,i,Sn,Js,Ka,Hr,d,null,-0,0)}}break}while(!0);Di(t)}function Mv(t,i,a,l,f,d,v,A,N,z,X,W,q,F){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},wv(i,d,W);var fe=(d&62914560)===d?wc-rn():(d&4194048)===d?Iv-rn():0;if(fe=vw(W,fe),fe!==null){ar=d,t.cancelPendingCommit=fe(qv.bind(null,t,i,d,a,l,f,v,A,N,X,W,null,q,F)),Kr(t,d,v,!z);return}}qv(t,i,d,a,l,f,v,A,N)}function VS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(t,i,a,l){i&=~Nd,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&xs(t,a,i)}function Cc(){return(He&6)===0?(Nl(0),!1):!0}function Pd(){if(Ie!==null){if(Ke===0)var t=Ie.return;else t=Ie,$i=Bs=null,Jf(t),Ua=null,fl=0,t=Ie;for(;t!==null;)cv(t.alternate,t),t=t.return;Ie=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ew(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,Pd(),We=t,Ie=a=Ki(t.current,null),De=i,Ke=0,An=null,Hr=!1,Qa=Kn(t,i),Id=!1,Ka=Sn=Nd=Js=Fr=dt=0,dn=Cl=null,Dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return sr=i,$u(),a}function Vv(t,i){xe=null,J.H=El,i===ka||i===ic?(i=Xg(),Ke=3):i===Uf?(i=Xg(),Ke=4):Ke=i===dd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ie===null&&(dt=1,yc(t,Vn(i,t.current)))}function Pv(){var t=Tn.current;return t===null?!0:(De&4194048)===De?kn===null:(De&62914560)===De||(De&536870912)!==0?t===kn:!1}function Lv(){var t=J.H;return J.H=El,t===null?El:t}function jv(){var t=J.A;return J.A=OS,t}function Ic(){dt=4,Hr||(De&4194048)!==De&&Tn.current!==null||(Qa=!0),(Fr&134217727)===0&&(Js&134217727)===0||We===null||Kr(We,De,Sn,!1)}function Ld(t,i,a){var l=He;He|=2;var f=Lv(),d=jv();(We!==t||De!==i)&&(Rc=null,$a(t,i)),i=!1;var v=dt;e:do try{if(Ke!==0&&Ie!==null){var A=Ie,N=An;switch(Ke){case 8:Pd(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Ke;if(Ke=0,An=null,Xa(t,A,N,z),a&&Qa){v=0;break e}break;default:z=Ke,Ke=0,An=null,Xa(t,A,N,z)}}PS(),v=dt;break}catch(X){Vv(t,X)}while(!0);return i&&t.shellSuspendCounter++,$i=Bs=null,He=l,J.H=f,J.A=d,Ie===null&&(We=null,De=0,$u()),v}function PS(){for(;Ie!==null;)kv(Ie)}function LS(t,i){var a=He;He|=2;var l=Lv(),f=jv();We!==t||De!==i?(Rc=null,xc=rn()+500,$a(t,i)):Qa=Kn(t,i);e:do try{if(Ke!==0&&Ie!==null){i=Ie;var d=An;t:switch(Ke){case 1:Ke=0,An=null,Xa(t,i,d,1);break;case 2:case 9:if(Yg(d)){Ke=0,An=null,Uv(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Di(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Yg(d)?(Ke=0,An=null,Uv(i)):(Ke=0,An=null,Xa(t,i,d,7));break;case 5:var v=null;switch(Ie.tag){case 26:v=Ie.memoizedState;case 5:case 27:var A=Ie;if(v?S_(v):A.stateNode.complete){Ke=0,An=null;var N=A.sibling;if(N!==null)Ie=N;else{var z=A.return;z!==null?(Ie=z,Nc(z)):Ie=null}break t}}Ke=0,An=null,Xa(t,i,d,5);break;case 6:Ke=0,An=null,Xa(t,i,d,6);break;case 8:Pd(),dt=6;break e;default:throw Error(s(462))}}jS();break}catch(X){Vv(t,X)}while(!0);return $i=Bs=null,J.H=l,J.A=f,He=a,Ie!==null?0:(We=null,De=0,$u(),dt)}function jS(){for(;Ie!==null&&!ff();)kv(Ie)}function kv(t){var i=lv(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?Nc(t):Ie=i}function Uv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=nv(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=nv(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Jf(i);default:cv(a,i),i=Ie=jg(i,sr),i=lv(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?Nc(t):Ie=i}function Xa(t,i,a,l){$i=Bs=null,Jf(i),Ua=null,fl=0;var f=i.return;try{if(wS(t,f,i,a,De)){dt=1,yc(t,Vn(a,t.current)),Ie=null;return}}catch(d){if(f!==null)throw Ie=f,d;dt=1,yc(t,Vn(a,t.current)),Ie=null;return}i.flags&32768?(Le||l===1?t=!0:Qa||(De&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zv(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){zv(i,Hr);return}t=i.return;var a=CS(i.alternate,i,sr);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);dt===0&&(dt=5)}function zv(t,i){do{var a=IS(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);dt=6,Ie=null}function qv(t,i,a,l,f,d,v,A,N){t.cancelPendingCommit=null;do Dc();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Sf,pf(t,a,d,v,A,N),t===We&&(Ie=We=null,De=0),Ya=i,Qr=t,ar=a,Od=d,Md=f,Nv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qS(Ar,function(){return Qv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=ae.p,ae.p=2,v=He,He|=4;try{NS(t,i,a)}finally{He=v,ae.p=f,J.T=l}}Pt=1,Bv(),Hv(),Fv()}}function Bv(){if(Pt===1){Pt=0;var t=Qr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{bv(i,t);var d=Yd,v=Cg(t.containerInfo),A=d.focusedElem,N=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Rg(A.ownerDocument.documentElement,A)){if(N!==null&&_f(A)){var z=N.start,X=N.end;if(X===void 0&&(X=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(X,A.value.length);else{var W=A.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var F=q.getSelection(),fe=A.textContent.length,ye=Math.min(N.start,fe),Ze=N.end===void 0?ye:Math.min(N.end,fe);!F.extend&&ye>Ze&&(v=Ze,Ze=ye,ye=v);var L=xg(A,ye),O=xg(A,Ze);if(L&&O&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var U=W.createRange();U.setStart(L.node,L.offset),F.removeAllRanges(),ye>Ze?(F.addRange(U),F.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),F.addRange(U))}}}}for(W=[],F=A;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var Z=W[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Hc=!!Kd,Yd=Kd=null}finally{He=f,ae.p=l,J.T=a}}t.current=i,Pt=2}}function Hv(){if(Pt===2){Pt=0;var t=Qr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{yv(t,i.alternate,i)}finally{He=f,ae.p=l,J.T=a}}Pt=3}}function Fv(){if(Pt===4||Pt===3){Pt=0,Tu();var t=Qr,i=Ya,a=ar,l=Nv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Ya=Qr=null,Gv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),Hi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,f=ae.p,ae.p=2,J.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{J.T=i,ae.p=f}}(ar&3)!==0&&Dc(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Vd?Il++:(Il=0,Vd=t):Il=0,Nl(0)}}function Gv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function Dc(){return Bv(),Hv(),Fv(),Qv()}function Qv(){if(Pt!==5)return!1;var t=Qr,i=Od;Od=0;var a=Hi(ar),l=J.T,f=ae.p;try{ae.p=32>a?32:a,J.T=null,a=Md,Md=null;var d=Qr,v=ar;if(Pt=0,Ya=Qr=null,ar=0,(He&6)!==0)throw Error(s(331));var A=He;if(He|=4,Rv(d.current),Sv(d,d.current,v,a),He=A,Nl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{ae.p=f,J.T=l,Gv(t,i)}}function Kv(t,i,a){i=Vn(a,i),i=fd(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(ws(t,2),Di(t))}function Ye(t,i,a){if(t.tag===3)Kv(t,t,a);else for(;i!==null;){if(i.tag===3){Kv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Vn(a,t),a=Yy(2),l=Ur(i,a,2),l!==null&&($y(a,l,i,t),ws(l,2),Di(l));break}}i=i.return}}function jd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new MS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Id=!0,f.add(a),t=kS.bind(null,t,i,a),i.then(t,t))}function kS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>rn()-wc?(He&2)===0&&$a(t,0):Nd|=a,Ka===De&&(Ka=0)),Di(t)}function Yv(t,i){i===0&&(i=Ru()),t=Us(t,i),t!==null&&(ws(t,i),Di(t))}function US(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Yv(t,a)}function zS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Yv(t,a)}function qS(t,i){return Vt(t,i)}var Oc=null,Ja=null,kd=!1,Mc=!1,Ud=!1,Yr=0;function Di(t){t!==Ja&&t.next===null&&(Ja===null?Oc=Ja=t:Ja=Ja.next=t),Mc=!0,kd||(kd=!0,HS())}function Nl(t,i){if(!Ud&&Mc){Ud=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Zv(l,d))}else d=De,d=di(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,Zv(l,d));l=l.next}while(a);Ud=!1}}function BS(){$v()}function $v(){Mc=kd=!1;var t=0;Yr!==0&&WS()&&(t=Yr);for(var i=rn(),a=null,l=Oc;l!==null;){var f=l.next,d=Xv(l,i);d===0?(l.next=null,a===null?Oc=f:a.next=f,f===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=f}Pt!==0&&Pt!==5||Nl(t),Yr!==0&&(Yr=0)}function Xv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-mt(d),A=1<<v,N=f[v];N===-1?((A&a)===0||(A&l)!==0)&&(f[v]=mf(A,i)):N<=i&&(t.expiredLanes|=A),d&=~A}if(i=We,a=De,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&br(l),Hi(a)){case 2:case 8:a=zo;break;case 32:a=Ar;break;case 268435456:a=bu;break;default:a=Ar}return l=Jv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function Jv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=De;return l=di(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ov(t,l,i),Xv(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Jv.bind(null,t):null)}function Zv(t,i){if(Dc())return null;Ov(t,i,!0)}function HS(){tw(function(){(He&6)!==0?Vt(Uo,BS):$v()})}function zd(){if(Yr===0){var t=La;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Yr=t}return Yr}function Wv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function e_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function FS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Wv((f[jt]||null).action),v=l.submitter;v&&(i=(i=v[jt]||null)?Wv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new Si("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=v?e_(f,v):new FormData(f);ad(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=v?e_(f,v):new FormData(f),ad(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var qd=0;qd<Af.length;qd++){var Bd=Af[qd],GS=Bd.toLowerCase(),QS=Bd[0].toUpperCase()+Bd.slice(1);ti(GS,"on"+QS)}ti(Dg,"onAnimationEnd"),ti(Og,"onAnimationIteration"),ti(Mg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(lS,"onTransitionRun"),ti(uS,"onTransitionStart"),ti(cS,"onTransitionCancel"),ti(Vg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function t_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],N=A.instance,z=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=z;try{d(f)}catch(X){Yu(X)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(A=l[v],N=A.instance,z=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=z;try{d(f)}catch(X){Yu(X)}f.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=t+"__bubble";a.has(l)||(n_(i,t,2,!1),a.add(l))}function Hd(t,i,a){var l=0;i&&(l|=4),n_(a,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Vc]){t[Vc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(KS.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Hd("selectionchange",!1,i))}}function n_(t,i,a,l){switch(D_(i)){case 2:var f=Tw;break;case 8:f=bw;break;default:f=sm}a=f.bind(null,i,a,t),f=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Gd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=yi(A),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Ir(function(){var z=d,X=Nn(a),W=[];e:{var q=Pg.get(t);if(q!==void 0){var F=Si,fe=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":F=Gu;break;case"focusin":fe="focus",F=Ps;break;case"focusout":fe="blur",F=Ps;break;case"beforeblur":case"afterblur":F=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=y;break;case Dg:case Og:case Mg:F=ku;break;case Vg:F=S;break;case"scroll":case"scrollend":F=tl;break;case"wheel":F=B;break;case"copy":case"cut":case"paste":F=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Qi;break;case"toggle":case"beforetoggle":F=we}var ye=(i&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),L=ye?q!==null?q+"Capture":null:q;ye=[];for(var O=z,U;O!==null;){var Z=O;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||L===null||(Z=Jn(O,L),Z!=null&&ye.push(Ol(O,Z,U))),Ze)break;O=O.return}0<ye.length&&(q=new F(q,fe,null,a,X),W.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Zo&&(fe=a.relatedTarget||a.fromElement)&&(yi(fe)||fe[pi]))break e;if((F||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,F?(fe=a.relatedTarget||a.toElement,F=z,fe=fe?yi(fe):null,fe!==null&&(Ze=u(fe),ye=fe.tag,fe!==Ze||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(F=null,fe=z),F!==fe)){if(ye=nl,Z="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Qi,Z="onPointerLeave",L="onPointerEnter",O="pointer"),Ze=F==null?q:yn(F),U=fe==null?q:yn(fe),q=new ye(Z,O+"leave",F,a,X),q.target=Ze,q.relatedTarget=U,Z=null,yi(X)===z&&(ye=new ye(L,O+"enter",fe,a,X),ye.target=U,ye.relatedTarget=Ze,Z=ye),Ze=Z,F&&fe)t:{for(ye=YS,L=F,O=fe,U=0,Z=L;Z;Z=ye(Z))U++;Z=0;for(var me=O;me;me=ye(me))Z++;for(;0<U-Z;)L=ye(L),U--;for(;0<Z-U;)O=ye(O),Z--;for(;U--;){if(L===O||O!==null&&L===O.alternate){ye=L;break t}L=ye(L),O=ye(O)}ye=null}else ye=null;F!==null&&i_(W,q,F,ye,!1),fe!==null&&Ze!==null&&i_(W,Ze,fe,ye,!0)}}e:{if(q=z?yn(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ze=Eg;else if(vg(q))if(Tg)ze=sS;else{ze=iS;var de=nS}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Ea(z.elementType)&&(ze=Eg):ze=rS;if(ze&&(ze=ze(t,z))){_g(W,ze,a,X);break e}de&&de(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&$o(q,"number",q.value)}switch(de=z?yn(z):window,t){case"focusin":(vg(de)||de.contentEditable==="true")&&(Ca=de,Ef=z,ol=null);break;case"focusout":ol=Ef=Ca=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Ig(W,a,X);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":Ig(W,a,X)}var Ce;if(Be)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ra?Ls(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ri&&a.locale!=="ko"&&(Ra||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ra&&(Ce=el()):(Ai=X,Wo="value"in Ai?Ai.value:Ai.textContent,Ra=!0)),de=Pc(z,Oe),0<de.length&&(Oe=new xi(Oe,t,null,a,X),W.push({event:Oe,listeners:de}),Ce?Oe.data=Ce:(Ce=xa(a),Ce!==null&&(Oe.data=Ce)))),(Ce=On?ZA(t,a):WA(t,a))&&(Oe=Pc(z,"onBeforeInput"),0<Oe.length&&(de=new xi("onBeforeInput","beforeinput",null,a,X),W.push({event:de,listeners:Oe}),de.data=Ce)),FS(W,t,z,a,X)}t_(W,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(t,a),f!=null&&l.unshift(Ol(t,f,d)),f=Jn(t,i),f!=null&&l.push(Ol(t,f,d))),t.tag===3)return l;t=t.return}return[]}function YS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,N=A.alternate,z=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||z===null||(N=z,f?(z=Jn(a,d),z!=null&&v.unshift(Ol(a,z,N))):f||(z=Jn(a,d),z!=null&&v.push(Ol(a,z,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var $S=/\r\n?/g,XS=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace($S,`
`).replace(XS,"")}function s_(t,i){return i=r_(i),r_(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Jo(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),va(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,va(t,a,l))}}function Qd(t,i,a,l,f,d){switch(a){case"style":Jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,v,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var A=d=v=f=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}Ou(t,d,A,N,z,v,f,!1);return;case"select":Ne("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Je(t,i,f,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?wr(t,!!l,i,!1):a!=null&&wr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Je(t,i,v,A,a,null)}xr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ne(Dl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,z,l,a,null)}return;default:if(Ea(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qd(t,i,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Je(t,i,A,l,a,null))}function JS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,A=null,N=null,z=null,X=null;for(F in a){var W=a[F];if(a.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(F)||Je(t,i,F,null,l,W)}}for(var q in l){var F=l[q];if(W=a[q],l.hasOwnProperty(q)&&(F!=null||W!=null))switch(q){case"type":d=F;break;case"name":f=F;break;case"checked":z=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==W&&Je(t,i,q,F,l,W)}}_a(t,v,A,N,z,X,d,f);return;case"select":F=v=A=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==N&&Je(t,i,f,d,l,N)}i=A,a=v,l=F,q!=null?wr(t,!!a,q,!1):!!l!=!!a&&(i!=null?wr(t,!!a,i,!0):wr(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Je(t,i,A,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":q=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,v,f,l,d)}Mu(t,q,F);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Je(t,i,fe,null,l,q)}for(N in l)if(q=l[N],F=a[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&Je(t,i,ye,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,z,q,l,F)}return;default:if(Ea(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&Qd(t,i,Ze,void 0,l,q);for(X in l)q=l[X],F=a[X],!l.hasOwnProperty(X)||q===F||q===void 0&&F===void 0||Qd(t,i,X,q,l,F);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Je(t,i,L,null,l,q);for(W in l)q=l[W],F=a[W],!l.hasOwnProperty(W)||q===F||q==null&&F==null||Je(t,i,W,q,l,F)}function a_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,A=f.duration;if(d&&A&&a_(v)){for(v=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>A)break;var X=N.transferSize,W=N.initiatorType;X&&a_(W)&&(N=N.responseEnd,v+=X*(N<A?1:(A-z)/(N-z)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Yd=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $d(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function WS(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,tw=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(nw)}:u_;function nw(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function h_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[gi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);to(i)}function f_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function iw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function rw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function d_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var em=null;function m_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function p_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function g_(t,i,a){switch(i=Lc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var zn=new Map,y_=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=ae.d;ae.d={f:aw,r:ow,D:lw,C:uw,L:cw,m:hw,X:dw,S:fw,M:mw};function aw(){var t=or.f(),i=Cc();return t||i}function ow(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Vy(i):or.r(t)}var Za=typeof document>"u"?null:document;function v_(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var f=ln(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),y_.has(f)||(y_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),bt(i),l.head.appendChild(i)))}}function lw(t){or.D(t),v_("dns-prefetch",t,null)}function uw(t,i){or.C(t,i),v_("preconnect",t,i)}function cw(t,i,a){or.L(t,i,a);var l=Za;if(l&&t&&i){var f='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(t)+'"]';var d=f;switch(i){case"style":d=Wa(t);break;case"script":d=eo(t)}zn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),Kt(i,"link",t),bt(i),l.head.appendChild(i)))}}function hw(t,i){or.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!zn.has(d)&&(t=b({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Kt(l,"link",t),bt(l),a.head.appendChild(l)}}}function fw(t,i,a){or.S(t,i,a);var l=Za;if(l&&t){var f=vi(l).hoistableStyles,d=Wa(t);i=i||"default";var v=f.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Vl(d)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&tm(t,a);var N=v=l.createElement("link");bt(N),Kt(N,"link",t),N._p=new Promise(function(z,X){N.onload=z,N.onerror=X}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,kc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(d,v)}}}function dw(t,i){or.X(t,i);var a=Za;if(a&&t){var l=vi(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=b({src:t,async:!0},i),(i=zn.get(f))&&nm(t,i),d=a.createElement("script"),bt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function mw(t,i){or.M(t,i);var a=Za;if(a&&t){var l=vi(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(t=b({src:t,async:!0,type:"module"},i),(i=zn.get(f))&&nm(t,i),d=a.createElement("script"),bt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function __(t,i,a,l){var f=(f=Re.current)?jc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=vi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=vi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||pw(f,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=vi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+ln(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function pw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),bt(i),t.head.appendChild(i))}function eo(t){return'[src="'+ln(t)+'"]'}function Pl(t){return"script[async]"+t}function T_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Kt(l,"style",f),kc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Wa(a.href);var d=t.querySelector(Vl(f));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=E_(a),(f=zn.get(f))&&tm(l,f),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),Kt(d,"link",l),i.state.loading|=4,kc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(f=t.querySelector(Pl(d)))?(i.instance=f,bt(f),f):(l=a,(f=zn.get(d))&&(l=b({},a),nm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),bt(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,kc(l,a.precedence,t));return i.instance}function kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function b_(t,i,a){if(Uc===null){var l=new Map,f=Uc=new Map;f.set(a,l)}else f=Uc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function A_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Wa(l.href),d=i.querySelector(Vl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=E_(l),(f=zn.get(f))&&tm(l,f),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var im=0;function vw(t,i){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&im===0&&(im=62500*ZS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>im?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,i.forEach(_w,t),qc=null,zc.call(t))}function _w(t,i){if(!(i.state.loading&4)){var a=qc.get(t);if(a)var l=a.get(null);else{a=new Map,qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:K,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Ew(t,i,a,l,f,d,v,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function w_(t,i,a,l,f,d,v,A,N,z,X,W){return t=new Ew(t,i,a,v,N,z,X,W,A),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},zf(d),t}function x_(t){return t?(t=Da,t):Da}function R_(t,i,a,l,f,d){f=x_(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(mn(a,t,i),ml(a,t,i))}function C_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){C_(t,i),(t=t.alternate)&&C_(t,i)}function I_(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&mn(i,t,67108864),rm(t,67108864)}}function N_(t){if(t.tag===13||t.tag===31){var i=wn();i=Rs(i);var a=Us(t,i);a!==null&&mn(a,t,i),rm(t,i)}}var Hc=!0;function Tw(t,i,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=2,sm(t,i,a,l)}finally{ae.p=d,J.T=f}}function bw(t,i,a,l){var f=J.T;J.T=null;var d=ae.p;try{ae.p=8,sm(t,i,a,l)}finally{ae.p=d,J.T=f}}function sm(t,i,a,l){if(Hc){var f=am(l);if(f===null)Gd(t,i,l,Fc,a),O_(t,l);else if(Sw(f,t,i,a,l))l.stopPropagation();else if(O_(t,l),i&4&&-1<Aw.indexOf(t)){for(;f!==null;){var d=In(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=fi(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var N=1<<31-mt(v);A.entanglements[1]|=N,v&=~N}Di(d),(He&6)===0&&(xc=rn()+500,Nl(0))}}break;case 31:case 13:A=Us(d,2),A!==null&&mn(A,d,2),Cc(),rm(d,2)}if(d=am(l),d===null&&Gd(t,i,l,Fc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Gd(t,i,l,null,a)}}function am(t){return t=Nn(t),om(t)}var Fc=null;function om(t){if(Fc=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case Uo:return 2;case zo:return 8;case Ar:case df:return 32;case bu:return 268435456;default:return 32}default:return 32}}var lm=!1,Xr=null,Jr=null,Zr=null,jl=new Map,kl=new Map,Wr=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Ul(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=In(i),i!==null&&I_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Sw(t,i,a,l,f){switch(i){case"focusin":return Xr=Ul(Xr,t,i,a,l,f),!0;case"dragenter":return Jr=Ul(Jr,t,i,a,l,f),!0;case"mouseover":return Zr=Ul(Zr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return jl.set(d,Ul(jl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,kl.set(d,Ul(kl.get(d)||null,t,i,a,l,f)),!0}return!1}function M_(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){N_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){N_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=In(a),i!==null&&I_(i),t.blockedOn=a,!1;i.shift()}return!0}function V_(t,i,a){Gc(t)&&a.delete(i)}function ww(){lm=!1,Xr!==null&&Gc(Xr)&&(Xr=null),Jr!==null&&Gc(Jr)&&(Jr=null),Zr!==null&&Gc(Zr)&&(Zr=null),jl.forEach(V_),kl.forEach(V_)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ww)))}var Kc=null;function P_(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,ad(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function to(t){function i(N){return Qc(N,t)}Xr!==null&&Qc(Xr,t),Jr!==null&&Qc(Jr,t),Zr!==null&&Qc(Zr,t),jl.forEach(i),kl.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[jt]||null;if(typeof d=="function")v||P_(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[jt]||null)A=v.formAction;else if(om(f)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),P_(a)}}}function L_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function um(t){this._internalRoot=t}Yc.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();R_(a,l,t,i,null,null)},Yc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;R_(t.current,2,null,t,null,null),Cc(),i[pi]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&M_(t)}};var j_=e.version;if(j_!=="19.2.0")throw Error(s(527,j_,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var xw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Qn=$c.inject(xw),Bt=$c}catch{}}return ql.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Fy,d=Gy,v=Qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=w_(t,1,!1,null,null,a,l,null,f,d,v,L_),t[pi]=i.current,Fd(t),new um(i)},ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Fy,v=Gy,A=Qy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=w_(t,1,!0,i,a??null,l,f,N,d,v,A,L_),i.context=x_(null),a=i.current,l=wn(),l=Rs(l),f=kr(l),f.callback=null,Ur(a,f,l),a=l,i.current.lanes=a,ws(i,a),Di(i),t[pi]=i.current,Fd(t),new Yc(i)},ql.version="19.2.0",ql}var K_;function jw(){if(K_)return fm.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=Lw(),fm.exports}var kw=jw();var Y_="popstate";function Uw(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Vm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return qw(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zw(){return Math.random().toString(36).substring(2,10)}function $_(r,e){return{usr:r.state,key:r.key,idx:e}}function Vm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||s||zw()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ao(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function qw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let H=T(),ie=H==null?null:H-p;p=H,g&&g({action:m,location:Q.location,delta:ie})}function w(H,ie){m="PUSH";let $=Vm(Q.location,H,ie);p=T()+1;let K=$_($,p),re=Q.createHref($);try{h.pushState(K,"",re)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(re)}u&&g&&g({action:m,location:Q.location,delta:1})}function P(H,ie){m="REPLACE";let $=Vm(Q.location,H,ie);p=T();let K=$_($,p),re=Q.createHref($);h.replaceState(K,"",re),u&&g&&g({action:m,location:Q.location,delta:0})}function Y(H){return Bw(H)}let Q={get action(){return m},get location(){return r(o,h)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Y_,b),g=H,()=>{o.removeEventListener(Y_,b),g=null}},createHref(H){return e(o,H)},createURL:Y,encodeLocation(H){let ie=Y(H);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:w,replace:P,go(H){return h.go(H)}};return Q}function Bw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UE(r,e,n="/"){return Hw(r,e,n,!1)}function Hw(r,e,n,s){let o=typeof e=="string"?Ao(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=zE(r);Fw(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=tx(u);m=Ww(h[g],p,s)}return m}function zE(r,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ct(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=dr([s,T.relativePath]),w=n.concat(T);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),zE(h.children,e,w,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:Jw(b,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of qE(h.path))u(h,m,!0,g)}),e}function qE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=qE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Fw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Zw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Gw=/^:[\w-]+$/,Qw=3,Kw=2,Yw=1,$w=10,Xw=-2,X_=r=>r==="*";function Jw(r,e){let n=r.split("/"),s=n.length;return n.some(X_)&&(s+=Xw),e&&(s+=Kw),n.filter(o=>!X_(o)).reduce((o,u)=>o+(Gw.test(u)?Qw:u===""?Yw:$w),s)}function Zw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Ww(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),w=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:dr([u,b.pathname]),pathnameBase:ax(dr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=dr([u,b.pathnameBase]))}return h}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ex(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:b},w)=>{if(T==="*"){let Y=m[w]||"";h=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const P=m[w];return b&&!P?p[T]=void 0:p[T]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function ex(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function tx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ix=r=>nx.test(r);function rx(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ao(r):r,u;if(n)if(ix(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=J_(n.substring(1),"/"):u=J_(n,e)}else u=e;return{pathname:u,search:ox(s),hash:lx(o)}}function J_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sx(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(r){let e=sx(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fp(r,e,n,s=!1){let o;typeof r=="string"?o=Ao(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let g=rx(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var dr=r=>r.join("/").replace(/\/\/+/g,"/"),ax=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ox=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ux(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var cx=["GET",...BE];new Set(cx);var So=G.createContext(null);So.displayName="DataRouter";var qh=G.createContext(null);qh.displayName="DataRouterState";G.createContext(!1);var HE=G.createContext({isTransitioning:!1});HE.displayName="ViewTransition";var hx=G.createContext(new Map);hx.displayName="Fetchers";var fx=G.createContext(null);fx.displayName="Await";var li=G.createContext(null);li.displayName="Navigation";var lu=G.createContext(null);lu.displayName="Location";var Bi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var dp=G.createContext(null);dp.displayName="RouteError";function dx(r,{relative:e}={}){ct(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(li),{hash:o,pathname:u,search:h}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function wo(){return G.useContext(lu)!=null}function vs(){return ct(wo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(lu).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(r){G.useContext(li).static||G.useLayoutEffect(r)}function QE(){let{isDataRoute:r}=G.useContext(Bi);return r?xx():mx()}function mx(){ct(wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(So),{basename:e,navigator:n}=G.useContext(li),{matches:s}=G.useContext(Bi),{pathname:o}=vs(),u=JSON.stringify(hp(s)),h=G.useRef(!1);return GE(()=>{h.current=!0}),G.useCallback((g,p={})=>{if(Gn(h.current,FE),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=fp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:dr([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,r])}G.createContext(null);function uu(r,{relative:e}={}){let{matches:n}=G.useContext(Bi),{pathname:s}=vs(),o=JSON.stringify(hp(n));return G.useMemo(()=>fp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function px(r,e){return KE(r,e)}function KE(r,e,n,s,o){ct(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(li),{matches:h}=G.useContext(Bi),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let $=b&&b.path||"";YE(p,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=vs(),P;if(e){let $=typeof e=="string"?Ao(e):e;ct(T==="/"||$.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${$.pathname}" was given in the \`location\` prop.`),P=$}else P=w;let Y=P.pathname||"/",Q=Y;if(T!=="/"){let $=T.replace(/^\//,"").split("/");Q="/"+Y.replace(/^\//,"").split("/").slice($.length).join("/")}let H=UE(r,{pathname:Q});Gn(b||H!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Gn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=Ex(H&&H.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:dr([T,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?T:dr([T,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),h,n,s,o);return e&&ie?G.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ie):ie}function gx(){let r=wx(),e=ux(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,h)}var yx=G.createElement(gx,null),vx=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(Bi.Provider,{value:this.props.routeContext},G.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _x({routeContext:r,match:e,children:n}){let s=G.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Bi.Provider,{value:r},n)}function Ex(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let T=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ct(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:w,errors:P}=n,Y=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!P||P[b.route.id]===void 0);if(b.route.lazy||Y){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return u.reduceRight((T,b,w)=>{let P,Y=!1,Q=null,H=null;n&&(P=h&&b.route.id?h[b.route.id]:void 0,Q=b.route.errorElement||yx,m&&(g<0&&w===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,H=null):g===w&&(Y=!0,H=b.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,w+1)),$=()=>{let K;return P?K=Q:Y?K=H:b.route.Component?K=G.createElement(b.route.Component,null):b.route.element?K=b.route.element:K=T,G.createElement(_x,{match:b,routeContext:{outlet:T,matches:ie,isDataRoute:n!=null},children:K})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?G.createElement(vx,{location:n.location,revalidation:n.revalidation,component:Q,error:P,children:$(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:p}):$()},null)}function mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tx(r){let e=G.useContext(So);return ct(e,mp(r)),e}function bx(r){let e=G.useContext(qh);return ct(e,mp(r)),e}function Ax(r){let e=G.useContext(Bi);return ct(e,mp(r)),e}function pp(r){let e=Ax(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Sx(){return pp("useRouteId")}function wx(){let r=G.useContext(dp),e=bx("useRouteError"),n=pp("useRouteError");return r!==void 0?r:e.errors?.[n]}function xx(){let{router:r}=Tx("useNavigate"),e=pp("useNavigate"),n=G.useRef(!1);return GE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Gn(n.current,FE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Z_={};function YE(r,e,n){!e&&!Z_[r]&&(Z_[r]=!0,Gn(!1,n))}G.memo(Rx);function Rx({routes:r,future:e,state:n,unstable_onError:s}){return KE(r,void 0,n,s,e)}function Cx({to:r,replace:e,state:n,relative:s}){ct(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(li);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Bi),{pathname:h}=vs(),m=QE(),g=fp(r,hp(u),h,s==="path"),p=JSON.stringify(g);return G.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function cr(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ix({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Ao(n));let{pathname:g="/",search:p="",hash:T="",state:b=null,key:w="default"}=n,P=G.useMemo(()=>{let Y=pr(g,h);return Y==null?null:{location:{pathname:Y,search:p,hash:T,state:b,key:w},navigationType:s}},[h,g,p,T,b,w,s]);return Gn(P!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(li.Provider,{value:m},G.createElement(lu.Provider,{children:e,value:P}))}function Nx({children:r,location:e}){return px(Pm(r),e)}function Pm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Pm(s.props.children,u));return}ct(s.type===cr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Pm(s.props.children,u)),n.push(h)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Bh(r){return r!=null&&typeof r.tagName=="string"}function Dx(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function Ox(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function Mx(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function Vx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Px(r,e){return r.button===0&&(!e||e==="_self")&&!Vx(r)}var Jc=null;function Lx(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var jx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(r){return r!=null&&!jx.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function kx(r,e){let n,s,o,u,h;if(Ox(r)){let m=r.getAttribute("action");s=m?pr(m,e):null,n=r.getAttribute("method")||sh,o=ym(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(Dx(r)||Mx(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?pr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=ym(r.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!Lx()){let{name:p,type:T,value:b}=r;if(T==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,b)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ux(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function zx(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Bx(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await zx(u,n);return h.links?h.links():[]}return[]}));return Qx(s.flat(1).filter(qx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(r,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Hx(r,e,{includeHydrateFallback:n}={}){return Fx(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Fx(r){return[...new Set(r)]}function Gx(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Qx(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Gx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $E(){let r=G.useContext(So);return gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Kx(){let r=G.useContext(qh);return gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var yp=G.createContext(void 0);yp.displayName="FrameworkContext";function XE(){let r=G.useContext(yp);return gp(r,"You must render this element inside a <HydratedRouter> element"),r}function Yx(r,e){let n=G.useContext(yp),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:b}=e,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=ie=>{ie.forEach($=>{h($.isIntersecting)})},H=new IntersectionObserver(Q,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},Y=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Bl(m,P),onBlur:Bl(g,Y),onMouseEnter:Bl(p,P),onMouseLeave:Bl(T,Y),onTouchStart:Bl(b,P)}]:[!1,w,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function $x({page:r,...e}){let{router:n}=$E(),s=G.useMemo(()=>UE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(Jx,{page:r,matches:s,...e}):null}function Xx(r){let{manifest:e,routeModules:n}=XE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Bx(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Jx({page:r,matches:e,...n}){let s=vs(),{manifest:o,routeModules:u}=XE(),{basename:h}=$E(),{loaderData:m,matches:g}=Kx(),p=G.useMemo(()=>W_(r,e,g,o,s,"data"),[r,e,g,o,s]),T=G.useMemo(()=>W_(r,e,g,o,s,"assets"),[r,e,g,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,Q=!1;if(e.forEach(ie=>{let $=o.routes[ie.route.id];!$||!$.hasLoader||(!p.some(K=>K.route.id===ie.route.id)&&ie.route.id in m&&u[ie.route.id]?.shouldRevalidate||$.hasClientLoader?Q=!0:Y.add(ie.route.id))}),Y.size===0)return[];let H=Ux(r,h,"data");return Q&&Y.size>0&&H.searchParams.set("_routes",e.filter(ie=>Y.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[H.pathname+H.search]},[h,m,s,o,p,e,r,u]),w=G.useMemo(()=>Hx(T,o),[T,o]),P=Xx(T);return G.createElement(G.Fragment,null,b.map(Y=>G.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),w.map(Y=>G.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),P.map(({key:Y,link:Q})=>G.createElement("link",{key:Y,nonce:n.nonce,...Q})))}function Zx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JE&&(window.__reactRouterVersion="7.9.6")}catch{}function Wx({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=Uw({window:n,v5Compat:!0}));let o=s.current,[u,h]=G.useState({action:o.action,location:o.location}),m=G.useCallback(g=>{G.startTransition(()=>h(g))},[h]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(Ix,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:T,viewTransition:b,...w},P){let{basename:Y}=G.useContext(li),Q=typeof p=="string"&&ZE.test(p),H,ie=!1;if(typeof p=="string"&&Q&&(H=p,JE))try{let R=new URL(window.location.href),V=p.startsWith("//")?new URL(R.protocol+p):new URL(p),D=pr(V.pathname,Y);V.origin===R.origin&&D!=null?p=D+V.search+V.hash:ie=!0}catch{Gn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=dx(p,{relative:o}),[K,re,ce]=Yx(s,w),_e=n1(p,{replace:h,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:b});function C(R){e&&e(R),R.defaultPrevented||_e(R)}let x=G.createElement("a",{...w,...ce,href:H||$,onClick:ie||u?e:C,ref:Zx(P,re),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return K&&!Q?G.createElement(G.Fragment,null,x,G.createElement($x,{page:$})):x});WE.displayName="Link";var eT=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},T){let b=uu(h,{relative:p.relative}),w=vs(),P=G.useContext(qh),{navigator:Y,basename:Q}=G.useContext(li),H=P!=null&&o1(b)&&m===!0,ie=Y.encodeLocation?Y.encodeLocation(b).pathname:b.pathname,$=w.pathname,K=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||($=$.toLowerCase(),K=K?K.toLowerCase():null,ie=ie.toLowerCase()),K&&Q&&(K=pr(K,Q)||K);const re=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let ce=$===ie||!o&&$.startsWith(ie)&&$.charAt(re)==="/",_e=K!=null&&(K===ie||!o&&K.startsWith(ie)&&K.charAt(ie.length)==="/"),C={isActive:ce,isPending:_e,isTransitioning:H},x=ce?e:void 0,R;typeof s=="function"?R=s(C):R=[s,ce?"active":null,_e?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return G.createElement(WE,{...p,"aria-current":x,className:R,ref:T,style:V,to:h,viewTransition:m},typeof g=="function"?g(C):g)});eT.displayName="NavLink";var e1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=sh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:b,...w},P)=>{let Y=s1(),Q=a1(m,{relative:p}),H=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&ZE.test(m),$=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,ce=re?.getAttribute("formmethod")||h;Y(re||K.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:b})};return G.createElement("form",{ref:P,method:H,action:Q,onSubmit:s?g:$,...w,"data-discover":!ie&&r==="render"?"true":void 0})});e1.displayName="Form";function t1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tT(r){let e=G.useContext(So);return ct(e,t1(r)),e}function n1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=QE(),g=vs(),p=uu(r,{relative:u});return G.useCallback(T=>{if(Px(T,e)){T.preventDefault();let b=n!==void 0?n:Wl(g)===Wl(p);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,s,e,r,o,u,h])}var i1=0,r1=()=>`__${String(++i1)}__`;function s1(){let{router:r}=tT("useSubmit"),{basename:e}=G.useContext(li),n=Sx();return G.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=kx(s,e);if(o.navigate===!1){let T=o.fetcherKey||r1();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function a1(r,{relative:e}={}){let{basename:n}=G.useContext(li),s=G.useContext(Bi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},h=vs();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),Wl(u)}function o1(r,{relative:e}={}){let n=G.useContext(HE);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tT("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,h)!=null||vh(o.pathname,u)!=null}const e0=r=>{let e;const n=new Set,s=(p,T)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const w=e;e=T??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(P=>P(e,w))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:p=>(n.add(p),()=>n.delete(p))},g=e=r(s,o,m);return m},l1=(r=>r?e0(r):e0),u1=r=>r;function c1(r,e=u1){const n=Xc.useSyncExternalStore(r.subscribe,Xc.useCallback(()=>e(r.getState()),[r,e]),Xc.useCallback(()=>e(r.getInitialState()),[r,e]));return Xc.useDebugValue(n),n}const t0=r=>{const e=l1(r),n=s=>c1(e,s);return Object.assign(n,e),n},xo=(r=>r?t0(r):t0),Hh=xo(r=>({user:{id:"dev-user",email:"admin@boulangerie.com",nom:"Admin",prenom:"Test",role:"admin",active:!0,createdAt:new Date,updatedAt:new Date},isLoading:!1,isAuthenticated:!0,login:async(e,n)=>{r({isLoading:!0});try{console.log("Login:",e,n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}},logout:async()=>{try{r({user:null,isAuthenticated:!1})}catch(e){console.error("Logout error:",e)}},setUser:e=>{r({user:e,isAuthenticated:e!==null})},setLoading:e=>{r({isLoading:e})}})),Bn=[{id:"prod_1",nom:"Baguette",description:"Baguette tradition franaise",unite:"piece",prixUnitaire:800,active:!0,createdAt:new Date,updatedAt:new Date},{id:"prod_2",nom:"Pain au lait Choco",description:"Pain au lait aux ppites de chocolat",unite:"piece",prixUnitaire:450,active:!0,createdAt:new Date,updatedAt:new Date},{id:"prod_3",nom:"Croissant Beurre",description:"Croissant au beurre",unite:"piece",prixUnitaire:800,active:!0,createdAt:new Date,updatedAt:new Date},{id:"prod_4",nom:"Madeleine",description:"Madeleines traditionnelles",unite:"piece",prixUnitaire:250,active:!0,createdAt:new Date,updatedAt:new Date},{id:"prod_5",nom:"Cake 200",description:"Cake format 200g",unite:"piece",prixUnitaire:4200,active:!0,createdAt:new Date,updatedAt:new Date}],vm=[{id:"client_1",nom:"Restaurant Central",adresse:"Avenue Bourguiba, Dakar",telephone:"+221 33 123 45 67",email:"central@restaurant.sn",active:!0,createdAt:new Date,updatedAt:new Date},{id:"client_2",nom:"Htel Teranga",adresse:"Corniche Ouest, Dakar",telephone:"+221 33 987 65 43",email:"contact@teranga-hotel.sn",active:!0,createdAt:new Date,updatedAt:new Date},{id:"client_3",nom:"Caf de la Paix",adresse:"Place de l'Indpendance, Dakar",telephone:"+221 33 456 78 90",active:!0,createdAt:new Date,updatedAt:new Date},{id:"client_4",nom:"Boutique Plateau",adresse:"Rue Parchappe, Plateau",telephone:"+221 33 234 56 78",active:!0,createdAt:new Date,updatedAt:new Date}];vm[0],Bn[0],Bn[1],Bn[2],vm[1],Bn[0],Bn[3],Bn[4],vm[2],Bn[2],Bn[1];Bn[0],Bn[1],Bn[2],Bn[3];const nT=xo((r,e)=>({programmeActuel:null,commandesClients:[],quantitesBoutique:[],produits:[],clients:[],isLoading:!1,creerNouveauProgramme:n=>{{const s={id:`prog_${Date.now()}`,date:n,commandesClients:[],quantitesBoutique:[],totauxParProduit:[],statut:"brouillon",createdAt:new Date,updatedAt:new Date};r({programmeActuel:s,commandesClients:[],quantitesBoutique:[]})}},chargerProgramme:async n=>{r({isLoading:!0});try{console.log("Charger programme pour:",n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}},sauvegarderProgramme:async()=>{const{programmeActuel:n}=e();if(n){r({isLoading:!0});try{console.log("Sauvegarder programme:",n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}}},envoyerAuBoulanger:async()=>{const{programmeActuel:n}=e();if(n)try{const s={...n,statut:"envoye",updatedAt:new Date};r({programmeActuel:s}),console.log("Programme envoy au boulanger")}catch(s){throw s}},ajouterCommandeClient:n=>{const s={...n,id:`cmd_${Date.now()}`,createdAt:new Date,updatedAt:new Date};r(o=>({commandesClients:[...o.commandesClients,s]})),e().calculerTotauxParProduit()},modifierCommandeClient:(n,s)=>{r(o=>({commandesClients:o.commandesClients.map(u=>u.id===n?{...u,...s,updatedAt:new Date}:u)})),e().calculerTotauxParProduit()},supprimerCommandeClient:n=>{r(s=>({commandesClients:s.commandesClients.filter(o=>o.id!==n)})),e().calculerTotauxParProduit()},ajouterQuantiteBoutique:n=>{r(s=>{const o=s.quantitesBoutique.findIndex(u=>u.produitId===n.produitId);if(o>=0){const u=[...s.quantitesBoutique];return u[o]=n,{quantitesBoutique:u}}else return{quantitesBoutique:[...s.quantitesBoutique,n]}}),e().calculerTotauxParProduit()},modifierQuantiteBoutique:(n,s)=>{r(o=>({quantitesBoutique:o.quantitesBoutique.map(u=>u.produitId===n?{...u,quantite:s}:u)})),e().calculerTotauxParProduit()},supprimerQuantiteBoutique:n=>{r(s=>({quantitesBoutique:s.quantitesBoutique.filter(o=>o.produitId!==n)})),e().calculerTotauxParProduit()},calculerTotauxParProduit:()=>{const{commandesClients:n,quantitesBoutique:s,produits:o}=e(),u=new Map;n.forEach(m=>{m.produits.forEach(g=>{const p=u.get(g.produitId)||{totalClient:0,totalBoutique:0};u.set(g.produitId,{...p,totalClient:p.totalClient+g.quantiteCommandee})})}),s.forEach(m=>{const g=u.get(m.produitId)||{totalClient:0,totalBoutique:0};u.set(m.produitId,{...g,totalBoutique:m.quantite})});const h=Array.from(u.entries()).map(([m,g])=>{const p=o.find(T=>T.id===m);return{produitId:m,produit:p,totalClient:g.totalClient,totalBoutique:g.totalBoutique,totalGlobal:g.totalClient+g.totalBoutique}});r(m=>({programmeActuel:m.programmeActuel?{...m.programmeActuel,totauxParProduit:h}:null}))},chargerProduits:async()=>{try{console.log("Charger produits")}catch(n){throw n}},chargerClients:async()=>{try{console.log("Charger clients")}catch(n){throw n}},setLoading:n=>{r({isLoading:n})}})),h1=xo((r,e)=>({livraisonsJour:[],invendusClients:[],clients:[],produits:[],isLoading:!1,chargerLivraisonsDuJour:async n=>{r({isLoading:!0});try{console.log("Charger livraisons du jour:",n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}},commencerLivraison:n=>{r(s=>({livraisonsJour:s.livraisonsJour.map(o=>o.clientId===n?{...o,statut:"en_cours"}:o)}))},terminerLivraison:n=>{r(s=>({livraisonsJour:s.livraisonsJour.map(o=>o.clientId===n?{...o,statut:"termine"}:o)}))},saisirInvendusClient:(n,s,o)=>{const{livraisonsJour:u}=e(),h=u.find(p=>p.clientId===n);if(!h)return;const m=h.produits.find(p=>p.produitId===s);if(!m)return;const g=m.quantiteLivree-o;r(p=>({livraisonsJour:p.livraisonsJour.map(T=>T.clientId===n?{...T,produits:T.produits.map(b=>b.produitId===s?{...b,invendus:o,vendu:g}:b)}:T)})),r(p=>{if(p.invendusClients.find(b=>b.clientId===n))return{invendusClients:p.invendusClients.map(b=>b.clientId===n?{...b,produits:b.produits.map(w=>w.produitId===s?{...w,invendus:o,vendu:g,quantiteLivree:m.quantiteLivree}:w)}:b)};{const b={id:`inv_${n}_${Date.now()}`,clientId:n,client:h.client,dateLivraison:h.dateLivraison,produits:[{produitId:s,produit:m.produit,quantiteLivree:m.quantiteLivree,invendus:o,vendu:g}],createdAt:new Date,updatedAt:new Date};return{invendusClients:[...p.invendusClients,b]}}})},calculerVenduClient:(n,s)=>{const{livraisonsJour:o}=e(),u=o.find(m=>m.clientId===n);if(!u)return 0;const h=u.produits.find(m=>m.produitId===s);return h?h.quantiteLivree-h.invendus:0},sauvegarderInvendus:async()=>{const{invendusClients:n}=e();r({isLoading:!0});try{console.log("Sauvegarder invendus clients:",n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}},getLivraisonByClientId:n=>{const{livraisonsJour:s}=e();return s.find(o=>o.clientId===n)},getInvendusByClientId:n=>{const{invendusClients:s}=e();return s.find(o=>o.clientId===n)},setLoading:n=>{r({isLoading:n})}})),f1=xo((r,e)=>({stockJour:null,equipeMatin:null,equipeSoir:null,ventesJour:null,produits:[],isLoading:!1,creerStockJour:(n,s)=>{const o={id:`stock_${n.getTime()}`,date:n,produits:s.map(u=>({produitId:u.produitId,stockDebut:u.stockDebut})),createdAt:new Date,updatedAt:new Date};r({stockJour:o})},chargerStockJour:async n=>{r({isLoading:!0});try{console.log("Charger stock boutique du jour:",n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}},commencerEquipeMatin:(n,s)=>{const{stockJour:o}=e();if(!o)return;const u={id:`equipe_matin_${s.getTime()}`,date:s,periode:"matin",vendeuse:n,produits:o.produits.map(h=>({produitId:h.produitId,stockDebut:h.stockDebut,vendu:0,reste:h.stockDebut})),statut:"en_cours",createdAt:new Date,updatedAt:new Date};r({equipeMatin:u})},commencerEquipeSoir:(n,s)=>{const{equipeMatin:o}=e();if(!o)return;const u={id:`equipe_soir_${s.getTime()}`,date:s,periode:"soir",vendeuse:n,produits:o.produits.map(h=>({produitId:h.produitId,stockDebut:h.reste,vendu:0,reste:h.reste})),statut:"en_cours",createdAt:new Date,updatedAt:new Date};r({equipeSoir:u})},saisirVenteMatin:(n,s)=>{r(o=>o.equipeMatin?{equipeMatin:{...o.equipeMatin,produits:o.equipeMatin.produits.map(u=>u.produitId===n?{...u,vendu:s,reste:u.stockDebut-s}:u),updatedAt:new Date}}:o)},saisirVenteSoir:(n,s)=>{r(o=>o.equipeSoir?{equipeSoir:{...o.equipeSoir,produits:o.equipeSoir.produits.map(u=>u.produitId===n?{...u,vendu:s,reste:u.stockDebut-s}:u),updatedAt:new Date}}:o)},terminerEquipeMatin:()=>{r(n=>({equipeMatin:n.equipeMatin?{...n.equipeMatin,statut:"termine",updatedAt:new Date}:null}))},terminerEquipeSoir:()=>{r(n=>({equipeSoir:n.equipeSoir?{...n.equipeSoir,statut:"termine",updatedAt:new Date}:null})),e().calculerVentesBoutique()},calculerVentesBoutique:()=>{const{stockJour:n,equipeMatin:s,equipeSoir:o}=e();if(!n||!s||!o)return;const u={id:`ventes_${n.date.getTime()}`,date:n.date,produits:n.produits.map(h=>{const m=s.produits.find(P=>P.produitId===h.produitId),g=o.produits.find(P=>P.produitId===h.produitId),p=m?.vendu||0,T=m?.reste||0,b=g?.vendu||0,w=g?.reste||0;return{produitId:h.produitId,stockDebut:h.stockDebut,venduMatin:p,resteMidi:T,venduSoir:b,invenduBoutique:w,venduTotal:p+b}}),createdAt:new Date,updatedAt:new Date};r({ventesJour:u})},calculerResteMidi:n=>{const{equipeMatin:s}=e();if(!s)return 0;const o=s.produits.find(u=>u.produitId===n);return o?o.stockDebut-o.vendu:0},calculerInvenduBoutique:n=>{const{equipeSoir:s}=e();if(!s)return 0;const o=s.produits.find(u=>u.produitId===n);return o?o.reste:0},sauvegarderEquipe:async n=>{const{equipeMatin:s,equipeSoir:o}=e(),u=n==="matin"?s:o;if(u){r({isLoading:!0});try{console.log(`Sauvegarder quipe ${n}:`,u),r({isLoading:!1})}catch(h){throw r({isLoading:!1}),h}}},sauvegarderVentes:async()=>{const{ventesJour:n}=e();if(n){r({isLoading:!0});try{console.log("Sauvegarder ventes boutique:",n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}}},setLoading:n=>{r({isLoading:n})}})),d1=xo((r,e)=>({rapportJour:null,historiqueRapports:[],indicateurs:null,isLoading:!1,genererRapportJour:async n=>{r({isLoading:!0});try{console.log("Gnration rapport pour:",n);const s={id:`rapport_${n.getTime()}`,date:n,produits:[],totaux:{quantitePrevue:0,quantiteProduite:0,quantiteVendueTotal:0,invendusTotal:0,tauxVenteGlobal:0,pertesTotales:0},statut:"genere",createdAt:new Date,updatedAt:new Date};r({rapportJour:s,isLoading:!1}),e().calculerIndicateursPerformance(n)}catch(s){throw r({isLoading:!1}),s}},chargerRapport:async n=>{r({isLoading:!0});try{console.log("Charger rapport pour:",n),r({isLoading:!1})}catch(s){throw r({isLoading:!1}),s}},validerRapport:async()=>{const{rapportJour:n}=e();if(n)try{const s={...n,statut:"valide",updatedAt:new Date};r({rapportJour:s}),console.log("Rapport valid:",s)}catch(s){throw s}},chargerHistorique:async(n,s)=>{r({isLoading:!0});try{console.log("Charger historique:",n,"",s),r({isLoading:!1})}catch(o){throw r({isLoading:!1}),o}},calculerIndicateursPerformance:n=>{const{rapportJour:s}=e();if(!s)return;const o=s.produits.reduce((m,g)=>({vendu:m.vendu+g.quantiteVendueClients,invendus:m.invendus+g.invendusClients}),{vendu:0,invendus:0}),u=s.produits.reduce((m,g)=>({vendu:m.vendu+g.quantiteVendueBoutique,invendus:m.invendus+g.invendusBoutique}),{vendu:0,invendus:0}),h={date:n,tauxVenteClients:e().calculerTauxVente(o.vendu,o.vendu+o.invendus),tauxVenteBoutique:e().calculerTauxVente(u.vendu,u.vendu+u.invendus),tauxVenteGlobal:s.totaux.tauxVenteGlobal,pertesClients:o.invendus,pertesBoutique:u.invendus,pertesTotales:s.totaux.pertesTotales};r({indicateurs:h})},calculerTauxVente:(n,s)=>s===0?0:Math.round(n/s*100*100)/100,calculerEcart:(n,s)=>n-s,setLoading:n=>{r({isLoading:n})}})),m1=()=>{};var n0={};const iT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},p1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,P=p&63;g||(P=64,h||(w=64)),s.push(n[T],n[b],n[w],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):p1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new g1;const w=u<<2|m>>4;if(s.push(w),p!==64){const P=m<<4&240|p>>2;if(s.push(P),b!==64){const Y=p<<6&192|b;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class g1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y1=function(r){const e=iT(r);return rT.encodeByteArray(e,!0)},_h=function(r){return y1(r).replace(/\./g,"")},sT=function(r){try{return rT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function v1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _1=()=>v1().__FIREBASE_DEFAULTS__,E1=()=>{if(typeof process>"u"||typeof n0>"u")return;const r=n0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},T1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sT(r[1]);return e&&JSON.parse(e)},Fh=()=>{try{return m1()||_1()||E1()||T1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>Fh()?.emulatorHosts?.[r],b1=r=>{const e=aT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},oT=()=>Fh()?.config,lT=r=>Fh()?.[`_${r}`];class A1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uT(r){return(await fetch(r,{credentials:"include"})).ok}function S1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(h)),""].join(".")}const Kl={};function w1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function x1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let i0=!1;function cT(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Kl[r]===e||Kl[r]||i0)return;Kl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=w1().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{i0=!0,h()},w}function T(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=x1(s),P=n("text"),Y=document.getElementById(P)||document.createElement("span"),Q=n("learnmore"),H=document.getElementById(Q)||document.createElement("a"),ie=n("preprendIcon"),$=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;m(K),T(H,Q);const re=p();g($,ie),K.append($,Y,H,re),document.body.appendChild(K)}u?(Y.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function C1(){const r=Fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function N1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D1(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function O1(){return!C1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function M1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const V1="FirebaseError";class ui extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=V1,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?P1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ui(o,m,s)}}function P1(r,e){return r.replace(L1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const L1=/\{\$([^}]+)}/g;function j1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function hs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(r0(u)&&r0(h)){if(!hs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function r0(r){return r!==null&&typeof r=="object"}function cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function k1(r,e){const n=new U1(r,e);return n.subscribe.bind(n)}class U1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");z1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function _m(){}const q1=1e3,B1=2,H1=14400*1e3,F1=.5;function s0(r,e=q1,n=B1){const s=e*Math.pow(n,r),o=Math.round(F1*s*(Math.random()-.5)*2);return Math.min(H1,s+o)}function qt(r){return r&&r._delegate?r._delegate:r}class ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class G1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new A1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K1(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q1(r){return r===Zs?void 0:r}function K1(r){return r.instantiationMode==="EAGER"}class Y1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const $1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},X1=Me.INFO,J1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Z1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=J1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gh{constructor(e){this.name=e,this._logLevel=X1,this._logHandler=Z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const W1=(r,e)=>e.some(n=>r instanceof n);let a0,o0;function eR(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tR(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Lm=new WeakMap,pT=new WeakMap,Em=new WeakMap,vp=new WeakMap;function nR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(os(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&mT.set(n,r)}).catch(()=>{}),vp.set(e,r),e}function iR(r){if(Lm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Lm.set(r,e)}let jm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Lm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||pT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function rR(r){jm=r(jm)}function sR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tm(this),e,...n);return pT.set(s,e.sort?e.sort():[e]),os(s)}:tR().includes(r)?function(...e){return r.apply(Tm(this),e),os(mT.get(this))}:function(...e){return os(r.apply(Tm(this),e))}}function aR(r){return typeof r=="function"?sR(r):(r instanceof IDBTransaction&&iR(r),W1(r,eR())?new Proxy(r,jm):r)}function os(r){if(r instanceof IDBRequest)return nR(r);if(Em.has(r))return Em.get(r);const e=aR(r);return e!==r&&(Em.set(r,e),vp.set(e,r)),e}const Tm=r=>vp.get(r);function gT(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=os(h);return s&&h.addEventListener("upgradeneeded",g=>{s(os(h.result),g.oldVersion,g.newVersion,os(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const oR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],bm=new Map;function l0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=lR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return bm.set(e,u),u}rR(r=>({...r,get:(e,n,s)=>l0(e,n)||r.get(e,n,s),has:(e,n)=>!!l0(e,n)||r.has(e,n)}));class uR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cR(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",u0="0.14.6";const gr=new Gh("@firebase/app"),hR="@firebase/app-compat",fR="@firebase/analytics-compat",dR="@firebase/analytics",mR="@firebase/app-check-compat",pR="@firebase/app-check",gR="@firebase/auth",yR="@firebase/auth-compat",vR="@firebase/database",_R="@firebase/data-connect",ER="@firebase/database-compat",TR="@firebase/functions",bR="@firebase/functions-compat",AR="@firebase/installations",SR="@firebase/installations-compat",wR="@firebase/messaging",xR="@firebase/messaging-compat",RR="@firebase/performance",CR="@firebase/performance-compat",IR="@firebase/remote-config",NR="@firebase/remote-config-compat",DR="@firebase/storage",OR="@firebase/storage-compat",MR="@firebase/firestore",VR="@firebase/ai",PR="@firebase/firestore-compat",LR="firebase",jR="12.6.0";const Um="[DEFAULT]",kR={[km]:"fire-core",[hR]:"fire-core-compat",[dR]:"fire-analytics",[fR]:"fire-analytics-compat",[pR]:"fire-app-check",[mR]:"fire-app-check-compat",[gR]:"fire-auth",[yR]:"fire-auth-compat",[vR]:"fire-rtdb",[_R]:"fire-data-connect",[ER]:"fire-rtdb-compat",[TR]:"fire-fn",[bR]:"fire-fn-compat",[AR]:"fire-iid",[SR]:"fire-iid-compat",[wR]:"fire-fcm",[xR]:"fire-fcm-compat",[RR]:"fire-perf",[CR]:"fire-perf-compat",[IR]:"fire-rc",[NR]:"fire-rc-compat",[DR]:"fire-gcs",[OR]:"fire-gcs-compat",[MR]:"fire-fst",[PR]:"fire-fst-compat",[VR]:"fire-vertex","fire-js":"fire-js",[LR]:"fire-js-all"};const Eh=new Map,UR=new Map,zm=new Map;function c0(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function zi(r){const e=r.name;if(zm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const n of Eh.values())c0(n,r);for(const n of UR.values())c0(n,r);return!0}function ua(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Mi(r){return r==null?!1:r.settings!==void 0}const zR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new la("app","Firebase",zR);class qR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const Co=jR;function yT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=oT()),!n)throw ls.create("no-options");const u=Eh.get(o);if(u){if(hs(n,u.options)&&hs(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new Y1(o);for(const g of zm.values())h.addComponent(g);const m=new qR(n,s,h);return Eh.set(o,m),m}function _p(r=Um){const e=Eh.get(r);if(!e&&r===Um&&oT())return yT();if(!e)throw ls.create("no-app",{appName:r});return e}function Fn(r,e,n){let s=kR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}zi(new ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const BR="firebase-heartbeat-database",HR=1,eu="firebase-heartbeat-store";let Am=null;function vT(){return Am||(Am=gT(BR,HR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Am}async function FR(r){try{const n=(await vT()).transaction(eu),s=await n.objectStore(eu).get(_T(r));return await n.done,s}catch(e){if(e instanceof ui)gr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function h0(r,e){try{const s=(await vT()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,_T(r)),await s.done}catch(n){if(n instanceof ui)gr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function _T(r){return`${r.name}!${r.options.appId}`}const GR=1024,QR=30;class KR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $R(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>QR){const o=XR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f0(),{heartbeatsToSend:n,unsentEntries:s}=YR(this._heartbeatsCache.heartbeats),o=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function f0(){return new Date().toISOString().substring(0,10)}function YR(r,e=GR){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),d0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),d0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $R{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d0(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function XR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function JR(r){zi(new ai("platform-logger",e=>new uR(e),"PRIVATE")),zi(new ai("heartbeat",e=>new KR(e),"PRIVATE")),Fn(km,u0,r),Fn(km,u0,"esm2020"),Fn("fire-js","")}JR("");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var us,ET;(function(){var r;function e(C,x){function R(){}R.prototype=x.prototype,C.F=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,D,j){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return x.prototype[D].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,R){R||(R=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],D=C.g[2];let j=C.g[3],I;I=x+(j^R&(D^j))+V[0]+3614090360&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(D^x&(R^D))+V[1]+3905402710&4294967295,j=x+(I<<12&4294967295|I>>>20),I=D+(R^j&(x^R))+V[2]+606105819&4294967295,D=j+(I<<17&4294967295|I>>>15),I=R+(x^D&(j^x))+V[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(j^R&(D^j))+V[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(D^x&(R^D))+V[5]+1200080426&4294967295,j=x+(I<<12&4294967295|I>>>20),I=D+(R^j&(x^R))+V[6]+2821735955&4294967295,D=j+(I<<17&4294967295|I>>>15),I=R+(x^D&(j^x))+V[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(j^R&(D^j))+V[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(D^x&(R^D))+V[9]+2336552879&4294967295,j=x+(I<<12&4294967295|I>>>20),I=D+(R^j&(x^R))+V[10]+4294925233&4294967295,D=j+(I<<17&4294967295|I>>>15),I=R+(x^D&(j^x))+V[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(j^R&(D^j))+V[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=j+(D^x&(R^D))+V[13]+4254626195&4294967295,j=x+(I<<12&4294967295|I>>>20),I=D+(R^j&(x^R))+V[14]+2792965006&4294967295,D=j+(I<<17&4294967295|I>>>15),I=R+(x^D&(j^x))+V[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=x+(D^j&(R^D))+V[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^D&(x^R))+V[6]+3225465664&4294967295,j=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(j^x))+V[11]+643717713&4294967295,D=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(D^j))+V[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(D^j&(R^D))+V[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^D&(x^R))+V[10]+38016083&4294967295,j=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(j^x))+V[15]+3634488961&4294967295,D=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(D^j))+V[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(D^j&(R^D))+V[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^D&(x^R))+V[14]+3275163606&4294967295,j=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(j^x))+V[3]+4107603335&4294967295,D=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(D^j))+V[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(D^j&(R^D))+V[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=j+(R^D&(x^R))+V[2]+4243563512&4294967295,j=x+(I<<9&4294967295|I>>>23),I=D+(x^R&(j^x))+V[7]+1735328473&4294967295,D=j+(I<<14&4294967295|I>>>18),I=R+(j^x&(D^j))+V[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=x+(R^D^j)+V[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^D)+V[8]+2272392833&4294967295,j=x+(I<<11&4294967295|I>>>21),I=D+(j^x^R)+V[11]+1839030562&4294967295,D=j+(I<<16&4294967295|I>>>16),I=R+(D^j^x)+V[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(R^D^j)+V[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^D)+V[4]+1272893353&4294967295,j=x+(I<<11&4294967295|I>>>21),I=D+(j^x^R)+V[7]+4139469664&4294967295,D=j+(I<<16&4294967295|I>>>16),I=R+(D^j^x)+V[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(R^D^j)+V[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^D)+V[0]+3936430074&4294967295,j=x+(I<<11&4294967295|I>>>21),I=D+(j^x^R)+V[3]+3572445317&4294967295,D=j+(I<<16&4294967295|I>>>16),I=R+(D^j^x)+V[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(R^D^j)+V[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=j+(x^R^D)+V[12]+3873151461&4294967295,j=x+(I<<11&4294967295|I>>>21),I=D+(j^x^R)+V[15]+530742520&4294967295,D=j+(I<<16&4294967295|I>>>16),I=R+(D^j^x)+V[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=x+(D^(R|~j))+V[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~D))+V[7]+1126891415&4294967295,j=x+(I<<10&4294967295|I>>>22),I=D+(x^(j|~R))+V[14]+2878612391&4294967295,D=j+(I<<15&4294967295|I>>>17),I=R+(j^(D|~x))+V[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=x+(D^(R|~j))+V[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~D))+V[3]+2399980690&4294967295,j=x+(I<<10&4294967295|I>>>22),I=D+(x^(j|~R))+V[10]+4293915773&4294967295,D=j+(I<<15&4294967295|I>>>17),I=R+(j^(D|~x))+V[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=x+(D^(R|~j))+V[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~D))+V[15]+4264355552&4294967295,j=x+(I<<10&4294967295|I>>>22),I=D+(x^(j|~R))+V[6]+2734768916&4294967295,D=j+(I<<15&4294967295|I>>>17),I=R+(j^(D|~x))+V[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=x+(D^(R|~j))+V[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=j+(R^(x|~D))+V[11]+3174756917&4294967295,j=x+(I<<10&4294967295|I>>>22),I=D+(x^(j|~R))+V[2]+718787259&4294967295,D=j+(I<<15&4294967295|I>>>17),I=R+(j^(D|~x))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const R=x-this.blockSize,V=this.C;let D=this.h,j=0;for(;j<x;){if(D==0)for(;j<=R;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<x;)if(V[D++]=C.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<x;)if(V[D++]=C[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[x++]=this.g[R]>>>V&255;return C};function u(C,x){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function h(C,x){this.h=x;const R=[];let V=!0;for(let D=C.length-1;D>=0;D--){const j=C[D]|0;V&&j==x||(R[D]=j,V=!1)}this.g=R}var m={};function g(C){return-128<=C&&C<128?u(C,function(x){return new h([x|0],x<0?-1:0)}):new h([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return H(p(-C));const x=[];let R=1;for(let V=0;C>=R;V++)x[V]=C/R|0,R*=4294967296;return new h(x,0)}function T(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return H(T(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(x,8));let V=b;for(let j=0;j<C.length;j+=8){var D=Math.min(8,C.length-j);const I=parseInt(C.substring(j,j+D),x);D<8?(D=p(Math.pow(x,D)),V=V.j(D).add(p(I))):(V=V.j(R),V=V.add(p(I)))}return V}var b=g(0),w=g(1),P=g(16777216);r=h.prototype,r.m=function(){if(Q(this))return-H(this).m();let C=0,x=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*x,x*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Y(this))return"0";if(Q(this))return"-"+H(this).toString(C);const x=p(Math.pow(C,6));var R=this;let V="";for(;;){const D=re(R,x).g;R=ie(R,D.j(x));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,Y(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Y(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=ie(this,C),Q(C)?-1:Y(C)?0:1};function H(C){const x=C.g.length,R=[];for(let V=0;V<x;V++)R[V]=~C.g[V];return new h(R,~C.h).add(w)}r.abs=function(){return Q(this)?H(this):this},r.add=function(C){const x=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let D=0;D<=x;D++){let j=V+(this.i(D)&65535)+(C.i(D)&65535),I=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=I>>>16,j&=65535,I&=65535,R[D]=I<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ie(C,x){return C.add(H(x))}r.j=function(C){if(Y(this)||Y(C))return b;if(Q(this))return Q(C)?H(this).j(H(C)):H(H(this).j(C));if(Q(C))return H(this.j(H(C)));if(this.l(P)<0&&C.l(P)<0)return p(this.m()*C.m());const x=this.g.length+C.g.length,R=[];for(var V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const j=this.i(V)>>>16,I=this.i(V)&65535,rt=C.i(D)>>>16,Ot=C.i(D)&65535;R[2*V+2*D]+=I*Ot,$(R,2*V+2*D),R[2*V+2*D+1]+=j*Ot,$(R,2*V+2*D+1),R[2*V+2*D+1]+=I*rt,$(R,2*V+2*D+1),R[2*V+2*D+2]+=j*rt,$(R,2*V+2*D+2)}for(C=0;C<x;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=x;C<2*x;C++)R[C]=0;return new h(R,0)};function $(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function K(C,x){this.g=C,this.h=x}function re(C,x){if(Y(x))throw Error("division by zero");if(Y(C))return new K(b,b);if(Q(C))return x=re(H(C),x),new K(H(x.g),H(x.h));if(Q(x))return x=re(C,H(x)),new K(H(x.g),x.h);if(C.g.length>30){if(Q(C)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=x;V.l(C)<=0;)R=ce(R),V=ce(V);var D=_e(R,1),j=_e(V,1);for(V=_e(V,2),R=_e(R,2);!Y(V);){var I=j.add(V);I.l(C)<=0&&(D=D.add(R),j=I),V=_e(V,1),R=_e(R,1)}return x=ie(C,D.j(x)),new K(D,x)}for(D=b;C.l(x)>=0;){for(R=Math.max(1,Math.floor(C.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=p(R),I=j.j(x);Q(I)||I.l(C)>0;)R-=V,j=p(R),I=j.j(x);Y(j)&&(j=w),D=D.add(j),C=ie(C,I)}return new K(D,C)}r.B=function(C){return re(this,C).h},r.and=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)&C.i(V);return new h(R,this.h&C.h)},r.or=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)|C.i(V);return new h(R,this.h|C.h)},r.xor=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)^C.i(V);return new h(R,this.h^C.h)};function ce(C){const x=C.g.length+1,R=[];for(let V=0;V<x;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(R,C.h)}function _e(C,x){const R=x>>5;x%=32;const V=C.g.length-R,D=[];for(let j=0;j<V;j++)D[j]=x>0?C.i(j+R)>>>x|C.i(j+R+1)<<32-x:C.i(j+R);return new h(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ET=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,us=h}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,Hl,bT,oh,qm,AT,ST,wT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in E))break e;E=E[k]}c=c[c.length-1],S=E[c],y=y(S),y!=S&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function p(c,y,E){return p=g,p.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,k,B){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[k].apply(S,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=c[S];return E}return[]}function Y(c,y){for(let S=1;S<arguments.length;S++){const k=arguments[S];var E=typeof k;if(E=E!="object"?E:k?Array.isArray(k)?"array":E:"null",E=="array"||E=="object"&&typeof k.length=="number"){E=c.length||0;const B=k.length||0;c.length=E+B;for(let se=0;se<B;se++)c[E+se]=k[se]}else c.push(k)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,E){const S=K.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,_e=!1,C=new $,x=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(R)}};function R(){for(var c;c=ie();){try{c.h.call(c.g)}catch(E){H(E)}var y=K;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}_e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(rt,D),rt.prototype.init=function(c,y){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,y,E,S,k){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=k,this.key=++J,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,E){for(const S in c)y.call(E,c[S],S,c)}function Ge(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function M(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(E in S)c[E]=S[E];for(let B=0;B<te.length;B++)E=te[B],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,E,S,k){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const se=Re(c,y,S,k);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ae(y,this.src,B,!!S,k),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var S=c.g[E],k=Array.prototype.indexOf.call(S,y,void 0),B;(B=k>=0)&&Array.prototype.splice.call(S,k,1),B&&(ge(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,y,E,S){for(let k=0;k<c.length;++k){const B=c[k];if(!B.da&&B.listener==y&&B.capture==!!E&&B.ha==S)return k}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Mt={};function st(c,y,E,S,k){if(Array.isArray(y)){for(let B=0;B<y.length;B++)st(c,y[B],E,S,k);return null}return E=ko(E),c&&c[Ot]?c.J(y,E,m(S)?!!S.capture:!1,k):Ts(c,y,E,!1,S,k)}function Ts(c,y,E,S,k,B){if(!y)throw Error("Invalid event type");const se=m(k)?!!k.capture:!!k;let we=bs(c);if(we||(c[je]=we=new he(c)),E=we.add(y,E,S,se,B),E.proxy)return E;if(S=fa(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)j||(k=se),k===void 0&&(k=!1),c.addEventListener(y.toString(),S,k);else if(c.attachEvent)c.attachEvent(ci(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function fa(){function c(E){return y.call(c.src,c.listener,E)}const y=Lo;return c}function da(c,y,E,S,k){if(Array.isArray(y))for(var B=0;B<y.length;B++)da(c,y[B],E,S,k);else S=m(S)?!!S.capture:!!S,E=ko(E),c&&c[Ot]?(c=c.i,B=String(y).toString(),B in c.g&&(y=c.g[B],E=Re(y,E,S,k),E>-1&&(ge(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[B],c.h--)))):c&&(c=bs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,E,S,k)),(E=c>-1?y[c]:null)&&ma(E))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])Te(y.i,c);else{var E=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(E,S,c.capture):y.detachEvent?y.detachEvent(ci(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=bs(y))?(Te(E,c),E.h==0&&(E.src=null,y[je]=null)):ge(c)}}}function ci(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Lo(c,y){if(c.da)c=!0;else{y=new rt(y,this);const E=c.listener,S=c.ha||c.src;c.fa&&ma(c),c=E.call(S,y)}return c}function bs(c){return c=c[je],c instanceof he?c:null}var jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(y){return c.handleEvent(y)}),c[jo])}function _t(){V.call(this),this.i=new he(this),this.M=this,this.G=null}b(_t,V),_t.prototype[Ot]=!0,_t.prototype.removeEventListener=function(c,y,E,S){da(this,c,y,E,S)};function Vt(c,y){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var k=y;y=new D(S,c),oe(y,k)}k=!0;let B,se;if(E)for(se=E.length-1;se>=0;se--)B=y.g=E[se],k=br(B,S,!0,y)&&k;if(B=y.g=c,k=br(B,S,!0,y)&&k,k=br(B,S,!1,y)&&k,E)for(se=0;se<E.length;se++)B=y.g=E[se],k=br(B,S,!1,y)&&k}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let S=0;S<E.length;S++)ge(E[S]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,E,S){return this.i.add(String(c),y,!1,E,S)},_t.prototype.K=function(c,y,E,S){return this.i.add(String(c),y,!0,E,S)};function br(c,y,E,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let B=0;B<y.length;++B){const se=y[B];if(se&&!se.da&&se.capture==E){const we=se.listener,pt=se.ha||se.src;se.fa&&Te(c.i,se),k=we.call(pt,S)!==!1&&k}}return k&&!S.defaultPrevented}function ff(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Tu(c){c.g=ff(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){V.call(this),this.h=c,this.g={}}b(As,V);var Uo=[];function zo(c){Ue(c.g,function(y,E){this.g.hasOwnProperty(E)&&ma(y)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),zo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=h.JSON.stringify,df=h.JSON.parse,bu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Au(){}function Su(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}b(Bt,D);function Cn(){D.call(this,"c")}b(Cn,D);var mt={},wu=null;function pa(){return wu=wu||new _t}mt.Ia="serverreachability";function xu(c){D.call(this,mt.Ia,c)}b(xu,D);function hi(c){const y=pa();Vt(y,new xu(y))}mt.STAT_EVENT="statevent";function Ss(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}b(Ss,D);function Et(c){const y=pa();Vt(y,new Ss(y,c))}mt.Ja="timingevent";function fi(c,y){D.call(this,mt.Ja,c),this.size=y}b(fi,D);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function mf(c,y,E,S,k,B){c.info(function(){if(c.g)if(B){var se="",we=B.split("&");for(let Be=0;Be<we.length;Be++){var pt=we[Be].split("=");if(pt.length>1){const at=pt[0];pt=pt[1];const On=at.split("_");se=On.length>=2&&On[1]=="type"?se+(at+"="+pt+"&"):se+(at+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+y+`
`+E+`
`+se})}function Ru(c,y,E,S,k,B,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+y+`
`+E+`
`+B+" "+se})}function mi(c,y,E,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pf(c,E)+(S?" "+S:"")})}function ws(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function pf(c,y){if(!c.g)return y;if(!y)return null;try{const B=JSON.parse(y);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var E=B[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var k=S[0];if(k!="noop"&&k!="stop"&&k!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Ar(B)}catch{return y}}var xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Rs(){}b(Rs,Au),Rs.prototype.g=function(){return new XMLHttpRequest},Bo=new Rs;function Hi(c){return encodeURIComponent(String(c))}function Cu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Yn(c,y,E,S){this.j=c,this.i=y,this.l=E,this.S=S||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function pi(c,y,E){c.M=1,c.A=Cs(At(y)),c.u=E,c.R=!0,ga(c,null)}function ga(c,y){c.F=Date.now(),gi(c),c.B=At(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ea(E.i,"t",S),c.C=0,E=c.j.L,c.h=new $n,c.g=Hu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new rn(p(c.Y,c,c.g),c.P)),y=c.V,E=c.g,S=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Uo[0]=k.toString()),k=Uo);for(let B=0;B<k.length;B++){const se=st(E,k[B],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),mf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Zn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Zn(this.g),pt=this.g.ya(),Be=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||pt==7||(pt==8||Be<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var E=gf(this);if(this.o=y==200,Ru(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,k=this.g;if((S=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var B=S;break t}}B=null}if(c=B)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Et(12),yn(this),In(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<E.length;)if(at=Nu(this,E),at==jt){we==4&&(this.m=4,Et(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),mi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,at,null),vi(this,at);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,E,"[Invalid Chunked Response]"),yn(this),In(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),il(se),se.P=!0,Et(11))}}else mi(this.i,this.l,E,null),vi(this,E);we==4&&yn(this),this.o&&!this.K&&(we==4?Uu(this.j,this):(this.o=!1,gi(this)))}else Gi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),yn(this),In(this)}}}catch{}finally{}};function gf(c){if(!Iu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let E="";const S=y.length,k=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),In(c),"";c.h.i=new h.TextDecoder}for(let B=0;B<S;B++)c.h.h=!0,E+=c.h.i.decode(y[B],{stream:!(k&&B==S-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,y){var E=c.C,S=y.indexOf(`
`,E);return S==-1?jt:(E=Number(y.substring(E,S)),isNaN(E)?Tt:(S+=1,S+E>y.length?jt:(y=y.slice(S,S+E),c.C=S+E,y)))}Yn.prototype.cancel=function(){this.K=!0,yn(this)};function gi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(p(c.aa,c),y)}function yi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ws(this.i,this.B),this.M!=2&&(hi(),Et(17)),yn(this),this.m=2,In(this)):ya(this,this.T-c)};function In(c){c.j.I==0||c.K||Uu(c.j,c)}function yn(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ei(E.h,c))){if(!c.L&&Ei(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)wa(E),Dr(E);else break e;Ps(E),Et(18)}}else E.xa=k[1],0<E.xa-E.K&&k[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=di(p(E.Va,E),6e3));_i(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((c.L||E.g==c)&&wa(E),!I(y))for(k=E.Ba.g.parse(y),y=0;y<k.length;y++){let Be=k[y];const at=Be[0];if(!(at<=E.K))if(E.K=at,Be=Be[1],E.I==2)if(Be[0]=="c"){E.M=Be[1],E.ba=Be[2];const On=Be[3];On!=null&&(E.ka=On,E.j.info("VER="+E.ka));const Ri=Be[4];Ri!=null&&(E.za=Ri,E.j.info("SVER="+E.za));const Wn=Be[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ei=c.g;if(ei){const Ls=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var B=S.h;B.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Go(B,B.h),B.h=null))}if(S.G){const xa=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(S.wa=xa,Qe(S.J,S.G,xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var se=c;if(S.na=Bu(S,S.L?S.ba:null,S.W),se.L){Qo(S.h,se);var we=se,pt=S.O;pt&&(we.H=pt),we.D&&(yi(we),gi(we)),S.g=se}else ju(S);E.i.length>0&&wi(E)}else Be[0]!="stop"&&Be[0]!="close"||xi(E,7);else E.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?xi(E,7):tl(E):Be[0]!="noop"&&E.l&&E.l.qa(Be),E.A=0)}}hi(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function Ho(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function Qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return P(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let k,B=null;S>=0?(k=c[E].substring(0,S),B=c[E].substring(S+1)):k=c[E],y(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Yo(this,Pu(c.i)),this.m=c.m):c&&(y=String(c).match(Du))?(this.l=!1,kt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Sr(this,y[4]),this.h=Ti(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Is(y,_a,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,_a,!0),"@"),c.push(Hi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Is(E,E.charAt(0)=="/"?$o:Ou,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Is(E,Mu)),c.join("")},vn.prototype.resolve=function(c){const y=At(this);let E=!!c.j;E?kt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var S=c.h;if(E)Sr(y,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var k=y.h.lastIndexOf("/");k!=-1&&(S=y.h.slice(0,k+1)+S)}if(k=S,k==".."||k==".")S="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){S=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let se=0;se<k.length;){const we=k[se++];we=="."?S&&se==k.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&se==k.length&&B.push("")):(B.push(we),S=!0)}S=B.join("/")}else S=k}return E?y.h=S:E=c.i.toString()!=="",E?Yo(y,Pu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function At(c){return new vn(c)}function kt(c,y,E){c.j=E?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Yo(c,y,E){y instanceof xr?(c.i=y,Ta(c.i,c.l)):(E||(y=Is(y,wr)),c.i=new xr(y,c.l))}function Qe(c,y,E){c.i.set(y,E)}function Cs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Ou=/[#\?:]/g,$o=/[#\?]/g,wr=/[#\?@]/g,Mu=/#/g;function xr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=xr.prototype,r.add=function(c,y){un(this),this.i=null,c=Rr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Vu(c,y){un(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return un(c),y=Rr(c,y),c.g.has(y)}r.forEach=function(c,y){un(this),this.g.forEach(function(E,S){E.forEach(function(k){c.call(y,k,S,this)},this)},this)};function Jo(c,y){un(c);let E=[];if(typeof y=="string")Xo(c,y)&&(E=E.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return un(this),this.i=null,c=Rr(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function Ea(c,y,E){Vu(c,y),E.length>0&&(c.i=null,c.g.set(Rr(c,y),P(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const k=Hi(E);E=Jo(this,E);for(let B=0;B<E.length;B++){let se=k;E[B]!==""&&(se+="="+Hi(E[B])),c.push(se)}}return this.i=c.join("&")};function Pu(c){const y=new xr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ta(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(E,S){const k=S.toLowerCase();S!=k&&(Vu(this,S),Ea(this,k,E))},c)),c.j=y}function Xn(c,y){const E=new Kn;if(h.Image){const S=new Image;S.onload=T(Nn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=T(Nn,E,"TestLoadImage: error",!1,y,S),S.onabort=T(Nn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=T(Nn,E,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Zo(c,y){const E=new Kn,S=new AbortController,k=setTimeout(()=>{S.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(k),B.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),Nn(E,"TestPingServer: error",!1,y)})}function Nn(c,y,E,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(E)}catch{}}function Cr(){this.g=new bu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(bi,Au),bi.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ns,_t),r=Ns.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):Jn(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return Ue(c,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Ds(c,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Dn(E),typeof c=="string"?E!=null&&Hi(E):Qe(c,y,E))}function $e(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($e,_t);var Ai=/^https?$/i,Wo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(B){Os(this,B);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)E.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())E.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),k=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Wo,y,void 0)>=0)||S||k||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of E)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Os(this,B)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),Fi(c)}function el(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},r.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=B===0){let se=String(c.D).match(Du)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Ai.test(se?se.toLowerCase():"")}E=S}if(E)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var k=Zn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",el(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Vt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),df(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const y={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var E=Cu(c[S]);const k=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=y[k]||[];y[k]=B,B.push(E)}Ge(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,S){Et(0),this.W=c,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Bu(this,null,this.W),wi(this)};function tl(c){if(Aa(c),c.I==3){var y=c.V++,E=At(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),Vs(c,E),y=new Yn(c,c.j,y),y.M=2,y.A=Cs(At(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}qu(c)}function Dr(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function Aa(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wi(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ce||x(),_e||(ce(),_e=!0),C.add(y,c),c.D=0}}function Sa(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(p(c.Ea,c,y),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Yn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),oe(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Lu(this,k,y),E=At(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Vs(this,E),B&&(this.R?y="headers="+Hi(Dn(B))+"&"+y:this.u&&Ds(E,this.u,B)),Go(this.h,k),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",y),Qe(E,"SID","null"),k.U=!0,pi(k,E,null)):pi(k,E,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var E;y?E=y.l:E=c.V++;const S=At(c.J);Qe(S,"SID",c.M),Qe(S,"RID",E),Qe(S,"AID",c.K),Vs(c,S),c.u&&c.o&&Ds(S,c.u,c.o),E=new Yn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Lu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,E),pi(E,S,y)}function Vs(c,y){c.H&&Ue(c.H,function(E,S){Qe(y,S,E)}),c.l&&Ue({},function(E,S){Qe(y,S,E)})}function Lu(c,y,E){E=Math.min(c.i.length,E);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var k=c.i;let we=-1;for(;;){const pt=["count="+E];we==-1?E>0?(we=k[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let Be=!0;for(let at=0;at<E;at++){var B=k[at].g;const On=k[at].map;if(B-=we,B<0)we=Math.max(0,k[at].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var se=On instanceof Map?On:Object.entries(On);for(const[Ri,Wn]of se){let ei=Wn;m(Wn)&&(ei=Ar(Wn)),pt.push(B+Ri+"="+encodeURIComponent(ei))}}catch(Ri){throw pt.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{S&&S(On)}}if(Be){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ce||x(),_e||(ce(),_e=!0),C.add(y,c),c.A=0}}function Ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(p(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Dr(this),ku(this))};function il(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ku(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Ds(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Cs(At(y)),E.u=null,E.R=!0,ga(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ps(this),Et(19))};function wa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Uu(c,y){var E=null;if(c.g==y){wa(c),il(c),c.g=null;var S=2}else if(Ei(c.h,y))E=y.G,Qo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var k=c.D;S=pa(),Vt(S,new fi(S,E)),wi(c)}else ju(c);else if(k=y.m,k==3||k==0&&y.X>0||!(S==1&&Sa(c,y)||S==2&&Ps(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),k){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function zu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var E=p(c.bb,c),S=c.Ua;const k=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||kt(S,"https"),Cs(S),k?Xn(S.toString(),E):Zo(S.toString(),E)}else Et(2);c.I=0,c.l&&c.l.pa(y),qu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(Y(c.ja,y),Y(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Bu(c,y,E){var S=E instanceof vn?At(E):new vn(E);if(S.g!="")y&&(S.g=y+"."+S.g),Sr(S,S.u);else{var k=h.location;S=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const B=new vn(null);S&&kt(B,S),y&&(B.g=y),k&&Sr(B,k),E&&(B.h=E),S=B}return E=c.G,y=c.wa,E&&y&&Qe(S,E,y),Qe(S,"VER",c.ka),Vs(c,S),S}function Hu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new bi({ab:E})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){_t.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qi(this)}b(sn,_t),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){tl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Ar(c),c=E);y.i.push(new bt(y.Ya++,c)),y.I==3&&wi(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,sn.Z.N.call(this)};function Gu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Gu,Bt);function Qu(){Cn.call(this),this.status=1}b(Qu,Cn);function Qi(c){this.g=c}b(Qi,Fu),Qi.prototype.ra=function(){Vt(this.g,"a")},Qi.prototype.qa=function(c){Vt(this.g,new Gu(c))},Qi.prototype.pa=function(c){Vt(this.g,new Qu)},Qi.prototype.oa=function(){Vt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,wT=function(){return new Or},ST=function(){return pa()},AT=mt,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,oh=xs,qo.COMPLETE="complete",bT=qo,Su.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Hl=Su,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,TT=$e}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",g0="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Io="12.3.0";const ia=new Gh("@firebase/firestore");function ro(){return ia.logLevel}function ue(r,...e){if(ia.logLevel<=Me.DEBUG){const n=e.map(Ep);ia.debug(`Firestore (${Io}): ${r}`,...n)}}function yr(r,...e){if(ia.logLevel<=Me.ERROR){const n=e.map(Ep);ia.error(`Firestore (${Io}): ${r}`,...n)}}function go(r,...e){if(ia.logLevel<=Me.WARN){const n=e.map(Ep);ia.warn(`Firestore (${Io}): ${r}`,...n)}}function Ep(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,xT(r,s,n)}function xT(r,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||xT(e,o,s)}function Se(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class RT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class WR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new RT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class tC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new tC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Bm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Sm(o)===Sm(u)?Ve(o,u):Sm(o)?1:-1}return Ve(r.length,e.length)}const sC=55296,aC=57343;function Sm(r){const e=r.charCodeAt(0);return e>=sC&&e<=aC}function yo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const v0="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class et extends Oi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const oC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Oi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return oC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v0}static keyField(){return new $t([v0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}function CT(r,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lC(r,e,n,s){if(e===!0&&s===!0)throw new le(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _0(r){if(!pe.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function E0(r){if(pe.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function IT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Qh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function vr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(r);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function hu(r,e){if(!IT(r))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const T0=-62135596800,b0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*b0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<T0)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function uC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new fs(o,pe.empty(),e)}function cC(r){return new fs(r.readTime,r.key,tu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(be.min(),pe.empty(),tu)}static max(){return new fs(be.max(),pe.empty(),tu)}}function hC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==fC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{h[p]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function mC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;const bp=-1;function Yh(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function pC(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const NT="";function gC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=A0(e)),e=yC(r.get(n),e);return A0(e)}function yC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case NT:n+="";break;default:n+=u}}return n}function A0(r){return r+NT+""}function S0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function _s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function DT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Lt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class OT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new OT("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const vC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=vC.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}const MT="server_timestamp",VT="__type__",PT="__previous_value__",LT="__local_write_time__";function Ap(r){return(r?.mapValue?.fields||{})[VT]?.stringValue===MT}function $h(r){const e=r.mapValue.fields[PT];return Ap(e)?$h(e):e}function nu(r){const e=ds(r.mapValue.fields[LT].timestampValue);return new it(e.seconds,e.nanos)}class _C{constructor(e,n,s,o,u,h,m,g,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T}}const bh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const jT="__type__",EC="__max__",eh={mapValue:{}},kT="__vector__",Ah="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:bC(r)?9007199254740991:TC(r)?10:11:ve(28295,{value:r})}function qi(r,e){if(r===e)return!0;const n=ps(r);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?Th(h)===Th(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(S0(h)!==S0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!qi(h[g],m[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>qi(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=ps(r),s=ps(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),g=vt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return x0(r.timestampValue,e.timestampValue);case 4:return x0(nu(r),nu(e));case 5:return Bm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ms(u),g=ms(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=Ve(m[p],g[p]);if(T!==0)return T}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(vt(u.latitude),vt(h.latitude));return m!==0?m:Ve(vt(u.longitude),vt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return R0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Ah]?.arrayValue,T=g[Ah]?.arrayValue,b=Ve(p?.values?.length||0,T?.values?.length||0);return b!==0?b:R0(p,T)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===eh.mapValue&&h===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(h===eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const w=Bm(g[b],T[b]);if(w!==0)return w;const P=vo(m[g[b]],p[T[b]]);if(P!==0)return P}return Ve(g.length,T.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function x0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ds(r),s=ds(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function R0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function _o(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Hm(n.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function lh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,h)=>{o+=u.length+lh(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function C0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fm(r){return!!r&&"integerValue"in r}function Sp(r){return!!r&&"arrayValue"in r}function I0(r){return!!r&&"nullValue"in r}function N0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function TC(r){return(r?.mapValue?.fields||{})[jT]?.stringValue===kT}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return _s(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function bC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===EC}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){_s(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Yl(this.value))}}function UT(r){const e=[];return _s(r.fields,((n,s)=>{const o=new $t([n]);if(uh(s)){const u=UT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new xn(e)}class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,be.min(),be.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,be.min(),be.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function D0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function O0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qi(r.position[n],e.position[n]))return!1;return!0}class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function AC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class zT{}class It extends zT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new wC(e,n,s):n==="array-contains"?new CC(e,s):n==="in"?new IC(e,s):n==="not-in"?new NC(e,s):n==="array-contains-any"?new DC(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xC(e,s):new RC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends zT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return qT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qT(r){return r.op==="and"}function BT(r){return SC(r)&&qT(r)}function SC(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function Gm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(BT(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((n=>Gm(n))).join(",");return`${r.op}(${e})`}}function HT(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(r,e):r instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&HT(h,o.filters[m])),!0):!1})(r,e):void ve(19439)}function FT(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"})(r):"Filter"}class wC extends It{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class xC extends It{constructor(e,n){super(e,"in",n),this.keys=GT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class RC extends It{constructor(e,n){super(e,"not-in",n),this.keys=GT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function GT(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class CC extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&ru(n.arrayValue,this.value)}}class IC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class NC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class DC extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class OC{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function M0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new OC(r,e,n,s,o,u,h)}function wp(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!AC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!HT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!O0(r.startAt,e.startAt)&&O0(r.endAt,e.endAt)}function Qm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MC(r,e,n,s,o,u,h,m){return new fu(r,e,n,s,o,u,h,m)}function Rp(r){return new fu(r)}function V0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function QT(r){return r.collectionGroup!==null}function $l(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt($t.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new wh(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new wh($t.keyField(),s))}return e.Ie}function Vi(r){const e=Se(r);return e.Ee||(e.Ee=VC(e,$l(r))),e.Ee}function VC(r,e){if(r.limitType==="F")return M0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new wh(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return M0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Km(r,e){const n=r.filters.concat([e]);return new fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ym(r,e,n){return new fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Xh(r,e){return xp(Vi(r),Vi(e))&&r.limitType===e.limitType}function KT(r){return`${wp(Vi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>FT(o))).join(", ")}]`),Yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function Jh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=D0(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,$l(s),o)||s.endAt&&!(function(h,m,g){const p=D0(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,$l(s),o))})(r,e)}function PC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function YT(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=LC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function LC(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?vo(g,p):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}const jC=new ht(pe.comparator);function _r(){return jC}const $T=new ht(pe.comparator);function Fl(...r){let e=$T;for(const n of r)e=e.insert(n.key,n);return e}function XT(r){let e=$T;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ws(){return Xl()}function JT(){return Xl()}function Xl(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const kC=new ht(pe.comparator),UC=new Lt(pe.comparator);function Pe(...r){let e=UC;for(const n of r)e=e.add(n);return e}const zC=new Lt(Ve);function qC(){return zC}function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function ZT(r){return{integerValue:""+r}}function BC(r,e){return pC(e)?ZT(e):Cp(r,e)}class Zh{constructor(){this._=void 0}}function HC(r,e,n){return r instanceof xh?(function(o,u){const h={fields:{[VT]:{stringValue:MT},[LT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=$h(u)),u&&(h.fields[PT]=u),{mapValue:h}})(n,e):r instanceof su?eb(r,e):r instanceof au?tb(r,e):(function(o,u){const h=WT(o,u),m=P0(h)+P0(o.Ae);return Fm(h)&&Fm(o.Ae)?ZT(m):Cp(o.serializer,m)})(r,e)}function FC(r,e,n){return r instanceof su?eb(r,e):r instanceof au?tb(r,e):n}function WT(r,e){return r instanceof Rh?(function(s){return Fm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends Zh{}class su extends Zh{constructor(e){super(),this.elements=e}}function eb(r,e){const n=nb(e);for(const s of r.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends Zh{constructor(e){super(),this.elements=e}}function tb(r,e){let n=nb(e);for(const s of r.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class Rh extends Zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function P0(r){return vt(r.integerValue||r.doubleValue)}function nb(r){return Sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function GC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?yo(s.elements,o.elements,qi):s instanceof Rh&&o instanceof Rh?qi(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(r.transform,e.transform)}class QC{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function ib(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ip(r.key,si.none()):new du(r.key,r.data,si.none());{const n=r.data,s=gn.empty();let o=new Lt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Es(r.key,s,new xn(o.toArray()),si.none())}}function KC(r,e,n){r instanceof du?(function(o,u,h){const m=o.value.clone(),g=j0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Es?(function(o,u,h){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=j0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(rb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof du?(function(u,h,m,g){if(!ch(u.precondition,h))return m;const p=u.value.clone(),T=k0(u.fieldTransforms,g,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Es?(function(u,h,m,g){if(!ch(u.precondition,h))return m;const p=k0(u.fieldTransforms,g,h),T=h.data;return T.setAll(rb(u)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,h,m){return ch(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function YC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=WT(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function L0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((u,h)=>GC(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function j0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,FC(h,m,n[o]))}return s}function k0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,HC(u,h,e))}return s}class Ip extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $C extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&KC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=ib(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>L0(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>L0(n,s)))}}class Np{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return kC})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Np(e,n,s,o)}}class JC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,ke;function WC(r){switch(r){case ee.OK:return ve(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function sb(r){if(r===void 0)return yr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return ve(39323,{code:r})}}(ke=Ct||(Ct={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function eI(){return new TextEncoder}const tI=new us([4294967295,4294967295],0);function U0(r){const e=eI().encode(r),n=new ET;return n.update(e),new Uint8Array(n.digest())}function z0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(tI)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=U0(e),[s,o]=z0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Dp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=U0(e),[s,o]=z0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ef(be.min(),o,new ht(Ve),_r(),Pe())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Pe(),Pe(),Pe())}}class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class ab{constructor(e,n){this.targetId=e,this.Ce=n}}class ob{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class q0{constructor(){this.ve=0,this.Fe=B0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=B0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nI{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=th(),this.He=th(),this.Ye=new ht(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Qm(u))if(s===0){const h=new pe(u.path);this.et(n,h,tn.newNoDocument(h,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ms(s).toUint8Array()}catch(g){if(g instanceof OT)return go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Dp(h,o,u)}catch(g){return go(g instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Qm(m.target)){const g=new pe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,tn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new ef(e,n,this.Ye,this.je,s);return this.je=_r(),this.Je=th(),this.He=th(),this.Ye=new ht(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new q0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new ht(pe.comparator)}function B0(){return new ht(pe.comparator)}const iI={asc:"ASCENDING",desc:"DESCENDING"},rI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sI={and:"AND",or:"OR"};class aI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(r,e){return r.useProto3Json||Yh(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oI(r,e){return Ch(r,e.toTimestamp())}function Pi(r){return Fe(!!r,49232),be.fromTimestamp((function(n){const s=ds(n);return new it(s.seconds,s.nanos)})(r))}function Op(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ub(r){const e=et.fromString(r);return Fe(mb(e),10190,{key:e.toString()}),e}function Jm(r,e){return Op(r.databaseId,e.path)}function wm(r,e){const n=ub(e);if(n.get(1)!==r.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(hb(n))}function cb(r,e){return Op(r.databaseId,e)}function lI(r){const e=ub(r);return e.length===4?et.emptyPath():hb(e)}function Zm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function H0(r,e,n){return{name:Jm(r,e),fields:n.value.mapValue.fields}}function uI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?ee.UNKNOWN:sb(p.code);return new le(T,p.message||"")})(h);n=new ob(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(r,s.document.name),u=Pi(s.document.updateTime),h=s.document.createTime?Pi(s.document.createTime):be.min(),m=new gn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(o,u,h,m),p=s.targetIds||[],T=s.removedTargetIds||[];n=new hh(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(r,s.document),u=s.readTime?Pi(s.readTime):be.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new hh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new ZC(o,u),m=s.targetId;n=new ab(m,h)}}return n}function cI(r,e){let n;if(e instanceof du)n={update:H0(r,e.key,e.value)};else if(e instanceof Ip)n={delete:Jm(r,e.key)};else if(e instanceof Es)n={update:H0(r,e.key,e.data),updateMask:_I(e.fieldMask)};else{if(!(e instanceof $C))return ve(16599,{Vt:e.type});n={verify:Jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof xh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:oI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function hI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Pi(o.updateTime):Pi(u);return h.isEqual(be.min())&&(h=Pi(u)),new QC(h,o.transformResults||[])})(n,e)))):[]}function fI(r,e){return{documents:[cb(r,e.path)]}}function dI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cb(r,o);const u=(function(p){if(p.length!==0)return db(oi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((T=>(function(w){return{field:ao(w.field),direction:gI(w.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=$m(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function mI(r){let e=lI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const w=fb(b);return w instanceof oi&&BT(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((w=>(function(Y){return new wh(oo(Y.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Yh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,P=b.values||[];return new Sh(P,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,P=b.values||[];return new Sh(P,w)})(n.endAt)),MC(e,o,h,u,m,"F",g,p)}function pI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>fb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function gI(r){return iI[r]}function yI(r){return rI[r]}function vI(r){return sI[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return $t.fromServerFormat(r.fieldPath)}function db(r){return r instanceof It?(function(n){if(n.op==="=="){if(N0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:yI(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((o=>db(o)));return s.length===1?s[0]:{compositeFilter:{op:vI(n.op),filters:s}}})(r):ve(54877,{filter:r})}function _I(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class as{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EI{constructor(e){this.yt=e}}function TI(r){const e=mI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ym(e,e.limit,"L"):e}class bI{constructor(){this.Cn=new AI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(fs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class AI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(et.comparator)).toArray()}}const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pb=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(pb,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const G0="LruGarbageCollector",SI=1048576;function Q0([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class wI{constructor(e){this.Ir=e,this.buffer=new Lt(Q0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Q0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(G0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ue(G0,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)}))}}class RI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Kh.ce);const s=new wI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(F0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),ro()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function CI(r,e){return new RI(r,e)}class II{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class DI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,xn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Ws();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Fl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=_r();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((g,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Es)?u=u.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),Jl(T.mutation,p,T.mutation.getFieldMask(),it.now())):h.set(p.key,xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new NI(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ht(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=s.get(g)||xn.empty();T=m.applyToLocalView(p,T),s.set(g,T);const b=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,b=JT();T.forEach((w=>{if(!u.has(w)){const P=ib(n.get(w),s.get(w));P!==null&&b.set(w,P),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Ws());let m=tu,g=u;return h.next((p=>ne.forEach(p,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Pe()))).next((T=>({batchId:m,changes:XT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(b,w){return new fu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,tn.newInvalidDocument(T)))}));let m=Fl();return h.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&Jl(T.mutation,p,xn.empty(),it.now()),Jh(n,p)&&(m=m.insert(g,p))})),m}))}}class OI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:TI(o.bundledQuery),readTime:Pi(o.readTime)}})(n)),ne.resolve()}}class MI{constructor(){this.overlays=new ht(pe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Ws(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=u.get(p.largestBatchId);T===null&&(T=Ws(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=Ws(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new JC(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class VI{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Mp{constructor(){this.Qr=new Lt(zt.$r),this.Ur=new Lt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new et([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new et([])),s=new zt(n,e),o=new zt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class PI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XC(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?bp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ve);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new zt(new pe(u),0);let m=new Lt(Ve);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LI{constructor(e){this.ri=e,this.docs=(function(){return new ht(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=_r();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||hC(cC(T),s)<=0||(o.has(T.key)||Jh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new jI(this)}getSize(e){return ne.resolve(this.size)}}class jI extends II{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class kI{constructor(e){this.persistence=e,this.si=new ca((n=>wp(n)),xp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class gb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new VI,this.referenceDelegate=e(this),this.Pi=new kI(this),this.indexManager=new bI,this.remoteDocumentCache=(function(o){return new LI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new EI(n),this.Ii=new OI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new PI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new UI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class UI extends dC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new ca((s=>gC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CI(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(e,n.fromCache,s,o)}}class zI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return O1()?8:mC(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new zI;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ro()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ro()<=Me.DEBUG&&ue("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ne.resolve())}ys(e,n){if(V0(n))return ne.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ym(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return V0(n)||o.isEqual(be.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(ro()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,h,n,uC(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new Lt(YT(e));return n.forEach(((o,u)=>{Jh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ro()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,fs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Lp="LocalStore",BI=3e8;class HI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ve),this.xs=new ca((u=>wp(u)),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function FI(r,e,n,s){return new HI(r,e,n,s)}async function yb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Pe();for(const p of o){h.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function GI(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const b=p.batch,w=b.keys();let P=ne.resolve();return w.forEach((Y=>{P=P.next((()=>T.getEntry(g,Y))).next((Q=>{const H=p.docVersions.get(Y);Fe(H!==null,48541),Q.version.compareTo(H)<0&&(b.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),T.addEntry(Q)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function vb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function QI(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const w=o.get(b);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),(function(Q,H,ie){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=BI?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,P,T)&&m.push(n.Pi.updateTargetData(u,P))}));let g=_r(),p=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(KI(u,h,e.documentUpdates).next((T=>{g=T.ks,p=T.qs}))),!s.isEqual(be.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function KI(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=_r();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue(Lp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function YI(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $I(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new as(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Wm(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Do(h))throw h;ue(Lp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function K0(r,e,n){const s=Se(r);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,T){const b=Se(g),w=b.xs.get(T);return w!==void 0?ne.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,T)})(s,h,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Pe()))).next((m=>(XI(s,PC(e),m),{documents:m,Qs:u})))))}function XI(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Y0{constructor(){this.activeTargetIds=qC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JI{constructor(){this.Mo=new Y0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Y0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZI{Oo(e){}shutdown(){}}const $0="ConnectivityMonitor";class X0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue($0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue($0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nh=null;function ep(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}const xm="RestConnection",WI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=ep(),m=this.zo(e,n.toUriEncodedString());ue(xm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),T=Ro(p);return this.Jo(e,m,g,s,T).then((b=>(ue(xm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw go(xm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=WI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class t2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class n2 extends e2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=ep();return new Promise(((m,g)=>{const p=new TT;p.setWithCredentials(!0),p.listenOnce(bT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case oh.NO_ERROR:const b=p.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case oh.TIMEOUT:ue(Wt,`RPC '${e}' ${h} timed out`),g(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const w=p.getStatus();if(ue(Wt,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const Y=P?.error;if(Y&&Y.status&&Y.message){const Q=(function(ie){const $=ie.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf($)>=0?$:ee.UNKNOWN})(Y.status);g(new le(Q,Y.message))}else g(new le(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(ee.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Wt,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ue(Wt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=wT(),m=ST(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ue(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const b=h.createWebChannel(T,g);this.I_(b);let w=!1,P=!1;const Y=new t2({Yo:H=>{P?ue(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(ue(Wt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),ue(Wt,`RPC '${e}' stream ${o} sending:`,H),b.send(H))},Zo:()=>b.close()}),Q=(H,ie,$)=>{H.listen(ie,(K=>{try{$(K)}catch(re){setTimeout((()=>{throw re}),0)}}))};return Q(b,Hl.EventType.OPEN,(()=>{P||(ue(Wt,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),Q(b,Hl.EventType.CLOSE,(()=>{P||(P=!0,ue(Wt,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(b))})),Q(b,Hl.EventType.ERROR,(H=>{P||(P=!0,go(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Y.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Hl.EventType.MESSAGE,(H=>{if(!P){const ie=H.data[0];Fe(!!ie,16349);const $=ie,K=$?.error||$[0]?.error;if(K){ue(Wt,`RPC '${e}' stream ${o} received error:`,K);const re=K.status;let ce=(function(x){const R=Ct[x];if(R!==void 0)return sb(R)})(re),_e=K.message;ce===void 0&&(ce=ee.INTERNAL,_e="Unknown error status: "+re+" with message "+K.message),P=!0,Y.a_(new le(ce,_e)),b.close()}else ue(Wt,`RPC '${e}' stream ${o} received:`,ie),Y.u_(ie)}})),Q(m,AT.STAT_EVENT,(H=>{H.stat===qm.PROXY?ue(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===qm.NOPROXY&&ue(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Rm(){return typeof document<"u"?document:null}function tf(r){return new aI(r,!0)}class _b{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const J0="PersistentStream";class Eb{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _b(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(J0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(J0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i2 extends Eb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Pi(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Qm(g)?{documents:fI(u,g)}:{query:dI(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=lb(u,h.resumeToken);const p=$m(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Ch(u,h.snapshotVersion.toTimestamp());const p=$m(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=pI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class r2 extends Eb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hI(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>cI(this.serializer,s)))};this.q_(n)}}class s2{}class a2 extends s2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Xm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Xm(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class o2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class l2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ha(this)&&(ue(ra,"Restarting streams for network reachability change."),await(async function(g){const p=Se(g);p.Ea.add(4),await pu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await nf(p)})(this))}))})),this.Ra=new o2(s,o)}}async function nf(r){if(ha(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function Tb(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?Up(n):Oo(n).O_()&&kp(n,e))}function jp(r,e){const n=Se(r),s=Oo(n);n.Ia.delete(e),s.O_()&&bb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function kp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Y_(e)}function bb(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function Up(r){r.Va=new nI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function zp(r){return ha(r)&&!Oo(r).x_()&&r.Ia.size>0}function ha(r){return Se(r).Ea.size===0}function Ab(r){r.Va=void 0}async function u2(r){r.Ra.set("Online")}async function c2(r){r.Ia.forEach(((e,n)=>{kp(r,e)}))}async function h2(r,e){Ab(r),zp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function f2(r,e,n){if(r.Ra.set("Online"),e instanceof ob&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof ab?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await vb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),bb(u,g);const b=new as(T.target,g,p,T.sequenceNumber);kp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(ra,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!Do(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>vb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await nf(r)}))}function Sb(r,e){return e().catch((n=>Nh(r,n,e)))}async function rf(r){const e=Se(r),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bp;for(;d2(e);)try{const o=await YI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,m2(e,o)}catch(o){await Nh(e,o)}wb(e)&&xb(e)}function d2(r){return ha(r)&&r.Ta.length<10}function m2(r,e){r.Ta.push(e);const n=gs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function wb(r){return ha(r)&&!gs(r).x_()&&r.Ta.length>0}function xb(r){gs(r).start()}async function p2(r){gs(r).ra()}async function g2(r){const e=gs(r);for(const n of r.Ta)e.ea(n.mutations)}async function y2(r,e,n){const s=r.Ta.shift(),o=Np.from(s,e,n);await Sb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await rf(r)}async function v2(r,e){e&&gs(r).X_&&await(async function(s,o){if((function(h){return WC(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await Sb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await rf(s)}})(r,e),wb(r)&&xb(r)}async function Z0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(ra,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nf(n)}async function _2(r,e){const n=Se(r);e?(n.Ea.delete(2),await nf(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new i2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:u2.bind(null,r),t_:c2.bind(null,r),r_:h2.bind(null,r),H_:f2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ab(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new r2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:p2.bind(null,r),r_:v2.bind(null,r),ta:g2.bind(null,r),na:y2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await rf(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new qp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(yr("AsyncQueue",`${e}: ${r}`),Do(r))return new le(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class W0{constructor(){this.ga=new ht(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class To{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new To(e,n,uo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class E2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class T2{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=eE(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function eE(){return new ca((r=>KT(r)),Xh)}async function Rb(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new E2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Bp(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hp(n)}async function Cb(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function b2(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Hp(n)}function A2(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var tp,tE;(tE=tp||(tp={})).Ma="default",tE.Cache="cache";class Ib{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}class Nb{constructor(e){this.key=e}}class Db{constructor(e){this.key=e}}class S2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=YT(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new W0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const w=o.get(T),P=Jh(this.query,b)?b:null,Y=!!w&&this.mutatedKeys.has(w.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;w&&P?w.data.isEqual(P.data)?Y!==Q&&(s.track({type:3,doc:P}),H=!0):this.su(w,P)||(s.track({type:2,doc:P}),H=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!w&&P?(s.track({type:0,doc:P}),H=!0):w&&!P&&(s.track({type:1,doc:w}),H=!0,(g||p)&&(m=!0)),H&&(P?(h=h.add(P),u=Q?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(P,Y){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:H})}};return Q(P)-Q(Y)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new To(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Db(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Nb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class w2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class x2{constructor(e){this.key=e,this.hu=!1}}class R2{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ca((m=>KT(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(pe.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C2(r,e,n=!0){const s=jb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ob(s,e,n,!0),o}async function I2(r,e){const n=jb(r);await Ob(n,e,!0,!1)}async function Ob(r,e,n,s){const o=await $I(r.localStore,Vi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await N2(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Tb(r.remoteStore,o),m}async function N2(r,e,n,s,o){r.pu=(b,w,P)=>(async function(Q,H,ie,$){let K=H.view.ru(ie);K.Cs&&(K=await K0(Q.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,K))));const re=$&&$.targetChanges.get(H.targetId),ce=$&&$.targetMismatches.get(H.targetId)!=null,_e=H.view.applyChanges(K,Q.isPrimaryClient,re,ce);return iE(Q,H.targetId,_e.au),_e.snapshot})(r,b,w,P);const u=await K0(r.localStore,e,!0),h=new S2(e,u.Qs),m=h.ru(u.documents),g=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);iE(r,n,p.au);const T=new w2(e,n,h);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function D2(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Xh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jp(s.remoteStore,o.targetId),np(s,o.targetId)})).catch(No)):(np(s,o.targetId),await Wm(s.localStore,o.targetId,!0))}async function O2(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jp(n.remoteStore,s.targetId))}async function M2(r,e,n){const s=z2(r);try{const o=await(function(h,m){const g=Se(h),p=it.now(),T=m.reduce(((P,Y)=>P.add(Y.key)),Pe());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Y=_r(),Q=Pe();return g.Ns.getEntries(P,T).next((H=>{Y=H,Y.forEach(((ie,$)=>{$.isValidDocument()||(Q=Q.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,Y))).next((H=>{b=H;const ie=[];for(const $ of m){const K=YC($,b.get($.key).overlayedDocument);K!=null&&ie.push(new Es($.key,K,UT(K.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,ie,m)})).next((H=>{w=H;const ie=H.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(P,H.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:XT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ht(Ve)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(s,o.batchId,n),await gu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function Mb(r,e){const n=Se(r);try{const s=await QI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await gu(n,s,e)}catch(s){await No(s)}}function nE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Se(h);g.onlineState=m;let p=!1;g.queries.forEach(((T,b)=>{for(const w of b.Sa)w.va(m)&&(p=!0)})),p&&Hp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function V2(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(pe.comparator);h=h.insert(u,tn.newNoDocument(u,be.min()));const m=Pe().add(u),g=new ef(be.min(),new Map,new ht(Ve),h,m);await Mb(s,g),s.du=s.du.remove(u),s.Au.delete(e),Gp(s)}else await Wm(s.localStore,e,!1).then((()=>np(s,e,n))).catch(No)}async function P2(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await GI(n.localStore,e);Pb(n,s,null),Vb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await No(o)}}async function L2(r,e,n){const s=Se(r);try{const o=await(function(h,m){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Fe(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);Pb(s,e,n),Vb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gu(s,o)}catch(o){await No(o)}}function Vb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Pb(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function np(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Lb(r,s)}))}function Lb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(jp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Gp(r))}function iE(r,e,n){for(const s of n)s instanceof Nb?(r.Ru.addReference(s.key,e),j2(r,s)):s instanceof Db?(ue(Fp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Lb(r,s.key)):ve(19791,{wu:s})}function j2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Fp,"New document in limbo: "+n),r.Eu.add(s),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(et.fromString(e)),s=r.fu.next();r.Au.set(s,new x2(n)),r.du=r.du.insert(n,s),Tb(r.remoteStore,new as(Vi(Rp(n.path)),s,"TargetPurposeLimboResolution",Kh.ce))}}async function gu(r,e,n){const s=Se(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Pp.As(g.targetId,p);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,p){const T=Se(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(p,(w=>ne.forEach(w.Es,(P=>T.persistence.referenceDelegate.addReference(b,w.targetId,P))).next((()=>ne.forEach(w.ds,(P=>T.persistence.referenceDelegate.removeReference(b,w.targetId,P)))))))))}catch(b){if(!Do(b))throw b;ue(Lp,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const P=T.Ms.get(w),Y=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(Y);T.Ms=T.Ms.insert(w,Q)}}})(s.localStore,u))}async function k2(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(Fp,"User change. New user:",e.toKey());const s=await yb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function U2(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function jb(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V2.bind(null,e),e.Pu.H_=b2.bind(null,e.eventManager),e.Pu.yu=A2.bind(null,e.eventManager),e}function z2(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L2.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return FI(this.persistence,new qI,e.initialUser,this.serializer)}Cu(e){return new gb(Vp.mi,this.serializer)}Du(e){return new JI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class q2 extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new gb((s=>Ih.mi(s,n)),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new T2})()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),s=(function(u){return new n2(u)})(e.databaseInfo);return(function(u,h,m,g){return new a2(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new l2(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nE(this.syncEngine,n,0)),(function(){return X0.v()?new X0:new ZI})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,T){const b=new R2(o,u,h,m,g,p);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);ue(ra,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ip.provider={build:()=>new ip};class kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ys="FirestoreClient";class B2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Cm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(ys,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await yb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await H2(r);ue(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Z0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Z0(e.remoteStore,o))),r._onlineComponents=e}async function H2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(ys,"Using user provided OfflineComponentProvider");try{await Cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Cm(r,new Dh)}}else ue(ys,"Using default OfflineComponentProvider"),await Cm(r,new q2(void 0));return r._offlineComponents}async function Ub(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(ys,"Using user provided OnlineComponentProvider"),await rE(r,r._uninitializedComponentsProvider._online)):(ue(ys,"Using default OnlineComponentProvider"),await rE(r,new ip))),r._onlineComponents}function F2(r){return Ub(r).then((e=>e.syncEngine))}async function zb(r){const e=await Ub(r),n=e.eventManager;return n.onListen=C2.bind(null,e.syncEngine),n.onUnlisten=D2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O2.bind(null,e.syncEngine),n}function G2(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new kb({next:w=>{T.Nu(),h.enqueueAndForget((()=>Cb(u,b)));const P=w.docs.has(m);!P&&w.fromCache?p.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&g&&g.source==="server"?p.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Ib(Rp(m.path),T,{includeMetadataChanges:!0,qa:!0});return Rb(u,b)})(await zb(r),r.asyncQueue,e,n,s))),s.promise}function Q2(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new kb({next:w=>{T.Nu(),h.enqueueAndForget((()=>Cb(u,b))),w.fromCache&&g.source==="server"?p.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new Ib(m,T,{includeMetadataChanges:!0,qa:!0});return Rb(u,b)})(await zb(r),r.asyncQueue,e,n,s))),s.promise}function qb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const sE=new Map;const Bb="firestore.googleapis.com",aE=!0;class oE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=aE}else this.host=e.host,this.ssl=e.ssl??aE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SI)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ZR;switch(s.type){case"firstParty":return new nC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=sE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),sE.delete(n),s.terminate())})(this),Promise.resolve()}}function K2(r,e,n,s={}){r=vr(r,sf);const o=Ro(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(uT(`https://${m}`),cT("Firestore",!0)),u.host!==Bb&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!hs(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=en.MOCK_USER;else{p=S1(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}r._authCredentials=new WR(new RT(p,T))}}class Mo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class Dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,Dt._jsonSchema))return new Dt(e,s||null,new pe(et.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Nt("string",Dt._jsonSchemaVersion),referencePath:Nt("string")};class cs extends Mo{constructor(e,n,s){super(e,n,Rp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new pe(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function lr(r,e,...n){if(r=qt(r),CT("collection","path",e),r instanceof sf){const s=et.fromString(e,...n);return E0(s),new cs(r,null,s)}{if(!(r instanceof Dt||r instanceof cs))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return E0(s),new cs(r.firestore,null,s)}}function fh(r,e,...n){if(r=qt(r),arguments.length===1&&(e=Tp.newId()),CT("doc","path",e),r instanceof sf){const s=et.fromString(e,...n);return _0(s),new Dt(r,null,new pe(s))}{if(!(r instanceof Dt||r instanceof cs))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return _0(s),new Dt(r.firestore,r instanceof cs?r.converter:null,new pe(s))}}const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _b(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&ue(lE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;ue(lE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",cE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Vo extends sf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new uE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function Y2(r,e){const n=typeof r=="object"?r:_p(),s=typeof r=="string"?r:bh,o=ua(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=b1("firestore");u&&K2(o,...u)}return o}function Qp(r){if(r._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$2(r),r._firestoreClient}function $2(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new _C(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,qb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new B2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Nt("string",Hn._jsonSchemaVersion),bytes:Nt("string")};class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kp{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Nt("string",Li._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Nt("string",ji._jsonSchemaVersion),vectorValues:Nt("object")};const X2=/^__.*__$/;class J2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class Hb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Yp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Fb(this.Ac)&&X2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tf(e)}Cc(e,n,s,o=!1){return new Yp({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $p(r){const e=r._freezeSettings(),n=tf(r._databaseId);return new Z2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function W2(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Xp("Data must be an object, but it was:",h,s);const m=Gb(s,h);let g,p;if(u.merge)g=new xn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const w=rp(e,b,n);if(!h.contains(w))throw new le(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Kb(T,w)||T.push(w)}g=new xn(T),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new J2(new gn(m),g,p)}class of extends Kp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function eN(r,e,n,s){const o=r.Cc(1,e,n);Xp("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();_s(s,((g,p)=>{const T=Jp(e,g,n);p=qt(p);const b=o.yc(T);if(p instanceof of)u.push(T);else{const w=yu(p,b);w!=null&&(u.push(T),h.set(T,w))}}));const m=new xn(u);return new Hb(h,m,o.fieldTransforms)}function tN(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[rp(e,s,n)],g=[o];if(u.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(rp(e,u[w])),g.push(u[w+1]);const p=[],T=gn.empty();for(let w=m.length-1;w>=0;--w)if(!Kb(p,m[w])){const P=m[w];let Y=g[w];Y=qt(Y);const Q=h.yc(P);if(Y instanceof of)p.push(P);else{const H=yu(Y,Q);H!=null&&(p.push(P),T.set(P,H))}}const b=new xn(p);return new Hb(T,b,h.fieldTransforms)}function nN(r,e,n,s=!1){return yu(n,r.Cc(s?4:3,e))}function yu(r,e){if(Qb(r=qt(r)))return Xp("Unsupported field value:",e,r),Gb(r,e);if(r instanceof Kp)return(function(s,o){if(!Fb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=yu(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:lb(o.serializer,s._byteString)};if(s instanceof Dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(h,m){return{mapValue:{fields:{[jT]:{stringValue:kT},[Ah]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Qh(s)}`)})(r,e)}function Gb(r,e){const n={};return DT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(r,((s,o)=>{const u=yu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Qb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Li||r instanceof Hn||r instanceof Dt||r instanceof Kp||r instanceof ji)}function Xp(r,e,n){if(!Qb(n)||!IT(n)){const s=Qh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function rp(r,e,n){if((e=qt(e))instanceof af)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const iN=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(iN)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(ee.INVALID_ARGUMENT,m+r+g)}function Kb(r,e){return r.some((n=>n.isEqual(e)))}class Yb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($b("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rN extends Yb{data(){return super.data()}}function $b(r,e){return typeof e=="string"?Jp(r,e):e instanceof af?e._internalPath:e._delegate._internalPath}function sN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class aN extends Zp{}function oN(r,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof eg)).length,m=u.filter((g=>g instanceof Wp)).length;if(h>1||h>0&&m>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Wp extends aN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Wp(e,n,s)}_apply(e){const n=this._parse(e);return Xb(e._query,n),new Mo(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=$p(e.firestore);return(function(u,h,m,g,p,T,b){let w;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){fE(b,T);const Y=[];for(const Q of b)Y.push(hE(g,u,Q));w={arrayValue:{values:Y}}}else w=hE(g,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||fE(b,T),w=nN(m,h,b,T==="in"||T==="not-in");return It.create(p,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class eg extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)Xb(h,g),h=Km(h,g)})(e._query,n),new Mo(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hE(r,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QT(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return C0(r,new pe(s))}if(n instanceof Dt)return C0(r,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function fE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xb(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lN{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new Li(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(mb(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function uN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends Yb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($b("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Nt("string",ta._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class dh extends ta{data(e={}){return super.data(e)}}class co{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:cN(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function hN(r){r=vr(r,Dt);const e=vr(r.firestore,Vo);return G2(Qp(e),r._key).then((n=>pN(e,r,n)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Nt("string",co._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Jb extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function dE(r){r=vr(r,Mo);const e=vr(r.firestore,Vo),n=Qp(e),s=new Jb(e);return sN(r._query),Q2(n,r._query).then((o=>new co(e,s,r,o)))}function fN(r,e,n,...s){r=vr(r,Dt);const o=vr(r.firestore,Vo),u=$p(o);let h;return h=typeof(e=qt(e))=="string"||e instanceof af?tN(u,"updateDoc",r._key,e,n,s):eN(u,"updateDoc",r._key,e),tg(o,[h.toMutation(r._key,si.exists(!0))])}function dN(r){return tg(vr(r.firestore,Vo),[new Ip(r._key,si.none())])}function mN(r,e){const n=vr(r.firestore,Vo),s=fh(r),o=uN(r.converter,e);return tg(n,[W2($p(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then((()=>s))}function tg(r,e){return(function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget((async()=>M2(await F2(s),o,u))),u.promise})(Qp(r),e)}function pN(r,e,n){const s=n.docs.get(e._key),o=new Jb(r);return new ta(r,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Io=o})(Co),zi(new ai("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Vo(new eC(s.getProvider("auth-internal")),new iC(h,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(p.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Fn(p0,g0,e),Fn(p0,g0,"esm2020")})();var gN="firebase",yN="12.6.0";Fn(gN,yN,"app");function Zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vN=Zb,Wb=new la("auth","Firebase",Zb());const Mh=new Gh("@firebase/auth");function _N(r,...e){Mh.logLevel<=Me.WARN&&Mh.warn(`Auth (${Co}): ${r}`,...e)}function mh(r,...e){Mh.logLevel<=Me.ERROR&&Mh.error(`Auth (${Co}): ${r}`,...e)}function Er(r,...e){throw ng(r,...e)}function ki(r,...e){return ng(r,...e)}function eA(r,e,n){const s={...vN(),[e]:n};return new la("auth","Firebase",s).create(e,{appName:r.name})}function na(r){return eA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Wb.create(r,...e)}function Ee(r,e,...n){if(!r)throw ng(e,...n)}function hr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function Tr(r,e){r||hr(e)}function sp(){return typeof self<"u"&&self.location?.href||""}function EN(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}function TN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EN()||hT()||"connection"in navigator)?navigator.onLine:!0}function bN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=R1()||N1()}get(){return TN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ig(r,e){Tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class tA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wN=new vu(3e4,6e4);function rg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Po(r,e,n,s,o={}){return nA(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=cu({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return I1()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),tA.fetch()(await iA(r,r.config.apiHost,n,m),p)})}async function nA(r,e,n){r._canInitEmulator=!1;const s={...AN,...e};try{const o=new RN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw ih(r,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw eA(r,T,p);Er(r,T)}}catch(o){if(o instanceof ui)throw o;Er(r,"network-request-failed",{message:String(o)})}}async function xN(r,e,n,s,o={}){const u=await Po(r,e,n,s,o);return"mfaPendingCredential"in u&&Er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function iA(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?ig(r.config,o):`${r.config.apiScheme}://${o}`;return SN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class RN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),wN.get())})}}function ih(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(r,e,s);return o.customData._tokenResponse=n,o}async function CN(r,e){return Po(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return Po(r,"POST","/v1/accounts:lookup",e)}function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IN(r,e=!1){const n=qt(r),s=await n.getIdToken(e),o=sg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Zl(Im(o.auth_time)),issuedAtTime:Zl(Im(o.iat)),expirationTime:Zl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function sg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function pE(r){const e=sg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ou(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ui&&NN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function NN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class DN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ph(r){const e=r.auth,n=await r.getIdToken(),s=await ou(r,Vh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?rA(o.providerUserInfo):[],h=MN(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function ON(r){const e=qt(r);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rA(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function VN(r,e){const n=await nA(r,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await iA(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),tA.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PN(r,e){return Po(r,"POST","/v2/accounts:revokeToken",rg(r,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=pE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await VN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ho;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return hr("not implemented")}}function ts(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IN(this,e)}reload(){return ON(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await ou(this,CN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:P,providerData:Y,stsTokenManager:Q}=n;Ee(b&&Q,e,"internal-error");const H=ho.fromJSON(this.name,Q);Ee(typeof b=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof P=="boolean",e,"internal-error"),ts(u,e.name),ts(h,e.name),ts(m,e.name),ts(g,e.name),ts(p,e.name),ts(T,e.name);const ie=new ri({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:p,lastLoginAt:T});return Y&&Array.isArray(Y)&&(ie.providerData=Y.map($=>({...$}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rA(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ho;m.updateFromIdToken(s);const g=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const gE=new Map;function fr(r){Tr(r instanceof Function,"Expected a class definition");let e=gE.get(r);return e?(Tr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gE.set(r,e),e)}class sA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sA.type="NONE";const yE=sA;function ph(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(fr(yE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||fr(yE);const h=ph(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let b;if(typeof T=="string"){const w=await Vh(e,{idToken:T}).catch(()=>{});if(!w)break;b=await ri._fromGetAccountInfoResponse(e,w,T)}else b=ri._fromJSON(e,T);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new fo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new fo(u,e,s))}}function vE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hA(e))return"Blackberry";if(fA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||lA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function aA(r=nn()){return/firefox\//i.test(r)}function oA(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lA(r=nn()){return/crios\//i.test(r)}function uA(r=nn()){return/iemobile/i.test(r)}function cA(r=nn()){return/android/i.test(r)}function hA(r=nn()){return/blackberry/i.test(r)}function fA(r=nn()){return/webos/i.test(r)}function ag(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LN(r=nn()){return ag(r)&&!!window.navigator?.standalone}function jN(){return D1()&&document.documentMode===10}function dA(r=nn()){return ag(r)||cA(r)||fA(r)||hA(r)||/windows phone/i.test(r)||uA(r)}function mA(r,e=[]){let n;switch(r){case"Browser":n=vE(nn());break;case"Worker":n=`${vE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}class kN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function UN(r,e={}){return Po(r,"GET","/v2/passwordPolicy",rg(r,e))}const zN=6;class qN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class BN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new kN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(na(this));const n=e?qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UN(this),n=new qN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_N(`Error while retrieving App Check token: ${e.error}`),e?.token}}function og(r){return qt(r)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=k1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HN(r){lg=r}function FN(r){return lg.loadJS(r)}function GN(){return lg.gapiScript}function QN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function KN(r,e){const n=ua(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(hs(u,e??{}))return o;Er(o,"already-initialized")}return n.initialize({options:e})}function YN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function $N(r,e,n){const s=og(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pA(e),{host:h,port:m}=XN(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(hs(p,s.config.emulator)&&hs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ro(h)?(uT(`${u}//${h}${g}`),cT("Auth",!0)):JN()}function pA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XN(r){const e=pA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:EE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:EE(h)}}}function EE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class gA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function mo(r,e){return xN(r,"POST","/v1/accounts:signInWithIdp",rg(r,e))}const ZN="http://localhost";class sa extends gA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:ZN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}class yA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends yA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends _u{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class is extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class rs extends _u{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";class ss extends _u{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),h=TE(s);return new bo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=TE(s);return new bo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function TE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Lh extends ui{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function vA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(r,u,e,s):u})}async function WN(r,e,n=!1){const s=await ou(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return bo._forOperation(r,"link",s)}async function eD(r,e,n=!1){const{auth:s}=r;if(Mi(s.app))return Promise.reject(na(s));const o="reauthenticate";try{const u=await ou(r,vA(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const h=sg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),bo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Er(s,"user-mismatch"),u}}async function tD(r,e,n=!1){if(Mi(r.app))return Promise.reject(na(r));const s="signIn",o=await vA(r,s,e),u=await bo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function nD(r,e,n,s){return qt(r).onIdTokenChanged(e,n,s)}function iD(r,e,n){return qt(r).beforeAuthStateChanged(e,n)}const jh="__sak";class _A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rD=1e3,sD=10;class EA extends _A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);jN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EA.type="LOCAL";const aD=EA;class TA extends _A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TA.type="SESSION";const bA=TA;function oD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await oD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];function ug(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class lD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=ug("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ui(){return window}function uD(r){Ui().location.href=r}function AA(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function cD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hD(){return navigator?.serviceWorker?.controller||null}function fD(){return AA()?self:null}const SA="firebaseLocalStorageDb",dD=1,kh="firebaseLocalStorage",wA="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function mD(){const r=indexedDB.deleteDatabase(SA);return new Eu(r).toPromise()}function op(){const r=indexedDB.open(SA,dD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:wA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await mD(),e(await op()))})})}async function bE(r,e,n){const s=uf(r,!0).put({[wA]:e,value:n});return new Eu(s).toPromise()}async function pD(r,e){const n=uf(r,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function AE(r,e){const n=uf(r,!0).delete(e);return new Eu(n).toPromise()}const gD=800,yD=3;class xA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(fD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cD(),!this.activeServiceWorker)return;this.sender=new lD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await bE(e,jh,"1"),await AE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>pD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=uf(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xA.type="LOCAL";const vD=xA;new vu(3e4,6e4);function _D(r,e){return e?fr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cg extends gA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ED(r){return tD(r.auth,new cg(r),r.bypassAuthState)}function TD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),eD(n,new cg(r),r.bypassAuthState)}async function bD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),WN(n,new cg(r),r.bypassAuthState)}class RA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ED;case"linkViaPopup":case"linkViaRedirect":return bD;case"reauthViaPopup":case"reauthViaRedirect":return TD;default:Er(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AD=new vu(2e3,1e4);class lo extends RA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AD.get())};e()}}lo.currentPopupAction=null;const SD="pendingRedirect",gh=new Map;class wD extends RA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await xD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xD(r,e){const n=ID(e),s=CD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function RD(r,e){gh.set(r._key(),e)}function CD(r){return fr(r._redirectPersistence)}function ID(r){return ph(SD,r.config.apiKey,r.name)}async function ND(r,e,n=!1){if(Mi(r.app))return Promise.reject(na(r));const s=og(r),o=_D(s,e),h=await new wD(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const DD=600*1e3;class OD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!CA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DD&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function CA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function MD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CA(r);default:return!1}}async function VD(r,e={}){return Po(r,"GET","/v1/projects",e)}const PD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LD=/^https?/;async function jD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await VD(r);for(const n of e)try{if(kD(n))return}catch{}Er(r,"unauthorized-domain")}function kD(r){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!LD.test(n))return!1;if(PD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const UD=new vu(3e4,6e4);function wE(){const r=Ui().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function zD(r){return new Promise((e,n)=>{function s(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(ki(r,"network-request-failed"))},timeout:UD.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=QN("iframefcb");return Ui()[o]=()=>{gapi.load?s():n(ki(r,"network-request-failed"))},FN(`${GN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function qD(r){return yh=yh||zD(r),yh}const BD=new vu(5e3,15e3),HD="__/auth/iframe",FD="emulator/auth/iframe",GD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KD(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ig(e,FD):`https://${r.config.authDomain}/${HD}`,s={apiKey:e.apiKey,appName:r.name,v:Co},o=QD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function YD(r){const e=await qD(r),n=Ui().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:KD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ki(r,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},BD.get());function g(){Ui().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const $D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XD=500,JD=600,ZD="_blank",WD="http://localhost";class xE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e4(r,e,n,s=XD,o=JD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...$D,width:s.toString(),height:o.toString(),top:u,left:h},p=nn().toLowerCase();n&&(m=lA(p)?ZD:n),aA(p)&&(e=e||WD,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[P,Y])=>`${w}${P}=${Y},`,"");if(LN(p)&&m!=="_self")return t4(e||"",m),new xE(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new xE(b)}function t4(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const n4="__/auth/handler",i4="emulator/auth/handler",r4=encodeURIComponent("fac");async function RE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(e instanceof yA){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",j1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof _u){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),p=g?`#${r4}=${encodeURIComponent(g)}`:"";return`${s4(r)}?${cu(m).slice(1)}${p}`}function s4({config:r}){return r.emulator?ig(r,i4):`https://${r.authDomain}/${n4}`}const Nm="webStorageSupport";class a4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=ND,this._overrideRedirectResult=RD}async _openPopup(e,n,s,o){Tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await RE(e,n,s,sp(),o);return e4(e,u,ug())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await RE(e,n,s,sp(),o);return uD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YD(e),s=new OD(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dA()||oA()||ag()}}const o4=a4;var CE="@firebase/auth",IE="1.11.1";class l4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function u4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c4(r){zi(new ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mA(r)},p=new BN(s,o,u,g);return YN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),zi(new ai("auth-internal",e=>{const n=og(e.getProvider("auth").getImmediate());return(s=>new l4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(CE,IE,u4(r)),Fn(CE,IE,"esm2020")}const h4=300,f4=lT("authIdTokenMaxAge")||h4;let NE=null;const d4=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>f4)return;const o=n?.token;NE!==o&&(NE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function m4(r=_p()){const e=ua(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KN(r,{popupRedirectResolver:o4,persistence:[vD,aD,bA]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=d4(u.toString());iD(n,h,()=>h(n.currentUser)),nD(n,m=>h(m))}}const o=aT("auth");return o&&$N(n,`http://${o}`),n}function p4(){return document.getElementsByTagName("head")?.[0]??document}HN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",p4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c4("Browser");const IA="@firebase/installations",hg="0.6.19";const NA=1e4,DA=`w:${hg}`,OA="FIS_v2",g4="https://firebaseinstallations.googleapis.com/v1",y4=3600*1e3,v4="installations",_4="Installations";const E4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},aa=new la(v4,_4,E4);function MA(r){return r instanceof ui&&r.code.includes("request-failed")}function VA({projectId:r}){return`${g4}/projects/${r}/installations`}function PA(r){return{token:r.token,requestStatus:2,expiresIn:b4(r.expiresIn),creationTime:Date.now()}}async function LA(r,e){const s=(await e.json()).error;return aa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function jA({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function T4(r,{refreshToken:e}){const n=jA(r);return n.append("Authorization",A4(e)),n}async function kA(r){const e=await r();return e.status>=500&&e.status<600?r():e}function b4(r){return Number(r.replace("s","000"))}function A4(r){return`${OA} ${r}`}async function S4({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=VA(r),o=jA(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:n,authVersion:OA,appId:r.appId,sdkVersion:DA},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await kA(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:PA(p.authToken)}}else throw await LA("Create Installation",g)}function UA(r){return new Promise(e=>{setTimeout(e,r)})}function w4(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const x4=/^[cdef][\w-]{21}$/,lp="";function R4(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=C4(r);return x4.test(n)?n:lp}catch{return lp}}function C4(r){return w4(r).substr(0,22)}function cf(r){return`${r.appName}!${r.appId}`}const zA=new Map;function qA(r,e){const n=cf(r);BA(n,e),I4(n,e)}function BA(r,e){const n=zA.get(r);if(n)for(const s of n)s(e)}function I4(r,e){const n=N4();n&&n.postMessage({key:r,fid:e}),D4()}let ea=null;function N4(){return!ea&&"BroadcastChannel"in self&&(ea=new BroadcastChannel("[Firebase] FID Change"),ea.onmessage=r=>{BA(r.data.key,r.data.fid)}),ea}function D4(){zA.size===0&&ea&&(ea.close(),ea=null)}const O4="firebase-installations-database",M4=1,oa="firebase-installations-store";let Dm=null;function fg(){return Dm||(Dm=gT(O4,M4,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(oa)}}})),Dm}async function Uh(r,e){const n=cf(r),o=(await fg()).transaction(oa,"readwrite"),u=o.objectStore(oa),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&qA(r,e.fid),e}async function HA(r){const e=cf(r),s=(await fg()).transaction(oa,"readwrite");await s.objectStore(oa).delete(e),await s.done}async function hf(r,e){const n=cf(r),o=(await fg()).transaction(oa,"readwrite"),u=o.objectStore(oa),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&qA(r,m.fid),m}async function dg(r){let e;const n=await hf(r.appConfig,s=>{const o=V4(s),u=P4(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===lp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function V4(r){const e=r||{fid:R4(),registrationStatus:0};return FA(e)}function P4(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(aa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=L4(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:j4(r)}:{installationEntry:e}}async function L4(r,e){try{const n=await S4(r,e);return Uh(r.appConfig,n)}catch(n){throw MA(n)&&n.customData.serverCode===409?await HA(r.appConfig):await Uh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function j4(r){let e=await DE(r.appConfig);for(;e.registrationStatus===1;)await UA(100),e=await DE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await dg(r);return s||n}return e}function DE(r){return hf(r,e=>{if(!e)throw aa.create("installation-not-found");return FA(e)})}function FA(r){return k4(r)?{fid:r.fid,registrationStatus:0}:r}function k4(r){return r.registrationStatus===1&&r.registrationTime+NA<Date.now()}async function U4({appConfig:r,heartbeatServiceProvider:e},n){const s=z4(r,n),o=T4(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:DA,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await kA(()=>fetch(s,m));if(g.ok){const p=await g.json();return PA(p)}else throw await LA("Generate Auth Token",g)}function z4(r,{fid:e}){return`${VA(r)}/${e}/authTokens:generate`}async function mg(r,e=!1){let n;const s=await hf(r.appConfig,u=>{if(!GA(u))throw aa.create("not-registered");const h=u.authToken;if(!e&&H4(h))return u;if(h.requestStatus===1)return n=q4(r,e),u;{if(!navigator.onLine)throw aa.create("app-offline");const m=G4(u);return n=B4(r,m),m}});return n?await n:s.authToken}async function q4(r,e){let n=await OE(r.appConfig);for(;n.authToken.requestStatus===1;)await UA(100),n=await OE(r.appConfig);const s=n.authToken;return s.requestStatus===0?mg(r,e):s}function OE(r){return hf(r,e=>{if(!GA(e))throw aa.create("not-registered");const n=e.authToken;return Q4(n)?{...e,authToken:{requestStatus:0}}:e})}async function B4(r,e){try{const n=await U4(r,e),s={...e,authToken:n};return await Uh(r.appConfig,s),n}catch(n){if(MA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HA(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Uh(r.appConfig,s)}throw n}}function GA(r){return r!==void 0&&r.registrationStatus===2}function H4(r){return r.requestStatus===2&&!F4(r)}function F4(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+y4}function G4(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function Q4(r){return r.requestStatus===1&&r.requestTime+NA<Date.now()}async function K4(r){const e=r,{installationEntry:n,registrationPromise:s}=await dg(e);return s?s.catch(console.error):mg(e).catch(console.error),n.fid}async function Y4(r,e=!1){const n=r;return await $4(n),(await mg(n,e)).token}async function $4(r){const{registrationPromise:e}=await dg(r);e&&await e}function X4(r){if(!r||!r.options)throw Om("App Configuration");if(!r.name)throw Om("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Om(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Om(r){return aa.create("missing-app-config-values",{valueName:r})}const QA="installations",J4="installations-internal",Z4=r=>{const e=r.getProvider("app").getImmediate(),n=X4(e),s=ua(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},W4=r=>{const e=r.getProvider("app").getImmediate(),n=ua(e,QA).getImmediate();return{getId:()=>K4(n),getToken:o=>Y4(n,o)}};function eO(){zi(new ai(QA,Z4,"PUBLIC")),zi(new ai(J4,W4,"PRIVATE"))}eO();Fn(IA,hg);Fn(IA,hg,"esm2020");const zh="analytics",tO="firebase_id",nO="origin",iO=60*1e3,rO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pg="https://www.googletagmanager.com/gtag/js";const on=new Gh("@firebase/analytics");const sO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new la("analytics","Analytics",sO);function aO(r){if(!r.startsWith(pg)){const e=Rn.create("invalid-gtag-resource",{gtagURL:r});return on.warn(e.message),""}return r}function KA(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function oO(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function lO(r,e){const n=oO("firebase-js-sdk-policy",{createScriptURL:aO}),s=document.createElement("script"),o=`${pg}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function uO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function cO(r,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await KA(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){on.error(m)}r("config",o,u)}async function hO(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await KA(n);for(const g of h){const p=m.find(b=>b.measurementId===g),T=p&&e[p.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){on.error(u)}}function fO(r,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,g]=h;await hO(r,e,n,m,g)}else if(u==="config"){const[m,g]=h;await cO(r,e,n,s,m,g)}else if(u==="consent"){const[m,g]=h;r("consent",m,g)}else if(u==="get"){const[m,g,p]=h;r("get",m,g,p)}else if(u==="set"){const[m]=h;r("set",m)}else r(u,...h)}catch(m){on.error(m)}}return o}function dO(r,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=fO(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function mO(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pg)&&n.src.includes(r))return n;return null}const pO=30,gO=1e3;class yO{constructor(e={},n=gO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const YA=new yO;function vO(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function _O(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:vO(n)},o=rO.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function EO(r,e=YA,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw Rn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Rn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new AO;return setTimeout(async()=>{m.abort()},iO),$A({appId:s,apiKey:o,measurementId:u},h,m,e)}async function $A(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=YA){const{appId:u,measurementId:h}=r;try{await TO(s,e)}catch(m){if(h)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await _O(r);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!bO(g)){if(o.deleteThrottleMetadata(u),h)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:h};throw m}const p=Number(g?.customData?.httpStatus)===503?s0(n,o.intervalMillis,pO):s0(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,T),on.debug(`Calling attemptFetch again in ${p} millis`),$A(r,T,s,o)}}function TO(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bO(r){if(!(r instanceof ui)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class AO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SO(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,h={...s,send_to:u};r("event",n,h)}}async function wO(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function xO(){if(fT())try{await dT()}catch(r){return on.warn(Rn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return on.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RO(r,e,n,s,o,u,h){const m=EO(r);m.then(w=>{n[w.measurementId]=w.appId,r.options.measurementId&&w.measurementId!==r.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>on.error(w)),e.push(m);const g=xO().then(w=>{if(w)return s.getId()}),[p,T]=await Promise.all([m,g]);mO(u)||lO(u,p.measurementId),o("js",new Date);const b=h?.config??{};return b[nO]="firebase",b.update=!0,T!=null&&(b[tO]=T),o("config",p.measurementId,b),p.measurementId}class CO{constructor(e){this.app=e}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},ME=[];const VE={};let Mm="dataLayer",IO="gtag",PE,gg,LE=!1;function NO(){const r=[];if(hT()&&r.push("This is a browser extension environment."),M1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});on.warn(n.message)}}function DO(r,e,n){NO();const s=r.options.appId;if(!s)throw Rn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(po[s]!=null)throw Rn.create("already-exists",{id:s});if(!LE){uO(Mm);const{wrappedGtag:u,gtagCore:h}=dO(po,ME,VE,Mm,IO);gg=u,PE=h,LE=!0}return po[s]=RO(r,ME,VE,e,PE,Mm,n),new CO(r)}function OO(r=_p()){r=qt(r);const e=ua(r,zh);return e.isInitialized()?e.getImmediate():MO(r)}function MO(r,e={}){const n=ua(r,zh);if(n.isInitialized()){const o=n.getImmediate();if(hs(e,n.getOptions()))return o;throw Rn.create("already-initialized")}return n.initialize({options:e})}function VO(r,e,n){r=qt(r),wO(gg,po[r.app.options.appId],e,n).catch(s=>on.error(s))}function PO(r,e,n,s){r=qt(r),SO(gg,po[r.app.options.appId],e,n,s).catch(o=>on.error(o))}const jE="@firebase/analytics",kE="0.10.19";function LO(){zi(new ai(zh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return DO(s,o,n)},"PUBLIC")),zi(new ai("analytics-internal",r,"PRIVATE")),Fn(jE,kE),Fn(jE,kE,"esm2020");function r(e){try{const n=e.getProvider(zh).getImmediate();return{logEvent:(s,o,u)=>PO(n,s,o,u),setUserProperties:(s,o)=>VO(n,s,o)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}LO();const jO={apiKey:"AIzaSyBwaC_ySezVpfv9y9xHNromiTW77qJQlmA",authDomain:"boulangerie-da431.firebaseapp.com",projectId:"boulangerie-da431",storageBucket:"boulangerie-da431.firebasestorage.app",messagingSenderId:"324942492234",appId:"1:324942492234:web:afbc851e38b557a87f2cb3",measurementId:"G-3E7K2Y6N31"},yg=yT(jO);m4(yg);const ur=Y2(yg);OO(yg);const no={clients:lr(ur,"clients"),produits:lr(ur,"produits"),users:lr(ur,"users"),productionPrograms:lr(ur,"productionPrograms"),clientOrders:lr(ur,"clientOrders"),shopStock:lr(ur,"shopStock"),shopShifts:lr(ur,"shopShifts"),clientReturns:lr(ur,"clientReturns"),dailyReports:lr(ur,"dailyReports")},qn={async create(r,e){const n=no[r];return await mN(n,e)},async getById(r,e){const n=fh(no[r],e),s=await hN(n);return s.exists()?{id:s.id,...s.data()}:null},async getAll(r){return(await dE(no[r])).docs.map(n=>({id:n.id,...n.data()}))},async getByQuery(r,e){const n=oN(no[r],...e);return(await dE(n)).docs.map(o=>({id:o.id,...o.data()}))},async update(r,e,n){const s=fh(no[r],e);return await fN(s,n)},async delete(r,e){const n=fh(no[r],e);return await dN(n)}},kO=[{nom:"Baguette",description:"Baguette tradition franaise",unite:"piece",prixUnitaire:1.2,active:!0},{nom:"Baguette Pistolet",description:"Petite baguette individuelle",unite:"piece",prixUnitaire:.8,active:!0},{nom:"Pain au lait Nature",description:"Pain au lait nature",unite:"piece",prixUnitaire:.6,active:!0},{nom:"Pain au lait Choco",description:"Pain au lait aux ppites de chocolat",unite:"piece",prixUnitaire:.7,active:!0},{nom:"Pain Hamburger",description:"Pain spcial hamburger",unite:"piece",prixUnitaire:1.5,active:!0},{nom:"Pain Raisin",description:"Pain aux raisins",unite:"piece",prixUnitaire:1.8,active:!0},{nom:"Croissant Choco",description:"Croissant au chocolat",unite:"piece",prixUnitaire:1.4,active:!0},{nom:"Croissant Beurre",description:"Croissant au beurre",unite:"piece",prixUnitaire:1.2,active:!0},{nom:"Cake 100",description:"Cake format 100g",unite:"piece",prixUnitaire:3.5,active:!0},{nom:"Cake 200",description:"Cake format 200g",unite:"piece",prixUnitaire:6.5,active:!0},{nom:"Cake 300",description:"Cake format 300g",unite:"piece",prixUnitaire:9.5,active:!0},{nom:"Madeleine",description:"Madeleines traditionnelles",unite:"piece",prixUnitaire:.4,active:!0},{nom:"Cookies",description:"Cookies maison",unite:"piece",prixUnitaire:1.2,active:!0},{nom:"Dakaroise",description:"Spcialit Dakaroise",unite:"piece",prixUnitaire:2.5,active:!0},{nom:"Swiss Choco (Drops)",description:"Chocolat suisse en drops",unite:"piece",prixUnitaire:.8,active:!0}],UO=["Client A","Client B","Client C","Restaurant Central","Htel Teranga","Caf de la Paix","Boutique Plateau","March Kermel"],rh=!1,XA=xo((r,e)=>({produits:[],produitEnEdition:null,isLoadingProduits:!1,clients:[],clientEnEdition:null,isLoadingClients:!1,chargerProduits:async()=>{r({isLoadingProduits:!0});try{if(!rh){const n=await qn.getAll("produits");r({produits:n,isLoadingProduits:!1})}}catch(n){throw console.error("Erreur lors du chargement des produits:",n),r({isLoadingProduits:!1}),n}},ajouterProduit:async n=>{r({isLoadingProduits:!0});try{const s=new Date,o={...n,createdAt:s,updatedAt:s},h={id:(await qn.create("produits",o)).id,...o};r(m=>({produits:[...m.produits,h],isLoadingProduits:!1}))}catch(s){throw console.error("Erreur lors de l'ajout du produit:",s),r({isLoadingProduits:!1}),s}},modifierProduit:async(n,s)=>{r({isLoadingProduits:!0});try{const o={...s,updatedAt:new Date};await qn.update("produits",n,o),r(u=>({produits:u.produits.map(h=>h.id===n?{...h,...o}:h),isLoadingProduits:!1,produitEnEdition:null}))}catch(o){throw console.error("Erreur lors de la modification du produit:",o),r({isLoadingProduits:!1}),o}},supprimerProduit:async n=>{r({isLoadingProduits:!0});try{await qn.delete("produits",n),r(s=>({produits:s.produits.filter(o=>o.id!==n),isLoadingProduits:!1}))}catch(s){throw console.error("Erreur lors de la suppression du produit:",s),r({isLoadingProduits:!1}),s}},setProduitEnEdition:n=>{r({produitEnEdition:n})},chargerClients:async()=>{r({isLoadingClients:!0});try{if(!rh){const n=await qn.getAll("clients");r({clients:n,isLoadingClients:!1})}}catch(n){throw console.error("Erreur lors du chargement des clients:",n),r({isLoadingClients:!1}),n}},ajouterClient:async n=>{r({isLoadingClients:!0});try{const s=new Date,o={...n,createdAt:s,updatedAt:s},h={id:(await qn.create("clients",o)).id,...o};r(m=>({clients:[...m.clients,h],isLoadingClients:!1}))}catch(s){throw console.error("Erreur lors de l'ajout du client:",s),r({isLoadingClients:!1}),s}},modifierClient:async(n,s)=>{r({isLoadingClients:!0});try{const o={...s,updatedAt:new Date};await qn.update("clients",n,o),r(u=>({clients:u.clients.map(h=>h.id===n?{...h,...o}:h),isLoadingClients:!1,clientEnEdition:null}))}catch(o){throw console.error("Erreur lors de la modification du client:",o),r({isLoadingClients:!1}),o}},supprimerClient:async n=>{r({isLoadingClients:!0});try{await qn.delete("clients",n),r(s=>({clients:s.clients.filter(o=>o.id!==n),isLoadingClients:!1}))}catch(s){throw console.error("Erreur lors de la suppression du client:",s),r({isLoadingClients:!1}),s}},setClientEnEdition:n=>{r({clientEnEdition:n})},getProduitById:n=>{const{produits:s}=e();return s.find(o=>o.id===n)},getClientById:n=>{const{clients:s}=e();return s.find(o=>o.id===n)},getProduitsActifs:()=>{const{produits:n}=e();return n.filter(s=>s.active)},getClientsActifs:()=>{const{clients:n}=e();return n.filter(s=>s.active)},initialiserProduitsParDefaut:async()=>{r({isLoadingProduits:!0});try{if(!rh){const n=await qn.getAll("produits");if(n.length===0){for(const s of kO){const o=new Date,u={...s,createdAt:o,updatedAt:o};await qn.create("produits",u)}await e().chargerProduits()}else r({produits:n,isLoadingProduits:!1})}}catch(n){console.error("Erreur lors de l'initialisation des produits:",n),r({isLoadingProduits:!1})}},initialiserClientsParDefaut:async()=>{r({isLoadingClients:!0});try{if(!rh){const n=await qn.getAll("clients");if(n.length===0){for(const s of UO){const o=new Date,u={nom:s,adresse:"Adresse  dfinir",active:!0,createdAt:o,updatedAt:o};await qn.create("clients",u)}await e().chargerClients()}else r({clients:n,isLoadingClients:!1})}}catch(n){console.error("Erreur lors de l'initialisation des clients:",n),r({isLoadingClients:!1})}}})),zO=()=>{const{user:r,logout:e}=Hh();return _.jsx("header",{className:"bg-white border-b border-gray-200",children:_.jsx("div",{className:"px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between items-center h-16",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Dashboard"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Grez votre boulangerie efficacement"})]}),_.jsx("div",{className:"flex items-center space-x-4",children:r&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:_.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[r.nom.charAt(0),r.prenom.charAt(0)]})}),_.jsxs("div",{className:"text-sm",children:[_.jsxs("div",{className:"font-medium text-gray-900",children:[r.nom," ",r.prenom]}),_.jsx("div",{className:"text-gray-500 text-xs",children:r.role})]})]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Dconnexion",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})})})},qO=[{name:"Programme Production",href:"/production",roles:["admin","gestionnaire"]},{name:"Vue Boulanger",href:"/boulanger",roles:["admin","boulanger"]},{name:"Livraisons",href:"/livraison",roles:["admin","livreur"]},{name:"Boutique",href:"/boutique",roles:["admin","vendeuse"]},{name:"Rapport Journalier",href:"/rapport",roles:["admin","gestionnaire"]},{name:"Gestion Produits",href:"/admin/produits",roles:["admin"]}],BO={"Programme Production":"","Vue Boulanger":"",Livraisons:"",Boutique:"","Rapport Journalier":"","Gestion Produits":""},HO=()=>{const{user:r}=Hh(),e=qO.filter(n=>!r||n.roles.includes(r.role));return _.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 z-30",children:[_.jsx("div",{className:"flex items-center h-16 px-6 border-b border-gray-100",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white text-lg font-bold",children:"B"}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Boulangerie"}),_.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"Gestion Pro"})]})]})}),_.jsx("nav",{className:"mt-6 px-3",children:_.jsx("div",{className:"space-y-1",children:e.map(n=>_.jsxs(eT,{to:n.href,className:({isActive:s})=>`group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-150 ${s?"bg-orange-50 text-orange-700 border-l-4 border-orange-500":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[_.jsx("span",{className:"mr-3 text-base",children:BO[n.name]}),n.name]},n.name))})}),_.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-100",children:_.jsx("div",{className:"text-xs text-gray-500 text-center",children:_.jsx("p",{children:"Version 1.0.0"})})})]})},FO=({children:r})=>_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(HO,{}),_.jsxs("div",{className:"ml-64",children:[_.jsx(zO,{}),_.jsx("main",{className:"p-6",children:_.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]})]}),lt=({children:r,variant:e="primary",size:n="md",isLoading:s=!1,className:o="",disabled:u,...h})=>{const m="inline-flex items-center justify-center font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",g={primary:"bg-orange-500 hover:bg-orange-600 text-white focus:ring-orange-500 shadow-sm",secondary:"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500 shadow-sm",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500 shadow-sm",outline:"border border-gray-300 hover:bg-gray-50 text-gray-700 focus:ring-orange-500"},p={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},T=`${m} ${g[e]} ${p[n]} ${o}`;return _.jsxs("button",{className:T,disabled:u||s,...h,children:[s&&_.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})},Xt=({label:r,error:e,helperText:n,className:s="",id:o,...u})=>{const h=o||`input-${Math.random().toString(36).substr(2,9)}`;return _.jsxs("div",{className:"w-full",children:[r&&_.jsx("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),_.jsx("input",{id:h,className:`
          block w-full rounded-lg border border-gray-300 px-3 py-2
          focus:border-orange-500 focus:ring-orange-500 focus:ring-1 sm:text-sm
          transition-colors
          ${e?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${s}
        `,...u}),e&&_.jsx("p",{className:"mt-1 text-sm text-red-600",children:e}),n&&!e&&_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})},JA=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),{login:o,isLoading:u}=Hh(),h=async m=>{m.preventDefault();try{await o(r,n)}catch(g){console.error("Erreur de connexion:",g)}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-radient-to-br from-orange-50 to-amber-50 py-12 px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"max-w-md w-full space-y-8",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"mx-auto w-20 h-20 bg-radient-to-r from-orange-400 to-amber-500 rounded-full flex items-center justify-center text-4xl mb-6 shadow-lg",children:""}),_.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Boulangerie"}),_.jsx("p",{className:"text-lg text-gray-600",children:"Application de gestion"}),_.jsx("div",{className:"mt-4 w-24 h-1 bg-radient-to-r from-orange-400 to-amber-500 mx-auto rounded-full"})]}),_.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-8 border border-gray-100",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"text-xl font-semibold text-gray-900 text-center",children:"Connexion"}),_.jsx("p",{className:"text-sm text-gray-500 text-center mt-1",children:"Accdez  votre espace de gestion"})]}),_.jsxs("form",{onSubmit:h,className:"space-y-6",children:[_.jsx(Xt,{label:"Adresse email",type:"email",value:r,onChange:m=>e(m.target.value),required:!0,autoComplete:"email",placeholder:"votre@email.com",className:"border-gray-200 focus:border-orange-400 focus:ring-orange-400"}),_.jsx(Xt,{label:"Mot de passe",type:"password",value:n,onChange:m=>s(m.target.value),required:!0,autoComplete:"current-password",placeholder:"",className:"border-gray-200 focus:border-orange-400 focus:ring-orange-400"}),_.jsx(lt,{type:"submit",isLoading:u,className:"w-full bg-radient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white font-medium py-3 px-4 rounded-xl shadow-lg transform transition-transform hover:scale-105 focus:ring-2 focus:ring-orange-400 focus:ring-offset-2",children:u?"Connexion...":"Se connecter"})]}),_.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-100",children:[_.jsx("p",{className:"text-sm text-blue-700 text-center font-medium",children:" Mode Dveloppement"}),_.jsx("p",{className:"text-xs text-blue-600 text-center mt-1",children:"Vous tes automatiquement connect en tant qu'Admin"})]})]}),_.jsxs("div",{className:"text-center text-sm text-gray-500",children:[_.jsx("p",{children:"Application de gestion pour boulangeries artisanales"}),_.jsx("p",{className:"mt-1",children:"Production  Livraisons  Boutique  Rapports"})]})]})})},ut=({children:r,className:e="",title:n,subtitle:s})=>_.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow ${e}`,children:[(n||s)&&_.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[n&&_.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),s&&_.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s})]}),_.jsx("div",{className:"px-6 py-4",children:r})]}),up=({label:r,error:e,helperText:n,options:s,className:o="",id:u,...h})=>{const m=u||`select-${Math.random().toString(36).substr(2,9)}`;return _.jsxs("div",{className:"w-full",children:[r&&_.jsx("label",{htmlFor:m,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),_.jsx("select",{id:m,className:`
          block w-full rounded-lg border border-gray-300 px-3 py-2
          focus:border-orange-500 focus:ring-orange-500 focus:ring-1 sm:text-sm
          transition-colors bg-white
          ${e?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
          ${o}
        `,...h,children:s.map(g=>_.jsx("option",{value:g.value,disabled:g.disabled,children:g.label},g.value))}),e&&_.jsx("p",{className:"mt-1 text-sm text-red-600",children:e}),n&&!e&&_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})},GO=({produits:r,clients:e,onSave:n,onCancel:s,isLoading:o=!1})=>{const[u,h]=G.useState(""),[m,g]=G.useState(new Date().toISOString().split("T")[0]),[p,T]=G.useState([]),b=[{value:"",label:"Slectionnez un client"},...e.map($=>({value:$.id,label:$.nom}))],w=[{value:"",label:"Slectionnez un produit"},...r.filter($=>$.active).map($=>({value:$.id,label:`${$.nom} (${$.prixUnitaire?.toLocaleString("fr-FR")} FCFA)`}))],P=()=>{T([...p,{produitId:"",quantiteCommandee:0}])},Y=$=>{T(p.filter((K,re)=>re!==$))},Q=($,K,re)=>{const ce=[...p];if(ce[$]={...ce[$],[K]:re},K==="produitId"){const _e=r.find(C=>C.id===re);_e&&(ce[$].prixUnitaire=_e.prixUnitaire)}T(ce)},H=$=>{if($.preventDefault(),!u||p.length===0){alert("Veuillez slectionner un client et au moins un produit");return}const K=p.filter(ce=>ce.produitId&&ce.quantiteCommandee>0);if(K.length===0){alert("Veuillez saisir des quantits valides");return}const re={clientId:u,dateLivraison:new Date(m),dateCommande:new Date,statut:"prevue",produits:K};n(re),h(""),g(new Date().toISOString().split("T")[0]),T([])},ie=()=>p.reduce(($,K)=>{const re=r.find(ce=>ce.id===K.produitId);return re&&K.quantiteCommandee?$+(re.prixUnitaire||0)*K.quantiteCommandee:$},0);return _.jsx(ut,{title:"Nouvelle Commande Client",subtitle:"Crez une commande pour un client",children:_.jsxs("form",{onSubmit:H,className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx(up,{label:"Client *",value:u,onChange:$=>h($.target.value),options:b,required:!0}),_.jsx(Xt,{label:"Date de livraison *",type:"date",value:m,onChange:$=>g($.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Produits commands"}),_.jsx(lt,{type:"button",variant:"outline",onClick:P,children:"+ Ajouter un produit"})]}),p.length===0?_.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[_.jsx("p",{className:"text-gray-500",children:"Aucun produit ajout"}),_.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Cliquez sur "Ajouter un produit" pour commencer'})]}):_.jsxs("div",{className:"space-y-3",children:[p.map(($,K)=>{const re=r.find(ce=>ce.id===$.produitId);return _.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 p-4 bg-gray-50 rounded-lg",children:[_.jsx("div",{className:"md:col-span-2",children:_.jsx(up,{options:w,value:$.produitId,onChange:ce=>Q(K,"produitId",ce.target.value),required:!0})}),_.jsx("div",{children:_.jsx(Xt,{type:"number",placeholder:"Quantit",min:"1",value:$.quantiteCommandee||"",onChange:ce=>Q(K,"quantiteCommandee",parseInt(ce.target.value)||0),required:!0})}),_.jsx("div",{children:_.jsx(Xt,{type:"number",step:"1",placeholder:"Prix unit.",value:$.prixUnitaire||re?.prixUnitaire||"",onChange:ce=>Q(K,"prixUnitaire",parseFloat(ce.target.value)||0),className:"bg-gray-100"})}),_.jsxs("div",{className:"flex items-center justify-end",children:[_.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.quantiteCommandee&&($.prixUnitaire||re?.prixUnitaire)?`${($.quantiteCommandee*($.prixUnitaire||re?.prixUnitaire||0)).toLocaleString("fr-FR")} FCFA`:"0 FCFA"}),_.jsx("button",{type:"button",onClick:()=>Y(K),className:"ml-3 text-red-500 hover:text-red-700",children:""})]})]},K)}),_.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:_.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["Total: ",ie().toLocaleString("fr-FR")," FCFA"]})})]})]}),_.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[_.jsx(lt,{type:"button",variant:"outline",onClick:s,children:"Annuler"}),_.jsx(lt,{type:"submit",isLoading:o,disabled:!u||p.length===0,children:"Crer la commande"})]})]})})},QO=({produits:r,quantitesActuelles:e,onSave:n,onCancel:s})=>{const[o,u]=G.useState(""),[h,m]=G.useState(0),g=r.filter(b=>!e.some(w=>w.produitId===b.id)),p=[{value:"",label:"Slectionnez un produit"},...g.map(b=>({value:b.id,label:b.nom}))],T=b=>{if(b.preventDefault(),!o||h<=0){alert("Veuillez slectionner un produit et saisir une quantit valide");return}const w=r.find(P=>P.id===o);w&&(n({produitId:o,produit:w,quantite:h}),u(""),m(0))};return g.length===0?_.jsx(ut,{title:"Ajouter quantit boutique",children:_.jsxs("div",{className:"text-center py-8",children:[_.jsx("p",{className:"text-gray-500",children:"Tous les produits ont dj t ajouts"}),_.jsx(lt,{variant:"outline",onClick:s,className:"mt-4",children:"Fermer"})]})}):_.jsx(ut,{title:"Ajouter quantit boutique",subtitle:"Dfinissez les quantits  envoyer en boutique",children:_.jsxs("form",{onSubmit:T,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx(up,{label:"Produit *",value:o,onChange:b=>u(b.target.value),options:p,required:!0}),_.jsx(Xt,{label:"Quantit *",type:"number",min:"1",value:h||"",onChange:b=>m(parseInt(b.target.value)||0),placeholder:"Quantit pour la boutique",required:!0})]}),_.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[_.jsx(lt,{type:"button",variant:"outline",onClick:s,children:"Annuler"}),_.jsx(lt,{type:"submit",disabled:!o||h<=0,children:"Ajouter"})]})]})})},KO=()=>{const{programmeActuel:r,commandesClients:e,quantitesBoutique:n,creerNouveauProgramme:s,sauvegarderProgramme:o,envoyerAuBoulanger:u,ajouterCommandeClient:h,ajouterQuantiteBoutique:m,supprimerQuantiteBoutique:g,isLoading:p}=nT(),{produits:T,clients:b,initialiserProduitsParDefaut:w,initialiserClientsParDefaut:P}=XA(),[Y,Q]=G.useState(new Date().toISOString().split("T")[0]),[H,ie]=G.useState(!1),[$,K]=G.useState(!1);return G.useEffect(()=>{(async()=>{await w(),await P()})();const ce=new Date;ce.setDate(ce.getDate()+1),s(ce)},[s,w,P]),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Programme de Production"}),_.jsx("p",{className:"text-gray-600",children:"Gestion des commandes clients et quantits boutique"})]}),_.jsxs("div",{className:"flex space-x-3",children:[_.jsx(lt,{onClick:()=>o(),isLoading:p,variant:"outline",children:"Sauvegarder"}),_.jsx(lt,{onClick:()=>u(),disabled:!r||r.statut==="envoye",children:"Envoyer au Boulanger"})]})]}),_.jsx(ut,{title:"Date de production",children:_.jsx(Xt,{type:"date",label:"Date",value:Y,onChange:re=>Q(re.target.value),className:"max-w-xs"})}),H&&_.jsx(GO,{produits:T,clients:b,onSave:re=>{h(re),ie(!1)},onCancel:()=>ie(!1),isLoading:p}),_.jsx(ut,{title:"Commandes Clients",subtitle:"Ajoutez les commandes des clients pour le jour slectionn",children:_.jsxs("div",{className:"space-y-4",children:[_.jsx(lt,{variant:"outline",onClick:()=>ie(!0),disabled:H,children:"+ Ajouter une commande client"}),e.length===0?_.jsx("p",{className:"text-gray-500 text-center py-8",children:"Aucune commande client pour le moment"}):_.jsxs("div",{className:"space-y-4",children:[e.map(re=>{const ce=b.find(C=>C.id===re.clientId),_e=re.produits.reduce((C,x)=>C+(x.prixUnitaire||0)*x.quantiteCommandee,0);return _.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[_.jsxs("div",{className:"flex justify-between items-start mb-3",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold text-gray-900",children:ce?.nom||"Client inconnu"}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Livraison: ",new Date(re.dateLivraison).toLocaleDateString("fr-FR")]})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("div",{className:"font-semibold text-orange-600",children:[_e.toLocaleString("fr-FR")," FCFA"]}),_.jsxs("div",{className:"text-xs text-gray-500",children:[re.produits.length," produit(s)"]})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:re.produits.map((C,x)=>{const R=T.find(V=>V.id===C.produitId);return _.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-medium",children:R?.nom||"Produit inconnu"}),_.jsxs("span",{className:"text-gray-600 ml-2",children:["x",C.quantiteCommandee]})]},x)})})]},re.id)}),_.jsx("div",{className:"pt-4 border-t border-gray-200",children:_.jsxs("p",{className:"text-sm text-gray-600",children:[_.jsx("span",{className:"font-medium",children:e.length})," commande(s) enregistre(s)",_.jsxs("span",{className:"ml-4",children:["Total: ",_.jsxs("span",{className:"font-semibold text-orange-600",children:[e.reduce((re,ce)=>re+ce.produits.reduce((_e,C)=>_e+(C.prixUnitaire||0)*C.quantiteCommandee,0),0).toLocaleString("fr-FR")," FCFA"]})]})]})})]})]})}),$&&_.jsx(QO,{produits:T,quantitesActuelles:n,onSave:re=>{m(re),K(!1)},onCancel:()=>K(!1)}),_.jsx(ut,{title:"Quantits Boutique",subtitle:"Dfinissez les quantits  envoyer en boutique",children:_.jsxs("div",{className:"space-y-4",children:[_.jsx(lt,{variant:"outline",onClick:()=>K(!0),disabled:$,children:"+ Ajouter un produit boutique"}),n.length===0?_.jsx("p",{className:"text-gray-500 text-center py-8",children:"Aucune quantit boutique dfinie"}):_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(re=>{const ce=T.find(_e=>_e.id===re.produitId);return _.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"font-medium text-gray-900",children:ce?.nom||"Produit inconnu"}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Quantit: ",_.jsx("span",{className:"font-semibold",children:re.quantite})]})]}),_.jsx("button",{onClick:()=>g(re.produitId),className:"text-red-500 hover:text-red-700 text-sm",children:""})]})},re.produitId)})}),_.jsx("div",{className:"pt-4 border-t border-gray-200",children:_.jsxs("p",{className:"text-sm text-gray-600",children:[_.jsx("span",{className:"font-medium",children:n.length})," produit(s) dfini(s)",_.jsxs("span",{className:"ml-4",children:["Total: ",_.jsxs("span",{className:"font-semibold text-orange-600",children:[n.reduce((re,ce)=>re+ce.quantite,0)," pices"]})]})]})})]})]})}),r?.totauxParProduit&&r.totauxParProduit.length>0&&_.jsx(ut,{title:"Totaux  Produire",subtitle:"Rcapitulatif des quantits totales par produit",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clients"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boutique"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.totauxParProduit.map(re=>_.jsxs("tr",{children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re.produit?.nom||re.produitId}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.totalClient}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.totalBoutique}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re.totalGlobal})]},re.produitId))})]})})})]})},YO=()=>{const{programmeActuel:r,chargerProgramme:e}=nT();G.useEffect(()=>{e(new Date)},[e]);const n=r?.totauxParProduit||[];return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Vue Boulanger"}),_.jsx("p",{className:"text-gray-600",children:"Quantits  produire pour aujourd'hui"})]}),r&&_.jsx(ut,{children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-medium",children:["Programme du ",new Date(r.date).toLocaleDateString("fr-FR")]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Statut: ",r.statut]})]}),_.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${r.statut==="envoye"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r.statut==="envoye"?"Programme confirm":"En attente"})]})}),n.length===0?_.jsx(ut,{children:_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun programme de production"}),_.jsx("p",{className:"text-gray-600",children:"En attente du programme de production de la part du gestionnaire"})]})}):_.jsx(ut,{title:" Quantits  Produire",subtitle:`${n.length} produit(s)  fabriquer`,children:_.jsxs("div",{className:"space-y-4",children:[n.map(s=>_.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.produit?.nom||s.produitId}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Clients: ",s.totalClient,"  Boutique: ",s.totalBoutique]})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.totalGlobal}),_.jsx("div",{className:"text-sm text-gray-500",children:" produire"})]})]},s.produitId)),_.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:_.jsxs("div",{className:"flex justify-between text-lg font-medium",children:[_.jsx("span",{children:"Total des pices  produire:"}),_.jsx("span",{className:"text-blue-600",children:n.reduce((s,o)=>s+o.totalGlobal,0)})]})})]})})]})},$O=()=>{const{livraisonsJour:r,chargerLivraisonsDuJour:e,commencerLivraison:n,terminerLivraison:s,saisirInvendusClient:o,sauvegarderInvendus:u,isLoading:h}=h1(),[m,g]=G.useState(new Date().toISOString().split("T")[0]);return G.useEffect(()=>{e(new Date(m))},[m,e]),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Livraisons"}),_.jsx("p",{className:"text-gray-600",children:"Gestion des tournes et saisie des invendus clients"})]}),_.jsx(lt,{onClick:()=>u(),isLoading:h,disabled:r.length===0,children:"Sauvegarder les invendus"})]}),_.jsx(ut,{title:"Date de livraison",children:_.jsx(Xt,{type:"date",label:"Date",value:m,onChange:p=>g(p.target.value),className:"max-w-xs"})}),r.length===0?_.jsx(ut,{children:_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune livraison prvue"}),_.jsx("p",{className:"text-gray-600",children:"Aucune commande client pour cette date"})]})}):_.jsx("div",{className:"space-y-4",children:r.map(p=>_.jsx(ut,{title:` ${p.client?.nom||"Client inconnu"}`,subtitle:p.client?.adresse,children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${p.statut==="termine"?"bg-green-100 text-green-800":p.statut==="en_cours"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[p.statut==="termine"&&" Termin",p.statut==="en_cours"&&" En cours",p.statut==="a_livrer"&&"  livrer"]}),p.statut==="a_livrer"&&_.jsx(lt,{size:"sm",onClick:()=>n(p.clientId),children:"Commencer livraison"}),p.statut==="en_cours"&&_.jsx(lt,{size:"sm",variant:"outline",onClick:()=>s(p.clientId),children:"Terminer livraison"})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:" livrer"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Invendus"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.produits.map(T=>_.jsxs("tr",{children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.produit?.nom||T.produitId}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.quantiteLivree}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx(Xt,{type:"number",min:"0",max:T.quantiteLivree,value:T.invendus,onChange:b=>o(p.clientId,T.produitId,parseInt(b.target.value)||0),className:"w-20",disabled:p.statut==="a_livrer"})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:T.vendu})]},T.produitId))})]})})]})},p.id))})]})},XO=()=>{const{stockJour:r,equipeMatin:e,equipeSoir:n,ventesJour:s,commencerEquipeMatin:o,commencerEquipeSoir:u,saisirVenteMatin:h,saisirVenteSoir:m,terminerEquipeMatin:g,terminerEquipeSoir:p,sauvegarderEquipe:T,calculerVentesBoutique:b}=f1(),[w,P]=G.useState(""),[Y,Q]=G.useState(""),[H,ie]=G.useState(new Date().toISOString().split("T")[0]),$=new Date(H);return _.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex justify-between items-center",children:_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Gestion Boutique"}),_.jsx("p",{className:"text-gray-600",children:"Suivi des ventes matin et soir"})]})}),_.jsx(ut,{title:"Date",children:_.jsx(Xt,{type:"date",label:"Date",value:H,onChange:K=>ie(K.target.value),className:"max-w-xs"})}),!r&&_.jsx(ut,{title:" Stock de dpart",subtitle:"Enregistrez les produits reus de la production",children:_.jsxs("div",{className:"text-center py-8",children:[_.jsx(lt,{children:"Enregistrer le stock reu"}),_.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"En attente des produits de la production"})]})}),r&&_.jsx(ut,{title:" quipe Matin",subtitle:"Gestion des ventes du matin (jusqu' 14h)",children:e?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsxs("p",{className:"font-medium",children:["Vendeuse: ",e.vendeuse]}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Statut: ",e.statut==="termine"?" Termin":" En cours"]})]}),e.statut==="en_cours"&&_.jsx(lt,{size:"sm",onClick:()=>{g(),T("matin")},children:"Terminer l'quipe matin"})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock dbut"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu matin"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Reste midi"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.produits.map(K=>_.jsxs("tr",{children:[_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:K.produit?.nom||K.produitId}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:K.stockDebut}),_.jsx("td",{className:"px-4 py-2",children:_.jsx(Xt,{type:"number",min:"0",max:K.stockDebut,value:K.vendu,onChange:re=>h(K.produitId,parseInt(re.target.value)||0),className:"w-20",disabled:e.statut==="termine"})}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-blue-600",children:K.reste})]},K.produitId))})]})})]}):_.jsxs("div",{className:"space-y-4",children:[_.jsx(Xt,{label:"Nom de la vendeuse",value:w,onChange:K=>P(K.target.value),placeholder:"Entrez le nom de la vendeuse du matin"}),_.jsx(lt,{onClick:()=>{w.trim()&&o(w,$)},disabled:!w.trim(),children:"Commencer l'quipe matin"})]})}),e?.statut==="termine"&&_.jsx(ut,{title:" quipe Soir",subtitle:"Gestion des ventes du soir (aprs 14h)",children:n?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsxs("p",{className:"font-medium",children:["Vendeuse: ",n.vendeuse]}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Statut: ",n.statut==="termine"?" Termin":" En cours"]})]}),n.statut==="en_cours"&&_.jsx(lt,{size:"sm",onClick:()=>{p(),T("soir"),b()},children:"Terminer l'quipe soir"})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock dbut soir"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu soir"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Invendu boutique"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.produits.map(K=>_.jsxs("tr",{children:[_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:K.produit?.nom||K.produitId}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:K.stockDebut}),_.jsx("td",{className:"px-4 py-2",children:_.jsx(Xt,{type:"number",min:"0",max:K.stockDebut,value:K.vendu,onChange:re=>m(K.produitId,parseInt(re.target.value)||0),className:"w-20",disabled:n.statut==="termine"})}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-red-600",children:K.reste})]},K.produitId))})]})})]}):_.jsxs("div",{className:"space-y-4",children:[_.jsx(Xt,{label:"Nom de la vendeuse",value:Y,onChange:K=>Q(K.target.value),placeholder:"Entrez le nom de la vendeuse du soir"}),_.jsx(lt,{onClick:()=>{Y.trim()&&u(Y,$)},disabled:!Y.trim(),children:"Commencer l'quipe soir"})]})}),s&&_.jsx(ut,{title:" Rcapitulatif de la journe",subtitle:"Bilan des ventes de la boutique",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock dbut"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu matin"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu soir"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total vendu"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Invendu"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.produits.map(K=>_.jsxs("tr",{children:[_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:K.produit?.nom||K.produitId}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:K.stockDebut}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:K.venduMatin}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:K.venduSoir}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-green-600",children:K.venduTotal}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-red-600",children:K.invenduBoutique})]},K.produitId))})]})})})]})},JO=()=>{const{rapportJour:r,indicateurs:e,genererRapportJour:n,validerRapport:s,chargerRapport:o,isLoading:u}=d1(),[h,m]=G.useState(new Date().toISOString().split("T")[0]),g=()=>{n(new Date(h))};return G.useEffect(()=>{o(new Date(h))},[h,o]),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Rapport Journalier"}),_.jsx("p",{className:"text-gray-600",children:"Bilan complet des activits de la journe"})]}),_.jsxs("div",{className:"flex space-x-3",children:[_.jsx(lt,{onClick:g,isLoading:u,variant:"outline",children:"Gnrer le rapport"}),r&&r.statut==="genere"&&_.jsx(lt,{onClick:()=>s(),children:"Valider le rapport"})]})]}),_.jsx(ut,{title:"Date du rapport",children:_.jsx(Xt,{type:"date",label:"Date",value:h,onChange:p=>m(p.target.value),className:"max-w-xs"})}),e&&_.jsxs(ut,{title:" Indicateurs de Performance",subtitle:"Rsum des performances de la journe",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[e.tauxVenteGlobal.toFixed(1),"%"]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Taux de vente global"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[e.tauxVenteClients.toFixed(1),"%"]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Taux de vente clients"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[e.tauxVenteBoutique.toFixed(1),"%"]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Taux de vente boutique"})]})]}),_.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6 pt-6 border-t",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.pertesTotales}),_.jsx("div",{className:"text-sm text-gray-600",children:"Pertes totales"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-red-500",children:e.pertesClients}),_.jsx("div",{className:"text-sm text-gray-600",children:"Invendus clients"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-red-400",children:e.pertesBoutique}),_.jsx("div",{className:"text-sm text-gray-600",children:"Invendus boutique"})]})]})]}),r?_.jsx(ut,{title:" Rapport Dtaill par Produit",subtitle:`Rapport du ${new Date(r.date).toLocaleDateString("fr-FR")} - Statut: ${r.statut}`,children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Prvu"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Produit"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu Total"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu Clients"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendu Boutique"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Invendus Total"}),_.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Taux Vente"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.produits.map(p=>_.jsxs("tr",{children:[_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:p.produit?.nom||p.produitId}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:p.quantitePrevue}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:p.quantiteProduite}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-green-600",children:p.quantiteVendueTotal}),_.jsx("td",{className:"px-4 py-2 text-sm text-green-500",children:p.quantiteVendueClients}),_.jsx("td",{className:"px-4 py-2 text-sm text-green-400",children:p.quantiteVendueBoutique}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-red-600",children:p.invendusTotal}),_.jsx("td",{className:"px-4 py-2 text-sm",children:_.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${p.tauxVenteGlobal>=90?"bg-green-100 text-green-800":p.tauxVenteGlobal>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.tauxVenteGlobal.toFixed(1),"%"]})})]},p.produitId))}),_.jsx("tfoot",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:"TOTAUX"}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:r.totaux.quantitePrevue}),_.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:r.totaux.quantiteProduite}),_.jsx("td",{className:"px-4 py-2 text-sm font-bold text-green-600",children:r.totaux.quantiteVendueTotal}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:"-"}),_.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:"-"}),_.jsx("td",{className:"px-4 py-2 text-sm font-bold text-red-600",children:r.totaux.invendusTotal}),_.jsxs("td",{className:"px-4 py-2 text-sm font-bold text-blue-600",children:[r.totaux.tauxVenteGlobal.toFixed(1),"%"]})]})})]})})}):_.jsx(ut,{children:_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun rapport gnr"}),_.jsx("p",{className:"text-gray-600",children:'Cliquez sur "Gnrer le rapport" pour crer le rapport de la journe'})]})})]})},ZO=({produit:r,onSave:e,onCancel:n,isLoading:s=!1})=>{const[o,u]=G.useState({nom:"",prixUnitaire:0,active:!0});G.useEffect(()=>{r&&u({nom:r.nom,prixUnitaire:r.prixUnitaire||0,active:r.active})},[r]);const h=async m=>{m.preventDefault();try{const g={...o,description:"",unite:"piece"};await e(g),r||u({nom:"",prixUnitaire:0,active:!0})}catch(g){console.error("Erreur lors de la sauvegarde:",g)}};return _.jsx(ut,{title:r?"Modifier le produit":"Ajouter un produit",subtitle:"Remplissez les informations du produit",children:_.jsxs("form",{onSubmit:h,className:"space-y-4",children:[_.jsx(Xt,{label:"Nom du produit *",value:o.nom,onChange:m=>u({...o,nom:m.target.value}),placeholder:"ex: Pain de campagne",required:!0}),_.jsx(Xt,{label:"Prix unitaire (FCFA)",type:"number",step:"1",min:"0",value:o.prixUnitaire,onChange:m=>u({...o,prixUnitaire:parseFloat(m.target.value)||0}),placeholder:"0"}),_.jsxs("div",{className:"flex items-center",children:[_.jsx("input",{id:"active",type:"checkbox",checked:o.active,onChange:m=>u({...o,active:m.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),_.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"Produit actif"})]}),_.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[_.jsx(lt,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),_.jsx(lt,{type:"submit",isLoading:s,disabled:!o.nom.trim(),children:r?"Modifier":"Ajouter"})]})]})})},WO=()=>{const{produits:r,produitEnEdition:e,isLoadingProduits:n,chargerProduits:s,ajouterProduit:o,modifierProduit:u,supprimerProduit:h,setProduitEnEdition:m}=XA(),[g,p]=G.useState(!1);G.useEffect(()=>{s()},[s]);const T=async Q=>{await o(Q),p(!1)},b=async Q=>{e&&(await u(e.id,Q),m(null),p(!1))},w=async Q=>{window.confirm(`tes-vous sr de vouloir supprimer "${Q.nom}" ?`)&&await h(Q.id)},P=()=>{m(null),p(!1)},Y=Q=>{m(Q),p(!0)};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Produits"}),_.jsx("p",{className:"text-gray-600 mt-1",children:"Grez votre catalogue de produits de boulangerie"})]}),_.jsx(lt,{onClick:()=>p(!0),disabled:g,children:"Ajouter un produit"})]}),g&&_.jsx(ZO,{produit:e,onSave:e?b:T,onCancel:P,isLoading:n}),_.jsx(ut,{title:"Liste des produits",subtitle:`${r.length} produit(s) enregistr(s)`,children:n?_.jsxs("div",{className:"text-center py-8",children:[_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),_.jsx("p",{className:"mt-2 text-gray-600",children:"Chargement..."})]}):r.length===0?_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"text-6xl mb-4",children:""}),_.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun produit"}),_.jsx("p",{className:"text-gray-600",children:"Commencez par ajouter vos premiers produits de boulangerie"})]}):_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(Q=>_.jsxs("tr",{className:"hover:bg-gray-50",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.nom})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Q.prixUnitaire?`${Q.prixUnitaire.toLocaleString("fr-FR")} FCFA`:"-"}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Q.active?"Actif":"Inactif"})}),_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[_.jsx("button",{onClick:()=>Y(Q),className:"text-blue-600 hover:text-blue-900",disabled:g,children:"Modifier"}),_.jsx("button",{onClick:()=>w(Q),className:"text-red-600 hover:text-red-900",disabled:n,children:"Supprimer"})]})]},Q.id))})]})})})]})},io=({children:r})=>{const{isAuthenticated:e}=Hh();return e?_.jsx(FO,{children:r}):_.jsx(JA,{})};function eM(){return _.jsx(Wx,{children:_.jsxs(Nx,{children:[_.jsx(cr,{path:"/login",element:_.jsx(JA,{})}),_.jsx(cr,{path:"/production",element:_.jsx(io,{children:_.jsx(KO,{})})}),_.jsx(cr,{path:"/boulanger",element:_.jsx(io,{children:_.jsx(YO,{})})}),_.jsx(cr,{path:"/livraison",element:_.jsx(io,{children:_.jsx($O,{})})}),_.jsx(cr,{path:"/boutique",element:_.jsx(io,{children:_.jsx(XO,{})})}),_.jsx(cr,{path:"/rapport",element:_.jsx(io,{children:_.jsx(JO,{})})}),_.jsx(cr,{path:"/admin/produits",element:_.jsx(io,{children:_.jsx(WO,{})})}),_.jsx(cr,{path:"/",element:_.jsx(Cx,{to:"/production",replace:!0})})]})})}kw.createRoot(document.getElementById("root")).render(_.jsx(G.StrictMode,{children:_.jsx(eM,{})}));
